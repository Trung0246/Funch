/*https://github.com/Trung0246/funch/ v0.19a*/

!function(n,t){"use strict";let r=t.Math,e=t.Number,u=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],i=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],o=[.9999999999999999,2.224574423459406,2.444115549920689,1.7057986861852539,.8257463703357973,.28647031042892007,.07124513844341643,.012296749268608364,.001347817214557592,7263959403471071e-20,1,3.352953590554884,5.227518529742423,5.003720878235473,3.266590890998987,1.5255421920765353,.5185887413188858,.12747319185915415,.02185979575963238,.0023889438122503674,.00012875032817508128,.5641895835477563],c=[-39.6968302866538,220.946098424521,-275.928510446969,138.357751867269,-30.6647980661472,2.50662827745924,-54.4760987982241,161.585836858041,-155.698979859887,66.8013118877197,-13.2806815528857,-.00778489400243029,-.322396458041136,-2.40075827716184,-2.54973253934373,4.37466414146497,2.93816398269878,.00778469570904146,.32246712907004,2.445134137143,3.75440866190742,.02425],f=[1/2.75,2/2.75,1.5/2.75,2.5/2.75,2.25/2.75,2.625/2.75],l=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],s=r.pow(2,32),a=.5*(r.sqrt(3)-1),x=(3-r.sqrt(3))/6,h=1/6,y=1/3,M=80*r.sqrt(10),g=r.PI/180,m=180/r.PI,p=r.sqrt(3)/2,b=r.round,d=r.floor,G=r.ceil,T=r.trunc,P=r.pow,N=r.random,I=[],q=[],L=[],w={},E={},_=[],v=[];for(let n=0;6>n;n++)_.push({x:0,y:0,flag:!1});function A(n,t){return null==n?t:n}function S(n,t){return null!=n?n:t?{}:[]}function R(){I.length=0,q.length=0,L.length=0}function B(){for(let n in w)w.hasOwnProperty(n)&&delete w[n];for(let n in E)E.hasOwnProperty(n)&&delete E[n]}function C(n,t){switch(n){case 0:return b(t);case 1:return d(t);case 2:return G(t);case 3:return T(t);case 4:return t>0?G(t):d(t)}}function k(n,t){return(65535&n)*t+(((n>>>16)*t&65535)<<16)&4294967295}function O(n,t){let e,u,i,o,c=0>n?-1:1,f=0>t?-1:1,l=0,s=1,a=1,x=0;for(n=r.abs(n),t=r.abs(t);0!==n;)u=t%n,i=l-a*(e=d(t/n)),o=s-x*e,t=n,n=u,l=a,s=x,a=i,x=o;I[0]=t,I[1]=c*l,I[2]=f*s}function Q(n){return n^=n>>12,2*((n^=n<<25)^n>>27)}e.EPSILON||(e.EPSILON=1-3*(4/3-1));let V=function(){let n,t,r,e,u,i,o;function c(n,t,r){i^=t>>>n,o^=r>>>n|(t&4294967295>>>32-n)<<32-n}return function(){n=I[0],t=I[1],r=I[2],e=I[3],u=(e>>>0)+(t>>>0),I[5]=r+n+(u/2>>>31)>>>0,I[6]=u>>>0,I[0]=r,I[1]=e,i=(n^=i=n<<23|(-512&t)>>>9)^r,o=(t^=o=t<<23)^e,c(18,n,t),c(5,r,e),I[2]=i,I[3]=o}}();function F(){let n,t=arguments[2],r=arguments.length-1;for(n=0;r>n;n++){let r=0|arguments[n];t=27492+(65535&(t=5*(65535&(t=(t^=r=k(r=(r=k(r,3432918353))<<15|r>>>17,461845907))<<13|t>>>19))+((5*(t>>>16)&65535)<<16)&4294967295))+((58964+(t>>>16)&65535)<<16)}return((t=k((t=k((t^=r)^t>>>16,2246822507))^t>>>13,3266489909))^t>>>16)>>>0}function j(n){let t=27*(n*=10)*n+360*n+800,e=M*r.sqrt(n+10);return.075*(r.cbrt((t-e)*n)+r.cbrt((t+e)*n)+3*n)}function D(n,t,r,e,u,i,o,c){let f=jn(i.x,i.y,r.x,r.y,!0);if(f<c.dist){let r=1/jn(u.x,u.y,e.x,e.y,!0),i=-(u.y-e.y)*r,l=(u.x-e.x)*r,s=2*(n*i+t*l);c.dist=f,c.norm_x=i,c.norm_y=l,c.refl_x=-s*i+n,c.refl_y=-s*l+t,c.edge=o}}function H(n,t,r,e,u){let i,o,c,f,l=n.x-t.x,s=n.y-t.y,a=r.x-t.x,x=r.y-t.y;0>(f=(l*a+s*x)/(a*a+x*x))||t.x===r.x&&t.y===r.y?(i=t.x,o=t.y):f>1?(i=r.x,o=r.y):(i=t.x+f*a,o=t.y+f*x),(c=jn(i,o,n.x,n.y,!0))<u.dist&&(u.dist=c,u.edge=e,u.point_x=i,u.point_y=o)}function U(n,t,e,u,i,o){let c=n.x-t.x,f=e.x-u.x,l=n.y-t.y,s=e.y-u.y,a=c*s-l*f;if(0===a)return null;let x=n.x*t.y-n.y*t.x,h=e.x*u.y-e.y*u.x,y=1/a;return i.x=(x*f-c*h)*y,i.y=(x*s-l*h)*y,function(n,t,e,u){let i=r.min(t.x,e.x),o=r.max(t.x,e.x),c=r.min(t.y,e.y),f=r.max(t.y,e.y);return i===o?c<=n.y&&n.y<=f:c===f?i<=n.x&&n.x<=o:!(i>n.x+u||n.x-u>o||c>n.y+u||n.y-u>f)}(i,e,u,o)?l>0&&i.y>n.y||0>l&&i.y<n.y?null:c>0&&i.x>n.x||0>c&&i.x<n.x?null:i:null}function X(n,t,r,u,i){R();let o,c=!0,f=2===u?1:-1;if("number"==typeof r||r instanceof e||(r=10),n===Infinity*f)return NaN;for(n===-Infinity*f&&(n=f*-e.MAX_VALUE/10),r>10&&(i=P(1e-32,r/32)),o=0;5>o;o++)n+=f*i,I.push(n),q.push(t(n));for(o=0;o<q.length;o++)L.push(Tn(q[o],r));for(o=1;o<L.length;o++)c=c&&L[o-1]===L[o];return!0===c?L[0]:NaN}function z(n,t,r,e){return 1-n*(t-1)*(e-1)*r/(100*t)}function W(n,t,r,e){v[n]||v.push({}),v[n].a=t,v[n].b=r,v[n].H=e}function K(n,t,e,u){let i;if(e=A(e,.1),u=A(u,.1),0===t)return 0;if(1===t)return 1;switch(1>e?(e=1,i=u/4):i=u*ht(e)/J,n){case 0:return e*hn(1024,t-1)*r.sin(J*(i-t+1)/u);case 1:return 1-e*hn(2,-10*t)*r.sin(J*(i-t)/u);case 2:return i=r.sin(J*(i-2*t+1)/u),.5>t?e*hn(2,20*t-11)*i:1-e*hn(2,9-20*t)*i}}function Y(n){if(R(),I[0]=N(),I[1]=N(),n&&I[1]<I[0]){let n=I[1];I[1]=I[0],I[0]=n}}let Z=r.PI/2,J=2*r.PI,$=r.sqrt(r.PI),nn=r.sqrt(J),tn=(1+r.sqrt(5))/2,rn=1+r.SQRT2,en=r.log(1+r.SQRT2)+r.SQRT2,un=4*(r.SQRT2-1)/3,on=(r.cbrt(108+12*r.sqrt(69))+r.cbrt(108-12*r.sqrt(69)))/6,cn=r.log;function fn(n,t){return t=A(t,r.E),cn(n)/cn(t)}function ln(n,t){return n-d(n/t)*t}function sn(n,t){if(t=A(t,7),.5>n)return r.PI/(r.sin(n*r.PI)*sn(1-n,t));n--;let e=u[0];for(let r=1;t+2>r;r++)e+=u[r]/(n+r);let i=n+t+.5;return nn*hn(i,n+.5)*r.exp(-i)*e}function an(n){let t,r=1.000000000190015,e=n,u=n;t=n+5.5,t-=(e+.5)*cn(t);for(let n=0;6>n;n++)r+=i[n]/++u;return cn(nn*r/e)-t}function xn(n,t){let r=1;for(let e=0;t>e;e++)r*=(n-e)/(e+1);return r}function hn(n,t){switch(t){case.5:return r.sqrt(n);case y:return r.cbrt(n)}let u=P(n,t);return e.isNaN(u)&&0>n&&!Mt(1/t)?-P(r.abs(n),t):u}function yn(n,t){let r=1,e=1,u=n;t=A(t,50);for(let i=1;t>i;i++)r*=i,u+=(e*=-1)*P(n,2*i+1)/(r*(2*i+1));return 2*u/$}function Mn(n,t){return 1-yn(n,t)}function gn(n){return-pn(n/2)/r.SQRT2}function mn(n){if(0>n)return-6.1>n?2*r.exp(n*n):2*r.exp(n*n)-mn(-n);if(n>50){let t=n*n;return n>5e7?o[21]/n:o[21]*(t*(t+4.5)+2)/(n*(t*(t+5)+3.75))}let t=0,e=0;for(let r=9;r>-1&&(t+=o[r],0!==r);r--)t*=n;for(let t=20;t>9&&(e+=o[t],10!==t);t--)e*=n;return t/e}function pn(n){let t,e,u,i=0,o=0;if(n<c[21]){t=r.sqrt(-2*cn(n));for(let n=11;17>n&&(i+=c[n],16!==n);n++)i*=t;for(let n=17;21>n;n++)o+=c[n],o*=t;u=i/(o+=1)}else{e=(t=n-.5)*t;for(let n=0;6>n;n++){if(i+=c[n],5===n){i*=t;break}i*=e}for(let n=6;11>n;n++)o+=c[n],o*=e;u=(i/=o+=1)-nn*(.5*mn(-i/r.SQRT2)-r.exp(.5*i*i)*n)}return u}function bn(n,t,r){return xn(r,t)*hn(n,t)*hn(1-n,r-t)}function dn(n,t,r,e){let u;return r=A(r,0),C(n,t*(u=hn(e=A(e,10),r)))/u}function Gn(n,t,e,u){let i,o,c;e=A(e,0),i=A(u=A(u,10),10);let f=r.abs(t);return o=10===i?r.log10(f):2===i?r.exp(f):fn(f,i),o=d(o-e+1),c=hn(i,r.abs(o)),0>o?C(n,t*c)/c:C(n,t/c)*c}let Tn=dn.bind(this,0),Pn=dn.bind(this,1),Nn=dn.bind(this,2),In=dn.bind(this,3),qn=dn.bind(this,4),Ln=Gn.bind(this,0),wn=Gn.bind(this,1),En=Gn.bind(this,2),_n=Gn.bind(this,3),vn=Gn.bind(this,4);function An(n,t){return gt(n,t)?n:-n}function Sn(n,t,r){return t>n?t:n>r?r:n}function Rn(n,t,r){return n*(r-t)+t}function Bn(n,t,r,e,u,i){if((n=A(n,0))>(t=A(t,1)))return null==u?0:u;if(n===t)return null==i?n:i;let o;return e?(R(),I[0]="number"==typeof e?e:A(e[0],0),I[1]=A(e[1],0),I[2]=A(e[2],0),I[3]=A(e[3],0),I[4]=A(e[4],0),V(),o=F(I[5],I[6],I[4])/s):o=N(),r?(n=G(n),t=d(t),o=d(o*(t-n+1))+n):o=o*(t-n)+n,o}let Cn=function(){let n,t,r,e,u,i,o,c,f,s,M,g,m,p,b,G,T,P;function N(t,r,u,i,c){c?(m=s-r+c*h,p=M-u+c*h,b=g-i+c*h):(m=s,p=M,b=g),T=.6-m*m-p*p-b*b,G=t[n+r+t[e+u+t[o+i]]],q()}function I(t,r,u,i){i?(m=s-r+i*x,p=M-u+i*x):(m=s,p=M),T=.5-m*m-p*p,G=t[n+r+t[e+u]],q()}function q(){0>T||(P+=(T*=T)*T*ut(l[G][0],l[G][1],m,p))}return function(l,m,p,b){return P=0,"number"==typeof b?(n=d(m+(T=(m+p+b)*y)),e=d(p+T),o=d(b+T),g=b-(o-(T=(n+e+o)*h)),(M=p-(e-T))>(s=m-(n-T))?g>M?(t=0,u=0,c=1,r=0,i=1,f=1):g>s?(t=0,u=1,c=0,r=0,i=1,f=1):(t=0,u=1,c=0,r=1,i=1,f=0):g>M?g>s?(t=0,u=0,c=1,r=1,i=0,f=1):(t=1,u=0,c=0,r=1,i=0,f=1):(t=1,u=0,c=0,r=1,i=1,f=0),n&=255,e&=255,o&=255,N(l,0,0,0),N(l,t,u,c,1),N(l,r,i,f,2),N(l,1,1,1,3),32*P):(n=d(m+(t=(m+p)*a)),e=d(p+t),(s=m-(n-(u=(n+e)*x)))>(M=p-(e-u))?(t=1,u=0):(t=0,u=1),n&=255,e&=255,I(l,0,0),I(l,t,u,1),I(l,1,1,2),70*P)}}();function kn(n){return(n=On(n))>r.PI&&(n-=J),n}function On(n){return ln(n,J)}function Qn(n){return ln(n,360)}function Vn(n,t,e,u){return r.atan2(u-t,e-n)}function Fn(n,t,e){if(n=On(n),t=On(t),On((e=On(e))-t)>=r.PI){let n=t;t=e,e=n}return t>e?n>=t||e>=n:n>=t&&e>=n}function jn(n,t,e,u,i){let o,c=n-e,f=t-u;return o=c*c+f*f,i&&(o=r.sqrt(o)),o}function Dn(n,t,r,e){return(e-t)/(r-n)}function Hn(n,t,e,u,i,o,c,f){if(n)return r.abs((i-e)*o-(u-t)*c+u*e-i*t)/jn(t,e,u,i,!0);{let n=jn(t,e,u,i,!1);if(0===n)return jn(o,c,t,e,f);let l=ut(o-t,c-e,u-t,i-e)/n;return jn(o,c,t+(l=r.max(0,r.min(1,l)))*(u-t),e+l*(i-e),f)}}function Un(n,t,r,u,i,o,c,f,l,s){let a,x,h,y,M,g,m,p,b,d=S(s,!0);return d.x=null,d.y=null,d.onLine1=!1,d.onLine2=!1,x=t-o,h=n-i,0==(a=(m=f-o)*(y=r-n)-(g=c-i)*(M=u-t))?(e.isNaN(Dn(g*M,y*x,y*m,M*h))&&e.isNaN(Dn(y*m,m*h,g*M,g*x))&&(d.onLine1=zn(!0,n,t,r,u,i,o,l)||zn(!0,n,t,r,u,c,f,l),d.onLine2=d.onLine1),d):(b=y*x-M*h,x=(p=g*x-m*h)/a,h=b/a,d.x=n+x*y,d.y=t+x*M,0>x||x>1||(d.onLine1=!0),0>h||h>1||(d.onLine2=!0),d)}function Xn(n,t,r,e,u,i){return it(r-n,e-t,u-n,i-t)}function zn(n,t,r,e,u,i,o,c){c=A(c,1e-10);let f=t-i,l=r-o,s=i-e,a=o-u,x=it(f,l,s,a);return!(-c>x||x>c||0>ut(f,l,s,a)&&n)}function Wn(n,t,r,e,u,i){let o=e-n,c=u-t,f=r+i;return f*f>=o*o+c*c}function Kn(n,t,e,u,i,o,c){let f=r.sin(i),l=r.sin(o);return i=r.cos(i),o=r.cos(o),(c=S(c,!0)).x=e*o*i-u*l*f+n,c.y=u*l*i+e*o*f+t,c}function Yn(n,t,r,e,u,i,o,c){let f=t*u-n*i+(i-t)*o+(n-u)*c,l=n*e-t*r+(t-e)*o+(r-n)*c;if(0>f!=0>l)return!1;let s=Geometry.areaTri(n,t,r,e,u,i,!0);return s>0&&(f*=-1,l*=-1,s*=-1),f>0&&l>0&&f+l>=s}function Zn(n,t,e,u,i,o,c,f){return r.abs(e-n)>0&&r.abs(u-t)>0&&r.abs(c-i)>0&&r.abs(f-o)>0&&!(i>e||o>u||n>c||t>f)}function Jn(n,t,r){let e,u,i,o,c=!1;for(let f=-2,l=n.length-2;(f+=2)<n.length;l=f)e=n[f],u=n[f+1],i=n[l],o=n[l+1],(r>=u&&o>r||r>=o&&u>r)&&(i-e)*(r-u)/(o-u)+e>t&&(c=!c);return c}function $n(n,t){let u,i;(t=S(t,!0)).xMin=e.MAX_SAFE_INTEGER,t.yMin=e.MAX_SAFE_INTEGER,t.xMax=e.MIN_SAFE_INTEGER,t.yMax=e.MIN_SAFE_INTEGER;for(let e=0;e<n.length;e+=2)u=n[e],i=n[e+1],t.xMin=r.min(t.xMin,u),t.yMin=r.min(t.yMin,i),t.xMax=r.max(t.xMax,u),t.yMax=r.max(t.yMax,i);return t}function nt(n){if(6>n.length)return 0;let t=n.length-2,r=0;for(let e=0;t>e;e+=2)r+=(n[e+2]-n[e])*(n[e+1]+n[e+3]);return(r+=(n[0]-n[t])*(n[t+1]+n[1]))/2}function tt(n,t,e,u,i){return(i=S(i,!0)).x=r.cos(u)*e+n,i.y=r.sin(u)*e+t,i}function rt(n,t,r,e){return(e=S(e,!0)).x=n*r,e.y=t*r,e}function et(n,t,e){let u=ut(n,t,n,t);return e?r.sqrt(u):u}function ut(n,t,r,e){return n*r+t*e}function it(n,t,r,e){return n*e-t*r}function ot(n,t,r,e){return-n*e+t*r>0}function ct(n){return 1-r.cos(n)}function ft(n){return 1+r.cos(n)}function lt(n){return 1-r.sin(n)}function st(n){return 1+r.sin(n)}function at(n){return 1/r.sin(n)}function xt(n){return 1/r.cos(n)}function ht(n){return r.asin(1/n)}function yt(n){return r.acos(1/n)}function Mt(n){return e.isInteger(n)&&0==(1&n);}function gt(n,t){return n>=0!=0>t}function mt(n){return n*(2-n)}function pt(n,t){return fn(n*(t-1)+1,t)}let bt=K.bind(this,0),dt=K.bind(this,1),Gt=K.bind(this,2);function Tt(n){return 1-Pt(1-n)}function Pt(n){return n<f[0]?7.5625*n*n:n<f[1]?7.5625*(n-=f[2])*n+.75:n<f[3]?7.5625*(n-=f[4])*n+.9375:7.5625*(n-=f[5])*n+.984375}let Nt=function(){let n;return function(t,r,e,u,i){u||(u=t);let o={min:t,max:r,change:e,next:u,current:u,mode:i};return 0>o.change?o.next=A(o.next,o.max):o.change>0&&(o.next=A(o.next,o.min)),function(t,r,e,u,i,c){switch("number"==typeof r&&(o.min=r),"number"==typeof e&&(o.max=e),"number"==typeof u&&(o.change=u),"number"==typeof i&&(o.next=i),"number"==typeof c&&(o.mode=c),o.current=o.next,o.mode){case 1:o.next+=o.change,0>o.change&&o.next<o.min?o.next+=o.max-o.min:o.change>0&&o.next>o.max&&(o.next-=o.max-o.min);break;case 2:0>o.change?o.next>o.min?(o.next+=o.change,o.next<o.min&&(o.next=o.min)):o.next=o.max:o.change>0&&(o.next<o.max?(o.next+=o.change,o.next>o.max&&(o.next=o.max)):o.next=o.min);break;case 3:0>o.change&&o.next<o.min?(o.change*=-1,n=o.min-o.next,o.next=o.min,o.next+=o.change-(o.change-n),o.current=o.next):o.next>o.max&&(o.change*=-1,n=o.max-o.next,o.next=o.max,o.next+=o.change-(o.change-n),o.current=o.next),o.next+=o.change;break;case 4:0>o.change&&o.next<=o.min?(o.change*=-1,o.next=o.min,o.current=o.next):o.next<o.max||(o.change*=-1,o.next=o.max,o.current=o.next),o.next+=o.change;break;case 5:if(0>o.change&&o.next<=o.min){o.change*=-1,o.next+=o.change,o.current=o.min;break}o.next<o.max||(o.change*=-1,o.next+=o.change,o.current=o.max),o.next+=o.change;break;default:0>o.change?o.next>o.min?o.next+=o.change:(o.next=o.min,o.current=o.next):o.change>0&&(o.next<o.max?o.next+=o.change:(o.next=o.max,o.current=o.max))}return t?o:o.current}}}();function It(n,t){return n?!t:t}function qt(n,t){return t?n.toString(2).length:32-r.clz32(r.abs(n))}!function(n,t){let r={},e={},u={};for(let i=0;i<n.length;i+=3){let o;switch(n[i]){case"M":o=t.Math;break;case"G":o=r;break;case"N":o=t.Number;break;case"T":o=e;break;case"B":o=t.Boolean;break;case"I":o=u}o[n[i+1]]=n[i+2]}let i={Math:t.Math,Geometry:r,Tween:e,Boolean:t.Boolean,Number:t.Number,Bit:u};"function"==typeof define&&define.amd?define([],function(){return i}):"object"==typeof n&&n.exports&&(n.exports=i),t.Geometry=r,t.Tween=e,t.Bit=u}(["M","HALF_PI",Z,"M","TAU",J,"M","SQRT_PI",$,"M","SQRT_TAU",nn,"M","PHI",tn,"M","SILVER",rn,"M","UPC",en,"M","KAPPA",un,"M","PLASTIC",on,"M","ln",cn,"M","log",fn,"M","mod",ln,"M","rem",function(n,t,r){if(r||(r=t,t=0),t>r){let n=r;r=t,t=n}let e=r-t;return t>(n=(n+t)%e-t)&&(n+=e),n>r&&(n-=e),n},"M","cycle",function(n,t){return(n%=t)>0?n:n+t},"M","gamma",sn,"M","lnGamma",an,"M","factorial",function(n,t){return++n===d(n)?function(n){if(n!==d(n)||0>n||n>170)return NaN;if(0===n||1===n)return 1;let t=1;for(let r=2;n>=r;r++)t*=r;return t}(n-1):0>n?r.PI/(r.sin(r.PI*n)*sn(1-n,t)):r.exp(an(n))},"M","nCr",xn,"M","nPr",function(n,t){let r=1;for(let e=0;t>e;e++)r*=n-e;return r},"M","pow",hn,"M","of",function(n,t){if(n===t)return 1;if(0>=n||0>=t||1===n||t>n)return 0;let r,e=t,u=t,i=1;for(R();n>e;){if(I.push(u),i*=2,(e*=u)===n)return i;u*=u}if(Infinity===e)return 0;for(;I.length>0;)if(r=I.pop(),e>n?(e/=r,i-=1<<I.length):(e*=r,i+=1<<I.length),e===n)return i;return 0},"M","sigmoid",function(n,t){return 1/(1+r.exp(-t*n))},"M","pair",function(n,t){return((t+=n-1)-1)*t/2+n},"M","integral",function(n,t,e,u,i){R(),u=A(u,1e-15),i=A(i,11);let o,c,f,l,s=P(2,-i);for(o=0;o<20*P(2,i)&&(c=o*s,f=r.sinh(c),I[o]=r.tanh(Z*f),q[o]=r.PI*r.cosh(c)/(r.cosh(r.PI*f)+1),r.abs(1-I[o])>=u);o++);let a=o,x=0,h=(t-n)/2,y=(t+n)/2;for(o=1;i>o;o++)for(l=0;a>l;l+=P(2,i-o))l%P(2,i-o+1)==0&&1!==o||(0===l?x+=q[0]*e(y):(c=h*I[l],x+=q[l]*(e(y-c)+e(y+c))));return 2*h*s*x},"M","derivative",function(n,t,e,u,i){let o,c,f;R(),e=A(e,6),u=A(u,1e-15),i=A(i,1),I[0]=(t(n+i)-t(n-i))/(2*i);for(let l=1;e-1>=l;l++){I[l]=0,o=I[0],f=i,i/=2,I[0]=(t(n+i)-t(n-i))/f;for(let n=4,t=1;l>=t;t++,n*=4)c=I[t],I[t]=(n*I[t-1]-o)/(n-1),o=c;if(r.abs(I[l]-I[l-1])<u)return I[l]}return NaN},"M","limit",function(n,t,r,u,i){u=A(u,10),i=A(i,1e-10);let o=r(t);switch(n){case 1:return X(t,r,u,1,i);case 2:return X(t,r,u,2,i);default:if(!e.isNaN(o))return o;if(!e.isNaN(t)){if(Infinity===t)return X(t,r,u,1,i);if(-Infinity===t)return X(t,r,u,2,i);{let n=X(t,r,u,1,i);if(n===X(t,r,u,2,i))return n}}}return NaN},"M","solve",function(n,t,e,u,i){u=A(u,0),i=A(i,1e3);let o,c,f,l,s,a,x,h,y=n,M=e(n),g=e(t),m=M;for(;i-- >0;){if(f=t-n,r.abs(m)<r.abs(g)&&(n=t,t=y,y=n,M=g,g=m,m=M),o=1e-15*r.abs(t)+u/2,c=(y-t)/2,r.abs(c)<=o||0===g)return t;r.abs(f)>=o&&r.abs(M)>r.abs(g)&&(x=y-t,n===y?(l=x*(a=g/M),s=1-a):(l=(h=g/M)*(x*(s=M/m)*(s-(a=g/m))-(t-n)*(a-1)),s=(s-1)*(a-1)*(h-1)),l>0?s*=-1:l*=-1,l<.75*x*s-r.abs(o*s)/2&&l<r.abs(f*s/2)&&(c=l/s)),r.abs(c)<o&&(c=c>0?o:-o),n=t,M=g,((g=e(t+=c))>0&&m>0||0>g&&0>m)&&(y=n,m=M)}return NaN},"M","rational",function(n,t,e){t=A(t,0);let u=0,i=0,o=0,c=0,f=1,l=S(e,!1);l[0]=n,l[1]=1;do{i=n-(u=b(n*f))/f,1===f&&(o=f,c=i),r.abs(i)<r.abs(c)&&(o=f,c=i),l[0]=b(n*o),l[1]=o,f++}while(0!==t?t>=f:l[0]/l[1]!==n);return 0===l[0]&&0===l[1]&&(l[0]=n,l[1]=1),l},"M","pdf",function(n,t,e,u){let i=e*nn;return r.exp(-P(u-n,2)/(2*t))/i},"M","cdf",function(n,t,e,u){return Mn((n-e)/(t*r.SQRT2),u)/2},"M","ppf",function(n,t,e){return n-t*r.SQRT2*gn(2*e)},"M","erf",yn,"M","erfc",Mn,"M","ierf",function(n){return pn((n+1)/2)/r.SQRT2},"M","ierfc",gn,"M","erfcx",mn,"M","invNorm",pn,"M","kelly",function(n,t){return(t*(n+1)-1)/n},"M","bernstein",bn,"M","smooth",function(n,t,e,u){let i;return u?(e=A(e,32),i=r.exp(-e*n)+r.exp(-e*t),-cn(i)/e):Rn(i=Sn(.5+.5*(t-n)/(e=A(e,.1)),0,1),t,n)-e*i*(1-i)},"M","adjust",dn,"M","adjust2",Gn,"M","round",Tn,"M","floor",Pn,"M","ceil",Nn,"M","trunc",In,"M","away",qn,"M","round2",Ln,"M","floor2",wn,"M","ceil2",En,"M","trunc2",_n,"M","away2",vn,"M","correct",function(n,t){return t=A(t,13),Tn(n,t)===Tn(n,t-1)?Tn(n,t):n},"M","near",function(n,t){return t?t*b(n/t):n},"M","snap",function(n,t,r,e,u,i,o){return e=A(e,0),0===r?t:(t-=e,e+(t=r*(u?Gn(n,t/r,i,o):dn(n,t/r,i,o))))},"M","discrete",function(n,t,r,e,u,i,o,c){let f=(r*(1-t)+e*t)/(u=A(u,1));return(i?Gn(n,f,o,c):dn(n,f,o,c))*u},"M","shear",function(n){return(n=r.abs(n))-d(n)},"M","precision",function(n){if(!e.isFinite(n))return 0;let t=1,r=0;for(;b(n*t)/t!==n;)t*=10,r++;return r},"M","order",function(n){return d(cn(r.abs(n))/r.LN10)},"M","ramp",function(n){return n>0?n:0},"M","heaviside",function(n,t){if(e.isNaN(t))return NaN;if(t>0)return 1;if(0===t)switch(n){case 1:return 0;case 2:return 1;default:return.5}return 0},"M","haar",function(n){return.5>n&&n>=0?1:1>=n&&n>.5?-1:0},"M","rect",function(n){return(n=r.abs(n))>.5?0:.5===n?.5:.5>n?1:NaN},"M","tri",function(n){return 1>(n=r.abs(n))?1-n:0},"M","fold",function(n,t){return n?t>0?2*t-1:2*r.abs(t):0>t?2*r.abs(t)-1:2*t},"M","one",function(n){return b(n)%2*2-1},"M","copy",An,"M","flip",function(n){return n-2*n},"M","range",function(n,t,r,e,u,i){return i=A(i,1),e&&u?n>=t*i&&r*i>=n:e?n>=t*i&&r*i>n:u?n>t*i&&r*i>=n:n>t*i&&r*i>n},"M","compare",function(n,t,r,e,u){return u=A(u,1),e?r?t*u>=n:t*u>n:r?n>=t*u:n>t*u},"M","clamp",Sn,"M","wrap",function(n,t,r){let e=r-t,u=(n-t)%e;return 0>u&&(u+=e),u+t},"M","bounce",function(n,t,r){let e=2*(r-=t),u=(n-=t)%e;return 0>u&&(u+=e),u>r&&(u=e-u),u+t},"M","approach",function(n,t,r){if(r>t){if((t+=n)>r)return r}else if(t>r&&r>(t-=n))return r;return t},"M","map",function(n,t,r,e,u){return(r-n)*(u-e)/(t-r)+u},"M","norm",function(n,t,r){return(n-t)/(r-t)},"M","lerp",Rn,"M","change",function(n,t,r,e){return r*n/e+t},"M","gcd",function(){if(0==arguments.length-1)return NaN;R();let n=arguments[arguments.length-1];Array.isArray(n)||(n=[]),I[0]=arguments[0];let t=arguments.length-(arguments[arguments.length-1]===n?1:0);for(let n=1;t>n;n++)O(I[0],arguments[n]);return n.push.apply(n,I),n},"M","lcm",function(){if(R(),0===arguments.length)return NaN;let n=arguments[0];I[0]=n;for(let t=1;t<arguments.length;t++)O(n,arguments[t]),n=n*arguments[t]/I[0];return n},"M","factor",function(n,t){let r,e=S(t,!1);for(r=2;n>=r;r++)for(;n%r==0;)e.push(r),n/=r;return e},"M","divisor",function(n,t){let r,e=Mt(n),u=e?1:2,i=S(t,!1);i[0]=1,i[1]=n;for(let t=e?2:3;P(t,2)<=n;t+=u)n%t==0&&(i.push(t),(r=n/t)!==t&&i.push(r));return i},"M","random",Bn,"M","randomTri",function(n,t,e,u){e=A(e,0);let i=Bn(0,1,!1,u),o=t-n;return i>(e-n)/o?t-r.sqrt((1-i)*o*(t-e)):n+r.sqrt(i*o*(e-n))},"M","randomCirc",function(n,t,e,u,i){let o=Bn(n,t,!1,i),c=u-e;return c*=c,r.sqrt(c-c*o*o)+e},"M","noise",Cn,"M","worley",function(n,t,r,e,u,i){let o,c,f,l,s,a,x,h,y,M,g,m,p,b,G,T;for(R(),I[0]="number"==typeof n?n:A(n[0],0),I[1]=A(n[1],0),I[2]=A(n[2],0),i=S(i,!1),m=0;3>m;m++)i.push(Infinity);for(m=-1;2>m;++m)for(p=-1;2>p;++p)for(b=-1;2>b;++b)for(x=d(t)+m,h=d(r)+p,y=d(e)+b,c=393325350>(a=4294967295&(o=Q(F(I[0]+x&4294967295,I[1]+h&4294967295,I[2]+y&4294967295))))?1:1022645910>a?2:1861739990>a?3:2700834071>a?4:3372109335>a?5:3819626178>a?6:4075350088>a?7:4203212043>a?8:9,G=0;c>G;++G)for(M=u(f=t-(f=(o=Q(o))/4294967296+x),l=r-(l=(o=Q(o))/4294967296+h),s=e-(s=(o=Q(o))/4294967296+y)),T=i.length-1;T>=0&&M<=i[T];T--)g=i[T],i[T]=M,T+1<i.length&&(i[T+1]=g);for(m=0;m<i.length;m++)i[m]=0>i[m]?0:i[m]>1?1:i[m];return i},"G","normRad",kn,"G","toRad",function(n){return n*g},"G","fullRad",On,"G","normDeg",function(n){return(n=Qn(n))>180&&(n-=360),n},"G","toDeg",function(n){return n*m},"G","fullDeg",Qn,"G","cssnAngle",function(n,t){let e=(1+r.acos(n)/J)*J;return 0>t&&(e=J-e),ln(e,J)},"G","scaleAngle",function(n,t,r,e){return(t=ln(t,J))===(r=ln(r,J))?t:(e?1===e==r>t?e*=J:e=0:e=-J,ln(t+n*(r-t-e),J))},"G","getAngle",Vn,"G","reflAngle",function(n,t){return 2*t-n},"G","diffAngle",function(n,t){return(n=kn(n-t))>r.PI?J-n:n},"G","isBetwAngle",Fn,"G","colliAnglePnt",function(n,t,r,e,u,i){return Fn(Vn(r,e,u,i),n,t)},"G","distPnt",jn,"G","polarDistPnt",function(n,t,e,u,i){let o=n*n+e*e-2*n*e*r.cos(u-t);return i&&(o=r.sqrt(o)),o},"G","manDistPnt",function(n,t,e,u){return r.abs(n-e)+r.abs(t-u)},"G","chevDistPnt",function(n,t,e,u){return r.max(r.abs(n-e),r.abs(t-u))},"G","rotPnt",function(n,t,e,u,i,o,c){o=A(o,i);let f=r.sin(o),l=r.cos(i);return e-=n,u-=t,(c=S(c,!0)).x=e*l-u*f+n,c.y=e*f+u*l+t,c},"G","anglePnt",function(n,t,e,u,i,o){let c=n-i,f=t-o,l=e-i,s=u-o;return r.acos(ut(c,f,l,s)/r.sqrt((c*c+f*f)*(l*l+s*s)))},"G","cntrPnt",function(n,t,e,u,i,o){let c,f,l,s,a,x,h;return f=jn(e,u,n,t,!0),l=(n+e)/2,s=(t+u)/2,a=(t-u)*(h=(c=r.sqrt(i*i-P(f/2,2)))/f),x=(e-n)*h,(o=S(o,!0)).x1=l+a,o.y1=s+x,o.x2=l-a,o.y2=s-x,o},"G","cmpPnt",function(n,t,e,u,i){return i=A(i,1e-10),r.abs(n-e)>i?n>e?1:-1:r.abs(t-u)>i?t>u?1:-1:0},"G","slopeLine",Dn,"G","stdLine",function(n,t,r,e,u){let i=S(u,!0);if(r-n==0)i.a=-1,i.b=0,i.c=n;else{let u=Dn(n,t,r,e);i.a=u,i.b=-1,i.c=-r*u+e}return i},"G","distLinePnt",Hn,"G","distLine",function(n,t,r,e,u,i,o,c,f,l){let s,a=Hn(n,i,o,c,f,t,r,l);return a>0?(s=Hn(n,i,o,c,f,e,u,l))>a?a:s:0},"G","intrLine",Un,"G","sideLine",Xn,"G","onLine",function(n,t,r,e,u,i){let o=(r-n)*u,c=(e-t)*u;return(i=S(i,!0)).x=n+o,i.y=t+c,i},"G","colliLinePnt",zn,"G","getXLine",function(n,t,r,e,u){let i=e-t;return 0===i?null:(r-n)*(u-e)/i+r},"G","getYLine",function(n,t,r,e,u){let i=r-n;return 0===i?null:(u-r)*(e-t)/i+e},"G","colliRayRect",function(n,t,e,u,i,o,c,f){let l=-(n-i)/e,s=-(n-c)/e,a=r.min(l,s),x=r.max(l,s);return l=-(t-o)/u,s=-(t-f)/u,a=r.max(a,r.min(l,s)),(x=r.min(x,r.max(l,s)))>r.max(a,0)},"G","colliArcCircPnt",function(n,t,r,e,u,i,o,c,f){let l=n-r,s=t-e;return!ot(i,o,l,s)&&ot(c,f,l,s)&&Wn(0,0,0,l,s,u)},"G","colliCircPnt",function(n,t,e,u,i,o){o=A(o,1e-10);let c=jn(u,i,n,t,!1),f=e*e;return f>c?1:r.abs(c-f)<o?0:-1},"G","colliCirc",Wn,"G","colliCircRect",function(n,t,r,e,u,i,o){return jn(Sn(n,e,i),Sn(t,u,o),n,t,!1)<=r*r},"G","intrCirc",function(n,t,e,u,i,o,c){let f=jn(n,t,u,i,!0),l=(e*e-o*o+f*f)/(2*f),s=l/f;if(l>e)return NaN;let a=n+(u-n)*s,x=t+(i-t)*s,h=r.sqrt(e*e-l*l)/f;return l=i-t,s=u-n,(c=S(c,!1))[0]=a-h*l,c[1]=x+h*s,c[2]=a+h*l,c[3]=x-h*s,c},"G","intrCircLine",function(n,t,e,u,i,o,c,f,l){let s,a,x,h,y,M;return(l=S(l,!0)).x=null,l.y=null,l.x1=null,l.y1=null,l.x2=null,l.y2=null,l.onLine=!1,l.onLine1=!1,l.onLine2=!1,y=(x=(o-u)/(s=jn(u,i,o,c,!0)))*(n-u)+(h=(c-i)/s)*(t-i),l.x=y*x+u,l.y=y*h+i,e>(a=jn(l.x,l.y,n,t,!0))?(M=r.sqrt(e*e-a*a),l.x1=(y-M)*x+u,l.y1=(y-M)*h+i,l.onLine1=zn(!0,u,i,o,c,l.x1,l.y1,f),l.x2=(y+M)*x+u,l.y2=(y+M)*h+i,l.onLine2=zn(!0,u,i,o,c,l.x2,l.y2,f)):a===e?l.onLine=!0:(l.x=null,l.y=null),l},"G","randomCirc",function(n,t,r,e,u){return Y(e),tt(n,t,I[1]*r,J*I[0]/I[1],u)},"G","onElli",Kn,"G","colliElliPnt",function(n,t,e,u,i,o,c){let f=r.sin(i),l=r.cos(i),s=l*(o-=n)+f*(c-=t);return f=f*o-l*c,1>=4*(l=s)*l/(e*e)+4*f*f/(u*u)},"G","intrElli",function(n,t,e,u,i,o,c,f,l,s,a){let x,h,y,M,g=r.cos(i),m=r.sin(i),p=r.cos(s),b=r.sin(s),d=r.cos(i-s),G=r.sin(i-s),T=u*(-n*g+o*g-t*m+c*m),P=f*u*d,N=u*l*G,q=e*(-t*g+c*g+n*m-o*m),L=-e*f*G,w=e*l*d,E=e*u,_=E*E,v=T+P,A=q+L,B=T-P,C=q-L,k=S(a,!1);x=function(n,t,e,u,i){R();let o,c,f,l,s=(u/=i)*u,a=2*(e/=i),x=4*(n/=i),h=0,y=function(n,t,e,u){let i=(e/=1)*e,o=(3*(t/=1)-i)/9,c=(9*e*t-27*(n/=1)-2*i*e)/54,f=o*o*o,l=f+c*c;if(l>=0){let n=r.sqrt(l);return-e/3+r.cbrt(c+n)+r.cbrt(c-n)}return 2*r.sqrt(-o)*r.cos(r.acos(c/r.sqrt(-f))/3)-e/3}(4*e*n-(t/=i)*t-s*n,t*u-x,-e),M=.75*s,g=s/4-e+y,m=r.sqrt(g),p=-u/4,b=m/2;return 0===g?(o=M-a,c=2*r.sqrt(y*y-x)):(o=M-g-a,c=(4*u*e-8*t-s*u)/(4*m)),f=o+c,l=o-c,o=p+b,0>f||(c=r.sqrt(f)/2,I[h++]=o+c,I[h++]=o-c),o=p-b,0>l||(c=r.sqrt(l)/2,I[h++]=o+c,I[h++]=o-c),h}(v*v+(A-E)*(A+E),4*(N*v+w*A),2*(T*T-P*P+2*N*N+q*q-L*L+2*w*w-_),4*(N*B+w*C),B*B+C*C-_);for(let n=0;x>n;++n)h=2*r.atan(I[n]),y=r.cos(h)*f,M=r.sin(h)*l,k[2*n]=o+y*p-M*b,k[2*n+1]=c+y*b+M*p;return k},"G","intrElliLine",function(n,t,e,u,i,o,c,f,l,s){let a,x=r.sin(i),h=u*((-n+o)*(i=r.cos(i))+(-t+c)*x),y=e*((-t+c)*i+(n-o)*x),M=e*u,g=h-u*((-n+f)*i+(-t+l)*x),m=y-e*((-t+l)*i+(n-f)*x),p=g*g+m*m,b=-2*(h*g+y*m),d=b*b-4*p*(-M*M+h*h+y*y),G=S(s,!1);if(0===d)a=-b/(2*p),G[0]=(1-a)*o+a*f,G[1]=(1-a)*c+a*l;else if(d>0){let n=r.sqrt(d),t=0;a=(-b-n)/(2*p),G[0]=(1-a)*o+a*f,G[1]=(1-a)*c+a*l,a=(-b+n)/(2*p),G[2*++t]=(1-a)*o+a*f,G[2*t+1]=(1-a)*c+a*l,t++}return G},"G","boundElli",function(n,t,e,u,i,o){let c=r.atan(-u*r.tan(i)/e),f=r.atan(u*r.cot(i)/e),l=r.sin(i);return i=r.cos(i),c=r.abs(e*r.cos(c)*i-u*r.sin(c)*l),f=r.abs(u*r.sin(f)*i+e*r.cos(f)*l),(o=S(o,!0)).xMin=-c+n,o.yMin=-f+t,o.xMax=c+n,o.yMax=f+t,o},"G","randomElli",function(n,t,r,e,u,i,o){return Y(i),Kn(n,t,I[1]*r,I[1]*e,u,J*I[0]/I[1],o)},"G","distElliPnt",function(n,t,e){return 1/r.sqrt(P(r.sin(e)/t,2)+P(r.cos(e)/n,2))},"G","centroidTri",function(n,t,r,e,u,i,o){return(o=S(o,!0)).x=(n+r+u)/3,o.y=(t+e+i)/3,o},"G","equilTri",function(n,t,r,e){let u=t+r*p,i=r/2;return(e=S(e,!0)).x1=n,e.y1=t,e.x2=n+i,e.y2=u,e.x3=n-i,e.y3=u,e},"G","rightTri",function(n,t,r,e,u){return u.x1=n,u.y1=t,u.x2=n,u.y2=t-e,u.x3=n+r,u.y3=t,u},"G","crcmCntrTri",function(n,t,r,e,u,i,o){let c=e-i;e=(n-=u)*n+(t-=i)*t;let f=(r-=u)*r+c*c;return c=2*(n*c-t*r),e*=r,(o=S(o,!0)).x=u-(t*f-e)/c,o.y=i+(n*f-e)/c,o},"G","crcmCircTri",function(n,t,e,u,i,o,c){let f,l,s=e-n,a=u-t,x=i-n,h=o-t,y=s*(n+e)+a*(t+u),M=x*(n+i)+h*(t+o),g=2*(s*(o-u)-a*(i-e));return(c=S(c,!0)).x=(h*y-a*M)/g,c.y=(s*M-x*y)/g,f=c.x-n,l=c.y-t,c.r=2*r.sqrt(f*f+l*l),c},"G","inCircTri",function(n,t,e,u,i,o,c){let f=jn(i,o,e,u,!0),l=jn(n,t,i,o,!0),s=jn(e,u,n,t,!0),a=f+l+s,x=(s+f+l)/2;return(c=S(c,!0)).x=(n*f+e*l+i*s)/a,c.y=(t*f+u*l+o*s)/a,c.r=r.sqrt(x*(x-s)*(x-f)*(x-l))/x,c},"G","colliTriPnt",Yn,"G","areaTri",function(n,t,e,u,i,o,c){let f=(i-n)*(u-t)-(e-n)*(o-t);return c?f:r.abs(f/2)},"G","randomTri",function(n,t,e,u,i,o,c){c=S(c,!0);let f=r.sqrt(N()),l=N(),s=1-f,a=f*(1-l),x=f*l;return c.x=s*n+a*e+x*i,c.y=s*t+a*u+x*o,c},"G","colliRectPnt",function(n,t,r,e,u,i){return r-n>0&&e-t>0&&!(n>u||u>r||t>i||i>e)},"G","colliRect",Zn,"G","intrRect",function(n,t,e,u,i,o,c,f,l){return Zn(n,t,e,u,i,o,c,f)?((l=S(l,!0)).xMin=r.max(n,i),l.yMin=r.max(t,o),l.xMax=r.min(e,c),l.yMax=r.min(u,f),l):l},"G","randomRect",function(n,t,e,u,i){return(i=S(i,!0)).x=n+N()*r.abs(e-n),i.y=t+N()*r.abs(u-t),i},"G","colliPolyPnt",Jn,"G","colliPolyCirc",function(n,t,r,e){if(Jn(n,t,r))return!0;for(let u=2;u<n.length;u+=2)if(Hn(!1,n[u-2],n[u-1],n[u],n[u+1],t,r,!1)<e*e)return!0;return Hn(!1,n[n.length-2],n[n.length-1],n[0],n[1],t,r,!1)<e*e},"G","colliPoly",function(n,t){B();let r,e=$n(n,w),u=$n(t,E);if(Zn(e.xMin,e.yMin,e.xMax,e.yMax,u.xMin,u.yMin,u.xMax,u.yMax)){let e=n.length>t.length?n.length:t.length;for(r=0;e>r;r+=2){if(Jn(t,n[r],n[r+1])&&r<=n.length)return!0;if(Jn(n,t[r],t[r+1])&&r<=t.length)return!0}}return!1},"G","isSimplePoly",function(n){B();let t,e,u,i,o,c,f,l,s=n.length/2;if(4>s)return!0;for(let a=0;s>a;a++){t=n[2*a],e=n[2*a+1],a===s-1?(u=n[0],i=n[1]):(u=n[2*a+2],i=n[2*a+3]);for(let x=0;s>x;x++)if(!(2>r.abs(a-x)||x===s-1&&0===a||a===s-1&&0===x)&&(o=n[2*x],c=n[2*x+1],x===s-1?(f=n[0],l=n[1]):(f=n[2*x+2],l=n[2*x+3]),Un(t,e,u,i,o,c,f,l,w),w.onLine1&&w.onLine2))return!1}return!0},"G","isConvexPoly",function(n){if(6>=n.length)return!1;let t,e=Geometry_isClockWisePoly(n),u=Xn(n[n.length-3],n[n.length-2],n[0],n[1],n[2],n[3]);u=u>0||0>r.abs(u);for(let r=2;r<n.length-2;r+=2)if(t=Xn(n[r-2],n[r-1],n[r],n[r+1],n[r+2],n[r+3]),(e?t>0:0>t)!==u)return!0;return!1},"G","boundPoly",$n,"G","triPoly",function(n,t){let r,e,u,i,o,c,f,l,s,a,x,h,y,M,g,m,p;if(t=S(t,!1),3>(r=n.length/2))return t.push.apply(t,n),t;for(R(),e=0;r>e;e++)q.push(e);for(e=0,i=r;i>3;){if(o=q[(e+0)%i],c=q[(e+1)%i],f=q[(e+2)%i],M=!1,Xn(l=n[2*o],s=n[2*o+1],a=n[2*c],x=n[2*c+1],h=n[2*f],y=n[2*f+1])>=0)for(M=!0,u=0;i>u;u++)if((g=q[u])!==o&&g!==c&&g!==f&&Yn(l,s,a,x,h,y,n[2*g],n[2*g+1])){M=!1;break}if(M){for(I.push(o,c,f),m=0,p=(e+1)%i,u=0;u<q.length;u++)u!==p&&(q[m++]=q[u]);q.length=m,i--,e=0}else if(e++>3*i)break}return I.push(q[0],q[1],q[2]),t.push.apply(t,I),t},"G","areaPoly",nt,"G","centroidPoly",function(n,t){let r,e,u,i,o,c;(t=S(t,!0)).x=0,t.y=0;for(let c=0;c<n.length-2;c+=2)r=n[c],u=n[c+1],e=n[c+2],o=r*(i=n[c+3])-e*u,t.x+=(r+e)*o,t.y+=(u+i)*o;return r=n[n.length-2],u=n[n.length-1],e=n[0],o=r*(i=n[1])-e*u,t.x+=(r+e)*o,t.y+=(u+i)*o,c=6*nt(n),t.x/=c,t.y/=c,t},"G","convexHullPoly",function(n,t){let r;for(R(),n.sort(function(n,t){return n[0]===t[0]?n[1]-t[1]:n[0]-t[0]}),r=0;r<n.length;r++){for(;I.length>=2&&0>=Xn(I[I.length-2][0],I[I.length-2][1],I[I.length-1][0],I[I.length-1][1],n[r][0],n[r][1]);)I.pop();I.push(n[r])}for(r=n.length-1;r>=0;r--){for(;q.length>=2&&0>=Xn(q[q.length-2][0],q[q.length-2][1],q[q.length-1][0],q[q.length-1][1],n[r][0],n[r][1]);)q.pop();q.push(n[r])}return q.pop(),I.pop(),t.push.apply(t,I,q),t},"G","distPolyRay",function(n,t,r,e,u,i,o){i=A(i,1e-10);let c,f=n.length-2,l=_[0],s=_[1],a=_[2],x=_[3],h=_[4];l.x=t,l.y=r,s.x=t+e,s.y=r+u,(o=S(o,!0)).dist=Infinity,o.edge=0,o.norm_x=0,o.norm_y=0,o.refl_x=0,o.refl_y=0;for(let t=0;f>t;t+=2)a.x=n[t],a.y=n[t+1],x.x=n[t+2],x.y=n[t+3],(c=U(l,s,a,x,h,i))&&D(e,u,l,a,x,h,t/2,o);return a.x=x.x,a.y=x.y,x.x=n[0],x.y=n[1],(c=U(l,s,a,x,h,i))&&D(e,u,l,a,x,h,n.length/2-1,o),o},"G","intrPolyPnt",function(n,t,r,e){let u,i=n.length-2;(e=S(e,!0)).dist=Infinity,e.edge=0,e.point_x=0,e.point_y=0,e.norm_x=0,e.norm_y=0,_[0].x=t,_[0].y=r;for(let t=0;i>t;t+=2)_[2].x=n[t],_[2].y=n[t+1],_[3].x=n[t+2],_[3].y=n[t+3],H(_[0],_[2],_[3],t>>1,e);return _[2].x=_[3].x,_[2].y=_[3].y,_[3].x=n[0],_[3].y=n[1],H(_[0],_[2],_[3],i>>1,e),u=1/e.dist,e.norm_x=(t-e.point_x)*u,e.norm_y=(r-e.point_y)*u,e},"G","reversePoly",function(n,t){t=S(t,!1);for(let r=n.length-2;r>=0;r-=2)t.push(n[r],n[r+1]);return t},"G","timeAccel",function(n,t,r){return(t-n)/r},"G","distAccel",function(n,t,r){return(t*t-n*n)/(2*r)},"G","timeDistAccel",function(n,t,e){let u=2*e*t+n*n;if(0>u)return-1;let i=r.sqrt(u);return r.abs(r.max((i-n)/e,(-n-i)/e))},"G","distDecel",function(n,t){return 0===n?-1:n*(n-t)/(2*t)},"M","pol",function(n,t,r){return(r=S(r,!0)).angle=Vn(0,0,n,t),r.radial=jn(0,0,n,t,!0),r},"M","rec",tt,"M","normVec",function(n,t,r){r=S(r,!0);let e=et(n,t,!0);return r.x=n/e,r.y=t/e,r},"M","scaleVec",rt,"M","truncVec",function(n,t,r,e){let u=r/et(n,t,!1);return rt(n,t,u=1>u?u:1,e)},"M","magVec",et,"M","dotVec",ut,"M","crossVec",it,"M","wedgeVec",function(n,t,r,e){return n*e+t*r},"M","projVec",function(n,t,r,e,u){return rt(r,e,ut(n,t,r,e)/et(r,e,!1),u)},"M","rejVec",function(n,t,e,u,i){return r.projVec(n,t,e,u,i),i.x=n-i.x,i.y=t-i.y,i},"M","perVec",function(n,t,r){return(r=S(r,!0)).x1=-t,r.y1=n,r.x2=t,r.y2=-n,r},"M","lerpVec",function(n,t,r,e,u,i){return(i=S(i,!0)).x=(r-n)*u+n,i.y=(e-t)*u+t,i},"M","headVec",function(n,t){return-r.atan2(-t,n)},"M","revVec",function(n,t,r){return(r=S(r,!0)).x*=-1,r.y*=-1,r},"M","clockWiseVec",ot,"M","sinc",function(n){return e.isNaN(n)?NaN:e.isFinite(n)?0===n?1:(n*=r.PI,r.sin(n)/n):0},"M","crd",function(n){return 2*r.sin(n/2)},"M","exsec",function(n){return xt(n)-1},"M","excsc",function(n){return at(n)-1},"M","aexsec",function(n){return yt(n+1)},"M","aexcsc",function(n){return ht(n+1)},"M","vsin",ct,"M","vcos",ft,"M","cvsin",lt,"M","cvcos",st,"M","hvsin",function(n){return ct(n)/2},"M","hvcos",function(n){return ft(n)/2},"M","hcvsin",function(n){return lt(n)/2},"M","hcvcos",function(n){return st(n)/2},"M","avsin",function(n){return r.acos(1-n)},"M","avcos",function(n){return r.acos(1+n)},"M","acvsin",function(n){return r.asin(1-n)},"M","acvcos",function(n){return r.asin(1+n)},"M","ahvsin",function(n){return 2*r.asin(r.sqrt(n))},"M","ahvcos",function(n){return 2*r.acos(r.sqrt(n))},"M","csc",at,"M","csch",function(n){return 1/r.sinh(n)},"M","sec",xt,"M","sech",function(n){return 1/r.cosh(n)},"M","cot",function(n){return 1/r.tan(n)},"M","coth",function(n){return 1/r.tanh(n)},"M","acsc",ht,"M","acsch",function(n){return r.asinh(1/n)},"M","asec",yt,"M","asech",function(n){return r.acosh(1/n)},"M","acot",function(n){return r.atan(1/n)},"M","acoth",function(n){return r.atanh(1/n)},"M","cssn",function(n,t){let e=r.sin(n);return(t=S(t,!1))[0]=r.sqrt(1-e*e),t[1]=e,t},"N","isPrime",function(n){return!(e.isNaN(n)||!e.isFinite(n)||2>n)&&n===function(n){if(e.isNaN(n)||!e.isFinite(n))return NaN;if(0===n)return 0;if(n%1||2>n*n)return 1;if(n%2==0)return 2;if(n%3==0)return 3;if(n%5==0)return 5;let t=r.sqrt(n);for(let r=7;t>=r;r+=30){if(n%r==0)return r;if(n%(r+4)==0)return r+4;if(n%(r+6)==0)return r+6;if(n%(r+10)==0)return r+10;if(n%(r+12)==0)return r+12;if(n%(r+16)==0)return r+16;if(n%(r+22)==0)return r+22;if(n%(r+24)==0)return r+24}return n}(n)},"N","isMinusZero",function(n){return 1/n==-Infinity},"N","isEven",Mt,"N","isNumeric",function(n){return!("[object Array]"===Object.prototype.toString.call(n)||0>n-parseFloat(n)+1)},"N","isPOT",function(n){return 0!==n&&0==(n&n-1)},"N","isSameSign",gt,"T","inQuad",function(n){return n*n},"T","outQuad",mt,"T","inOutQuad",function(n){return.5>n?2*n*n:(4-2*n)*n-1},"T","inCubic",function(n){return P(n,3)},"T","outCubic",function(n){return P(n-1,3)+1},"T","inOutCubic",function(n){return.5>n?4*P(n,3):(n-1)*P(2*n-2,2)+1},"T","inQuart",function(n){return P(n,4)},"T","outQuart",function(n){return 1-P(n-1,4)},"T","inOutQuart",function(n){return.5>n?8*P(n,4):1-8*P(n-1,4)},"T","inQuint",function(n){return P(n,5)},"T","outQuint",function(n){return 1+P(n-1,5)},"T","inOutQuint",function(n){return.5>n?16*P(n,5):1+16*P(n-1,5)},"T","inPow",function(n,t){return hn(n,t)},"T","outPow",function(n,t){let r=Mt(t-1)?1:-1;return 1+hn(n-1,t)*r},"T","inOutPow",function(n,t){let r=.5*hn(2*(.5>n?n:1-n),t);return.5>n?r:1-r},"T","inLog",function(n,t){return 1-pt(1-n,t)},"T","outLog",pt,"T","inOutLog",function(n,t){return 1>(n*=2)?.5-pt(1-n,t)/2:.5+pt(n-1,t)/2},"T","inSine",function(n,t){return 1-hn(r.cos(n*Z),t)},"T","outSine",function(n,t){return hn(r.sin(n*Z),t)},"T","inOutSine",function(n,t){return 1>(n*=2)?.5-hn(r.cos(r.PI*n),t)/2:hn(r.cos(r.PI*(n-1)),t)/2+.5},"T","inExpo",function(n){return 0===n?0:hn(2,10*(n-1))},"T","outExpo",function(n){return 1===n?1:1-hn(2,-10*n)},"T","inOutExpo",function(n){return 0===n?0:1===n?1:.5>n?hn(2,20*n-11):1-hn(2,9-20*n)},"T","inCirc",function(n){return 1-r.sqrt(1-n*n)},"T","outCirc",function(n){return n-=1,r.sqrt(1-n*n)},"T","inOutCirc",function(n){return.5>n?(1-r.sqrt(1-4*n*n))/2:(r.sqrt(-4*(n-2)*n-3)+1)/2},"T","inElastic",bt,"T","outElastic",dt,"T","inOutElastic",Gt,"T","inBack",function(n,t,r){return 1*n*n*(((t=t?r?t:j(t):1.70158)+1)*n-t)},"T","outBack",function(n,t,r){return n*((t=t?r?t:j(t):1.70158)*((n-2)*n+1)+(n-3)*n+3)},"T","inOutBack",function(n,t,r){t=t?r?t:j(t):1.70158;let e,u=r?1:1.525;return.5>n?2*n*n*(t*u*((e=2*n)-1)+e):2*(e=n-1)*e*(t*u*(2*n-1)+2*e)+1},"T","inBounce",Tt,"T","outBounce",Pt,"T","inOutBounce",function(n){return.5>n?Tt(2*n)/2:Pt(2*n-1)/2+.5},"T","bias",function(n,t){return-n/(t*(n-1)-n)},"T","inOutBias",function(n,t){return.5>n?-n/(2*(t-1)*n-t):((2*t-1)*n-t+1)/(2*(t-1)*n-t+2)},"T","spring",function(n,t,e,u,i,o){t=r.max(1,A(t,300)/20),e=hn(20,A(e,200)/100),u=A(u,0)/1e3,i=A(i,0),o=A(o,.8);let c,f,l=(u-n)/(u-1);return u>n?(c=z(l,u,i,o),f=-yt(z(u/(u-1),u,i,o))/(t*u)):(c=hn(e/10,-l)*(1-l),f=1),1-c*r.cos(t*(n-u)*f)},"T","bounce",function(n,t,e,u){let i,o,c,f,l,s,a=0;t=r.min(A(t,400)/1250,.8),e=A(e,200)/1e3;for(let n=0;2>n;n++)for(f=-(c=0===n?r.sqrt(.02):r.sqrt(2/(100*i*i))),l=c,s=1,u&&(f=0,l*=2),1===n&&(W(0,f,l,s),a++);0===n?s>.001:1>l&&s>.001;)o=l-f,f=l,l+=o*t,0===n?(s=s*t*t,i=l):(W(a,f,l,s*=e),a++);let x,h=0,y=v[h];for(;(n<y.a||n>y.b)&&(y=v[h+=1],a-1>=h););if(h>a-1)x=u?0:1;else{let t;i=y.b-y.a,x=(t=(-2*y.a-i+2*n)/i)*t*y.H-y.H+1,u&&(x=1-x)}return x},"T","slow",function(n,t,r,e){r=n+(.5-n)*(1!==t?r||0===r?r:.7:0),null==t?t=.7:t>1&&(t=1);let u=(1-t)/2,i=!0===e,o=(t-1)*(t-1);return u>n?i?-4*n*(t+n-1)/o:r*(1-P((-t-2*n+1)/(1-t),4)):n>u+t?i?1===n?0:4*(n-1)*(t-n)/o:P(t-2*n+1,4)*(n-r)/P(t-1,4)+r:i?1:r},"T","scale",function(n,t,e){return t*(r.pow(e/t,n)-1)/(e-t)},"T","smoothStep",function(n,t){if(0>t)return 0;switch(t){case 1:return n*n*(3-2*n);case 2:return P(n,3)*(n*(6*n-15)+10);case 3:return P(n,4)*(35+n*((70-20*n)*n-84));case 4:return P(n,5)*(126+5*n*(n*(108+7*n*(2*n-9))-84));case 5:return P(n,6)*(462+n*(-1980-7*n*(2*n*(220+9*n*(2*n-11))-495)));case 6:return P(n,7)*(1716+7*n*(2*n*(1430+3*n*(n*(390+11*n*(2*n-13))-572))-1287));default:let r=0;for(let e=0;t>=e;e++)r+=xn(-t-1,e)*xn(2*t+1,t-e)*hn(n,t+e+1);return r}},"T","overShoot",function(n,t){return(n=mt(n))*(1+r.sin(n*r.PI)*t)},"T","berp",function(n,t,e,u,i){return t=A(t,.2),e=A(e,2.5),u=A(u,2.2),((i=A(i,1.2))*(n-1)-1)*((hn(n,u)-1)*r.sin(r.PI*t*n+r.PI*P(n,4)*e)-n)},"T","envelope",function(n,t,r){return t=A(t,.5),r=A(r,.5),0>n||n>1?0:n>1-r?(1-n)/r:t>n?n/t:1},"T","shift",function(n,t,e){return r.pow(t,-t)*r.pow(e,-e)*r.pow(t+e,t+e)*r.pow(1-n,t)*r.pow(n,e)},"T","rk4",function(n,t,r,e,u){u=S(u,!1);let i=e/2,o=e/6,c=r(n,t,0),f=t+c*i,l=r(n+t*i,f,i),s=t+l*i,a=r(n+f*i,s,i),x=t+a*e;return u[0]=n+o*(t+2*f+2*s+x),u[1]=t+o*(c+2*l+2*a+r(n+s*e,x,e)),u},"T","poly",function(n,t,r){let e,u=0;for(let i=0;i<t.length;i+=2){e=1;for(let r=0;r<t.length;r+=2)r!==i&&(e*=(n-t[r])/(t[i]-t[r]));u+=t[i+1]*hn(e,r[i/2])}return u},"T","bezier",function(n,t,r){let e=0,u=0,i=0,o=0,c=t.length;for(let f=0;c>f;f++)i+=e=(u=bn(n,f,c-1)*r[f])*t[f],o+=u;return i/o},"T","bspline",function(n,t,r,e,u,i,o){if(R(),!r)return;let c,f,l,s,a,x,h=e.length/r;if(1>t)return;if(t>h-1)return;if(!i)for(i=q,c=0;h>c;c++)i[c]=1;if(a=h+t+1,u){if(u.length!==a)return}else for(u=L,c=0;a>c;c++)u[c]=c;a=u.length-1-t;let y,M=u[t],g=u[a];if(M<=(n=n*(g-M)+M)&&g>=n){for(l=t;a>l&&(n<u[l]||n>u[l+1]);l++);for(c=0;h>c;c++){for(f=0;r>f;f++)I.push(e[c*r+f]*i[c]);I.push(i[c])}for(a=r+1,s=1;t+1>=s;s++)for(c=l;c>l-t-1+s;c--)for(y=(n-u[c])/(u[c+t+1-s]-u[c]),f=0;a>f;f++)I[x=c*a+f]=(1-y)*I[(c-1)*a+f]+y*I[x];for(o=S(o,!1),a*=l,c=0;r>c;c++)o[c]=I[a+c]/I[a+r];return o}},"T","hspline",function(n,t,r,e,u,i,o,c){let f,l,s,a,x,h,y,M,g,m;for(R(),q.push.apply(q,u),q.unshift.call(q,u[u.length-2],u[u.length-1]),i?q.push.call(q,u[0],u[1],u[2],u[3]):q.push.call(q,u[0],u[1]),f=(1-r)*(1+t)*(1-n)*.5,l=(1-r)*(1-t)*(1+n)*.5,s=(1-r)*(1+t)*(1+n)*.5,a=(1-r)*(1-t)*(1-n)*.5,g=2;g<q.length-2;)x=q[g]-q[g-2],h=q[g+1]-q[g-1],y=q[g+2]-q[g],M=q[g+3]-q[g+1],I.push(f*x+l*y,f*h+l*M,s*x+a*y,s*h+a*M),g+=2;for(g=2,c=S(c,!1);g<q.length-4;){for(c.push(q[g],q[g+1]),m=e;1>m;)f=((M=2*m)-3)*(y=m*m)+1,s=(3-M)*y,l=(M=m-1)*M*m,a=M*y,x=f*q[g]+l*I[2*g-2]+s*q[g+2]+a*I[2*g],h=f*q[g+1]+l*I[2*g-1]+s*q[g+3]+a*I[2*g+1],c.push(x,h),m+=e;o&&c.push(q[g+2],q[g+3]),g+=2}return c},"T","count",Nt,"B","andNot",function(n,t){return!n&&t},"B","notAnd",function(n,t){return n&&!t},"B","nand",function(n,t){return!(n&&t)},"B","orNot",function(n,t){return n||!t},"B","notOr",function(n,t){return!n||t},"B","nor",function(n,t){return!(n||t)},"B","xor",It,"B","xnor",function(n,t){return!It(n,t)},"B","all",function(n){for(let t=0;t<n.length;t++)if(1!=n[t])return!1;return!0},"B","nall",function(n){for(let t=0;t<n.length;t++)if(1==n[t])return!0;return!1},"I","size",qt,"I","clear",function(n,t){return n&~(1<<t)},"I","set",function(n,t){return n|1<<t},"I","find",function(n,t){return 1&n>>t},"I","flip",function(n,t){return n^1<<t},"I","reverse",function(n,t){if(t)return(16711935&(n=(252645135&(n=(858993459&(n=(1431655765&(n=(65535&n)<<16|(4294901760&n)>>>16))<<1|(2863311530&n)>>>1))<<2|(3435973836&n)>>>2))<<4|(4042322160&n)>>>4))<<8|(4278255360&n)>>>8;let e=0,u=0,i=n;for(n=r.abs(n);n>0;)u=1&n,n>>=1,e+=1&u,e<<=1;return An(e>>=1,i)},"I","rol",function(n,t,r){return n<<t&(1<<(r=A(r,qt(n))))-1|n>>r-t},"I","ror",function(n,t,r){return n>>t|n<<(r=A(r,qt(n)))-t&(1<<r)-1}],t)}(0,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
