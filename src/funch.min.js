/*https://github.com/Trung0246/Funch/ v0.25a*/

(function(H,E){function p(a,b){return null==a?b:a}function y(a,b){return null!=a?a:b?{}:[]}function r(a){if(a)V.push(a);else{if(0===V.length)return[];V[V.length-1].length=0;return V.pop()}}function I(){for(var a in N)N.hasOwnProperty(a)&&delete N[a];for(var b in ca)ca.hasOwnProperty(b)&&delete ca[b]}function F(a,b){return(a&65535)*b+(((a>>>16)*b&65535)<<16)&4294967295}function W(a,b,c){var d=0>a?-1:1,e=0>b?-1:1,h=0,f=1,m=1,k=0;a=g.abs(a);for(b=g.abs(b);0!==a;){var l=g.floor(b/a);var q=b%a;var n=h-m*l;l=f-k*l;b=a;a=q;h=m;f=k;m=n;k=l}c[0]=b;c[1]=d*h;c[2]=e*f}function da(a){a^=a>>12;a^=a<<25;return 2*(a^a>>27)}function Ea(){var a=arguments[2],b=arguments.length-1,c;for(c=0;c<b;c++){var d=arguments[c]|0;d=F(d,3432918353);d=d<<15|d>>>17;d=F(d,461845907);a^=d;a=a<<13|a>>>19;a=5*(a&65535)+((5*(a>>>16)&65535)<<16)&4294967295;a=(a&65535)+27492+(((a>>>16)+58964&65535)<<16)}a^=b;a=F(a^a>>>16,2246822507);a=F(a^a>>>13,3266489909);return(a^a>>>16)>>>0}function ob(a){if(C.isNaN(a)||!C.isFinite(a))return NaN;if(0===a)return 0;if(a%1||2>a*a)return 1;if(0===a%2)return 2;if(0===a%3)return 3;if(0===a%5)return 5;for(var b=g.sqrt(a),c=7;c<=b;c+=30){if(0===a%c)return c;if(0===a%(c+4))return c+4;if(0===a%(c+6))return c+6;if(0===a%(c+10))return c+10;if(0===a%(c+12))return c+12;if(0===a%(c+16))return c+16;if(0===a%(c+22))return c+22;if(0===a%(c+24))return c+24}return a}function na(a){a*=10;var b=27*a*a+360*a+800,c=pb*g.sqrt(a+10);return.075*(g.cbrt((b-c)*a)+g.cbrt((b+c)*a)+3*a)}function Fa(a,b,c,d,e,h,f,g){c=D(h.x,h.y,c.x,c.y,!0);if(c<g.dist){var k=1/D(e.x,e.y,d.x,d.y,!0);h=-(e.y-d.y)*k;d=(e.x-d.x)*k;e=2*(a*h+b*d);g.dist=c;g.norm_x=h;g.norm_y=d;g.refl_x=-e*h+a;g.refl_y=-e*d+b;g.edge=f}}function Ga(a,b,c,d,e){var h=c.x-b.x;var f=c.y-b.y;var g=((a.x-b.x)*h+(a.y-b.y)*f)/(h*h+f*f);0>g||b.x===c.x&&b.y===c.y?(h=b.x,b=b.y):1<g?(h=c.x,b=c.y):(h=b.x+g*h,b=b.y+g*f);a=D(h,b,a.x,a.y,!0);a<e.dist&&(e.dist=a,e.edge=d,e.point_x=h,e.point_y=b)}function Ha(a,b,c,d,e,h){var f=a.x-b.x,g=c.x-d.x,k=a.y-b.y,l=c.y-d.y,q=f*l-k*g;if(0===q)return null;b=a.x*b.y-a.y*b.x;var n=c.x*d.y-c.y*d.x;q=1/q;e.x=(b*g-f*n)*q;e.y=(b*l-k*n)*q;g=J(c.x,c.x,d.x);l=J(d.x,c.x,d.x);q=J(c.y,c.y,d.y);c=J(d.y,c.y,d.y);h=g===l?q<=e.y&&e.y<=c:q===c?g<=e.x&&e.x<=l:g<=e.x+h&&e.x-h<=l&&q<=e.y+h&&e.y-h<=c;return!h||0<k&&e.y>a.y||0>k&&e.y<a.y||0<f&&e.x>a.x||0>f&&e.x<a.x?null:e}function Q(a,b,c,d,e){var h=!0,f=2===d?1:-1;if(a===Infinity*f)return NaN;a===-Infinity*f&&(a=f*-C.MAX_VALUE/10);10<c&&(e=t(1E-32,c/32));var g=r(),k=r(),l=r();for(d=0;5>d;d++)a+=f*e,g.push(a),k.push(b(a));for(d=0;d<k.length;d++)l.push(X(k[d],c));for(d=1;d<l.length;d++)h=h&&l[d-1]===l[d];r(g);r(k);r(l);return!0===h?l[0]:NaN}function oa(a,b,c,d){c=p(c,.1);d=p(d,.1);if(0===b)return 0;if(1===b)return 1;if(1>c){c=1;var e=d/4}else e=d*pa(c)/z;switch(a){case 0:return c*u(1024,b-1)*g.sin(z*(e-b+1)/d);case 1:return 1-c*u(2,-10*b)*g.sin(z*(e-b)/d);case 2:return e=g.sin(z*(e-2*b+1)/d),.5>b?c*u(2,20*b-11)*e:1-c*u(2,9-20*b)*e}}function Ia(a){var b=r();b[0]=O();b[1]=O();a&&b[1]<b[0]&&(a=b[1],b[1]=b[0],b[0]=a);return b}function R(a,b){b=p(b,g.E);return K(a)/K(b)}function P(a,b){return a-g.floor(a/b)*b}function qa(a,b){b=p(b,7);if(.5>a)return g.PI/(g.sin(a*g.PI)*qa(1-a,b));a--;for(var c=Ja[0],d=1;d<b+2;d++)c+=Ja[d]/(a+d);d=a+b+.5;return Y*u(d,a+.5)*g.exp(-d)*c}function Ka(a){var b=1.000000000190015,c=a;var d=a+5.5;d-=(a+.5)*K(d);for(var e=0;6>e;e++)b+=qb[e]/++c;return K(Y*b/a)-d}function ea(a,b){for(var c=1,d=0;d<b;d++)c*=(a-d)/(d+1);return c}function u(a,b){switch(b){case .5:return g.sqrt(a);case La:return g.cbrt(a)}var c=t(a,b);return C.isNaN(c)&&0>a&&!ra(1/b)?-t(g.abs(a),b):c}function Ma(a,b){var c=1,d=1,e=a;b=p(b,50);for(var h=1;h<b;h++)c*=h,d*=-1,e+=d*t(a,2*h+1)/(c*(2*h+1));return 2*e/Na}function Oa(a,b){return 1-Ma(a,b)}function Pa(a){return-sa(a/2)/g.SQRT2}function ta(a){if(0>a)return-6.1>a?2*g.exp(a*a):2*g.exp(a*a)-ta(-a);if(50<a){var b=a*a;return 5E7<a?fa[21]/a:fa[21]*(b*(b+4.5)+2)/(a*(b*(b+5)+3.75))}for(var c=b=0,d=9;-1<d;d--){b+=fa[d];if(0===d)break;b*=a}for(d=20;9<d;d--){c+=fa[d];if(10===d)break;c*=a}return b/c}function sa(a){var b=0,c=0;if(a<Z[21]){var d=g.sqrt(-2*K(a));for(a=11;17>a;a++){b+=Z[a];if(16===a)break;b*=d}for(a=17;21>a;a++)c+=Z[a],c*=d;b/=c+1}else{d=a-.5;var e=d*d;for(var h=0;6>h;h++){b+=Z[h];if(5===h){b*=d;break}b*=e}for(d=6;11>d;d++)c+=Z[d],c*=e;b/=c+1;b-=Y*(.5*ta(-b/g.SQRT2)-g.exp(.5*b*b)*a)}return b}function Qa(a,b,c){return ea(c,b)*u(a,b)*u(1-a,c-b)}function ha(a,b){switch(a){case 0:return g.round(b);case 1:return g.floor(b);case 2:return g.ceil(b);case 3:return g.trunc(b);case 4:return Ra(b)}return b}function L(a,b,c,d){c=p(c,0);d=p(d,10);c=u(d,c);return ha(a,b*c)/c}function M(a,b,c,d){c=p(c,0);d=p(d,10);d=p(d,10);var e=g.abs(b);e=10===d?g.log10(e):2===d?g.exp(e):R(e,d);e=g.floor(e-c+1);c=u(d,g.abs(e));return 0>e?ha(a,b*c)/c:ha(a,b/c)*c}function Ra(a){return 0<a?g.ceil(a):g.floor(a)}function Sa(a,b){return Ta(a,b)?a:-a}function J(a,b,c){return a<b?b:a>c?c:a}function Ua(a,b,c){return a*(c-b)+b}function ua(a,b,c,d,e,h){a=p(a,0);b=p(b,1);if(a>b)return null==e?0:e;if(a===b)return null==h?a:h;d?"function"===typeof d?d=d():(e=r(),e[0]="number"===typeof d?d:p(d[0],0),e[1]=p(d[1],0),e[2]=p(d[2],0),e[3]=p(d[3],0),e[4]=p(d[4],0),rb(e),d=Ea(e[5],e[6],e[4])/Va,r(e)):d=O();c?(a=g.ceil(a),b=g.floor(b),d=g.floor(d*(b-a+1))+a):d=d*(b-a)+a;return d}function Wa(a){a=S(a);a>g.PI&&(a-=z);return a}function S(a){return P(a,z)}function Xa(a){return P(a,360)}function va(a,b,c,d){return g.atan2(d-b,c-a)}function Ya(a,b,c){a=S(a);b=S(b);c=S(c);if(S(c-b)>=g.PI){var d=b;b=c;c=d}return b<=c?a>=b&&a<=c:a>=b||a<=c}function D(a,b,c,d,e){a-=c;b-=d;b=a*a+b*b;e&&(b=g.sqrt(b));return b}function aa(a,b,c,d,e,h,f,m){if(a)return g.abs((e-c)*h-(d-b)*f+d*c-e*b)/D(b,c,d,e,!0);a=D(b,c,d,e,!1);if(0===a)return D(h,f,b,c,m);a=g.max(0,g.min(1,((h-b)*(d-b)+(f-c)*(e-c))/a));return D(h,f,b+a*(d-b),c+a*(e-c),m)}function Za(a,b,c,d,e,h,f,g,k,l){var m=y(l,!0);m.x=null;m.y=null;m.onLine1=!1;m.onLine2=!1;var n=c-a;var A=d-b;var p=f-e;var w=g-h;var v=b-h;var x=a-e;l=w*n-p*A;if(0===l)return C.isNaN((A*x-n*v)/(n*w-p*A))&&C.isNaN((p*v-w*x)/(p*A-n*w))&&(m.onLine1=ba(!0,a,b,c,d,e,h,k)||ba(!0,a,b,c,d,f,g,k),m.onLine2=m.onLine1),m;c=n*v-A*x;v=(p*v-w*x)/l;x=c/l;m.x=a+v*n;m.y=b+v*A;0<=v&&1>=v&&(m.onLine1=!0);0<=x&&1>=x&&(m.onLine2=!0);return m}function T(a,b,c,d,e,h){return(c-a)*(h-b)-(d-b)*(e-a)}function ba(a,b,c,d,e,h,f,g){g=p(g,1E-10);b-=h;c-=f;d=h-d;e=f-e;f=b*e-c*d;return f>=-g&&f<=g&&(0<=b*d+c*e||!a)}function $a(a,b,c,d,e,h){a=d-a;b=e-b;c+=h;return a*a+b*b<=c*c}function ab(a,b,c,d,e,h,f){var m=g.sin(e),k=g.sin(h);e=g.cos(e);h=g.cos(h);f=y(f,!0);f.x=c*h*e-d*k*m+a;f.y=d*k*e+c*h*m+b;return f}function bb(a,b,c,d,e,h,f,g){var k=b*e-a*h+(h-b)*f+(a-e)*g;f=a*d-b*c+(b-d)*f+(c-a)*g;if(0>k!==0>f)return!1;a=cb(a,b,c,d,e,h,!0);0<a&&(k*=-1,f*=-1,a*=-1);return 0<k&&0<f&&k+f>=a}function cb(a,b,c,d,e,h,f){a=(e-a)*(d-b)-(c-a)*(h-b);return f?a:g.abs(a/2)}function wa(a,b,c,d,e,h,f,m){return 0>=g.abs(c-a)||0>=g.abs(d-b)||0>=g.abs(f-e)||0>=g.abs(m-h)?!1:!(c<e||d<h||a>f||b>m)}function ja(a,b,c){var d=!1,e,h=-2;for(e=a.length-2;(h+=2)<a.length;e=h){var f=a[h];var g=a[h+1];var k=a[e];e=a[e+1];(g<=c&&c<e||e<=c&&c<g)&&b<(k-f)*(c-g)/(e-g)+f&&(d=!d)}return d}function xa(a,b){b=y(b,!0);b.xMin=C.MAX_SAFE_INTEGER;b.yMin=C.MAX_SAFE_INTEGER;b.xMax=C.MIN_SAFE_INTEGER;b.yMax=C.MIN_SAFE_INTEGER;for(var c,d,e=0;e<a.length;e+=2)c=a[e],d=a[e+1],b.xMin=g.min(b.xMin,c),b.yMin=g.min(b.yMin,d),b.xMax=g.max(b.xMax,c),b.yMax=g.max(b.yMax,d);return b}function ya(a,b){if(6>a.length)return 0;for(var c=a.length-2,d=0,e=0;e<c;e+=2)d+=(a[e+2]-a[e])*(a[e+1]+a[e+3]);d+=(a[0]-a[c])*(a[c+1]+a[1]);return b?d:g.abs(d/2)}function db(a,b,c,d,e){e=y(e,!0);e.x=g.cos(d)*c+a;e.y=g.sin(d)*c+b;return e}function za(a,b,c,d){d=y(d,!0);d.x=a*c;d.y=b*c;return d}function ka(a,b,c){a=a*a+b*b;return c?g.sqrt(a):a}function eb(a){return 1-g.cos(a)}function fb(a){return 1+g.cos(a)}function gb(a){return 1-g.sin(a)}function hb(a){return 1+g.sin(a)}function ib(a){return 1/g.sin(a)}function jb(a){return 1/g.cos(a)}function pa(a){return g.asin(1/a)}function Aa(a){return g.acos(1/a)}function ra(a){return C.isInteger(a)&&0===(a&1)}function Ta(a,b){return 0<=a!==0>b}function kb(a){return a*(2-a)}function lb(a){return 1-Ba(1-a)}function Ba(a){return a<U[0]?7.5625*a*a:a<U[1]?7.5625*(a-=U[2])*a+.75:a<U[3]?7.5625*(a-=U[4])*a+.9375:7.5625*(a-=U[5])*a+.984375}function Ca(a,b){return b?a.toString(2).length:32-g.clz32(g.abs(a))}for(var g=E.Math,C=E.Number,Ja=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9.984369578019572E-6,1.5056327351493116E-7],qb=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5.395239384953E-6],fa=[.9999999999999999,2.224574423459406,2.444115549920689,1.7057986861852539,.8257463703357973,.28647031042892007,.07124513844341643,.012296749268608364,.001347817214557592,7.263959403471071E-5,1,3.352953590554884,5.227518529742423,5.003720878235473,3.266590890998987,1.5255421920765353,.5185887413188858,.12747319185915415,.02185979575963238,.0023889438122503674,1.2875032817508128E-4,.5641895835477563],Z=[-39.6968302866538,220.946098424521,-275.928510446969,138.357751867269,-30.6647980661472,2.50662827745924,-54.4760987982241,161.585836858041,-155.698979859887,66.8013118877197,-13.2806815528857,-.00778489400243029,-.322396458041136,-2.40075827716184,-2.54973253934373,4.37466414146497,2.93816398269878,.00778469570904146,.32246712907004,2.445134137143,3.75440866190742,.02425],U=[1/2.75,2/2.75,1.5/2.75,2.5/2.75,2.25/2.75,2.625/2.75],mb=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],Va=g.pow(2,32)-1,sb=(g.sqrt(3)-1)/2,Da=(3-g.sqrt(3))/6,la=1/6,tb=Va/2-.5,La=1/3,pb=80*g.sqrt(10),ub=g.PI/180,vb=180/g.PI,wb=g.sqrt(3)/2,t=g.pow,O=g.random,V=[],N={},ca={},B=[],G=[],nb=0;6>nb;nb++)B.push({x:0,y:0,flag:!1});C.EPSILON||(C.EPSILON=1-3*(4/3-1));var rb=function(){function a(a,b,c){f^=b>>>a;g^=c>>>a|(b&4294967295>>>32-a)<<32-a}var b,c,d,e,h,f,g;return function(k){b=k[0];c=k[1];d=k[2];e=k[3];h=(e>>>0)+(c>>>0);k[5]=d+b+(h/2>>>31)>>>0;k[6]=h>>>0;k[0]=d;k[1]=e;f=b<<23|(-512&c)>>>9;g=c<<23;b^=f;c^=g;f=b^d;g=c^e;a(18,b,c);a(5,d,e);k[2]=f;k[3]=g}}(),ma=g.PI/2,z=2*g.PI,Na=g.sqrt(g.PI),Y=g.sqrt(z),xb=(1+g.sqrt(5))/2,yb=g.log(1+g.SQRT2)+g.SQRT2,zb=(g.cbrt(108+12*g.sqrt(69))+g.cbrt(108-12*g.sqrt(69)))/6,Ab={ARC:4*(g.SQRT2-1)/3,SIN:.364212423249794,IN_QUAD:[.55,.085,.68,.53],IN_CUBIC:[.55,.055,.675,.19],IN_QUART:[.895,.03,.685,.22],IN_QUINT:[.755,.05,.855,.06],IN_SINE:[.47,0,.745,.715],IN_EXPO:[.95,.05,.795,.035],IN_CIRC:[.6,.04,.98,.335],IN_BACK:[.6,-.28,.735,.045],OUT_QUAD:[.25,.46,.45,.94],OUT_CUBIC:[.215,.61,.355,1],OUT_QUART:[.165,.84,.44,1],OUT_QUINT:[.23,1,.32,1],OUT_SINE:[.39,.575,.565,1],OUT_EXPO:[.19,1,.22,1],OUT_CIRC:[.075,.82,.165,1],OUT_BACK:[.175,.885,.32,1.275],IN_OUT_QUAD:[.455,.03,.515,.955],IN_OUT_CUBIC:[.645,.045,.355,1],IN_OUT_QUART:[.77,0,.175,1],IN_OUT_QUINT:[.86,0,.07,1],IN_OUT_SINE:[.445,.05,.55,.95],IN_OUT_EXPO:[1,0,0,1],IN_OUT_CIRC:[.785,.135,.15,.86],IN_OUT_BACK:[.68,-.55,.265,1.55]},K=g.log,X=L.bind(this,0),Bb=L.bind(this,1),Cb=L.bind(this,2),Db=L.bind(this,3),Eb=L.bind(this,4),Fb=M.bind(this,0),Gb=M.bind(this,1),Hb=M.bind(this,2),Ib=M.bind(this,3),Jb=M.bind(this,4),Kb=function(){function a(a,b,e,h,g){g?(v=A-b+g*la,x=p-e+g*la,r=w-h+g*la):(v=A,x=p,r=w);t=.6-v*v-x*x-r*r;y=a[d+b+a[f+e+a[l+h]]];c()}function b(a,b,e,h){h?(v=A-b+h*Da,x=p-e+h*Da):(v=A,x=p);t=.5-v*v-x*x;y=a[d+b+a[f+e]];c()}function c(){0<=t&&(t*=t,u+=t*t*(mb[y][0]*v+mb[y][1]*x))}var d,e,h,f,m,k,l,q,n,A,p,w,v,x,r,y,t,u;return function(c,v,x,r){u=0;if("number"===typeof r)return t=(v+x+r)*La,d=g.floor(v+t),f=g.floor(x+t),l=g.floor(r+t),t=(d+f+l)*la,A=v-d+t,p=x-f+t,w=r-l+t,A>=p?p>=w?(e=1,q=m=0,k=h=1,n=0):(A>=w?(e=1,q=m=0):(m=e=0,q=1),h=1,k=0,n=1):p<w?(m=e=0,q=1,h=0,n=k=1):A<w?(e=0,m=1,h=q=0,n=k=1):(e=0,m=1,q=0,k=h=1,n=0),d&=255,f&=255,l&=255,a(c,0,0,0),a(c,e,m,q,1),a(c,h,k,n,2),a(c,1,1,1,3),32*u;e=(v+x)*sb;d=g.floor(v+e);f=g.floor(x+e);m=(d+f)*Da;A=v-d+m;p=x-f+m;A>p?(e=1,m=0):(e=0,m=1);d&=255;f&=255;b(c,0,0);b(c,e,m,1);b(c,1,1,2);return 70*u}}(),Lb=oa.bind(this,0),Mb=oa.bind(this,1),Nb=oa.bind(this,2),Ob=function(){function a(a){if(a)A&&(r(A),A=void 0),p&&(r(p),p=void 0),w&&(r(w),w=void 0);else return p?w?A=r():w=r():p=r()}var b,c,d,e,h,f,g,k,l,q,n,A,p,w;return function(m,p,A,r,w,t,ia){if(A&&(g=r.length/A,!(1>p||p>g-1))){if(!t)for(t=a(),b=0;b<g;b++)t[b]=1;h=g+p+1;if(!w)for(w=a(),b=0;b<h;b++)w[b]=b;else if(w.length!==h)return a(!0);h=w.length-1-p;k=w[p];l=w[h];m=m*(l-k)+k;if(m<k||m>l)return a(!0);for(d=p;d<h&&!(m>=w[d]&&m<=w[d+1]);d++);n=a();for(b=0;b<g;b++){for(c=0;c<A;c++)n.push(r[b*A+c]*t[b]);n.push(t[b])}h=A+1;for(e=1;e<=p+1;e++)for(b=d;b>d-p-1+e;b--)for(q=(m-w[b])/(w[b+p+1-e]-w[b]),c=0;c<h;c++)f=b*h+c,n[f]=(1-q)*n[(b-1)*h+c]+q*n[f];ia=y(ia,!1);h*=d;for(b=0;b<A;b++)ia[b]=n[h+b]/n[h+A];a(!0);return ia}}}(),Pb=function(){var a;return function(b,c,d,e,h){e||(e=b);var f={min:b,max:c,change:d,next:e,current:e,mode:h};0>f.change?f.next=p(f.next,f.max):0<f.change&&(f.next=p(f.next,f.min));return function(b,c,d,e,h,g){"number"===typeof c&&(f.min=c);"number"===typeof d&&(f.max=d);"number"===typeof e&&(f.change=e);"number"===typeof h&&(f.next=h);"number"===typeof g&&(f.mode=g);f.current=f.next;switch(f.mode){case 1:f.next+=f.change;0>f.change&&f.next<f.min?f.next+=f.max-f.min:0<f.change&&f.next>f.max&&(f.next-=f.max-f.min);break;case 2:0>f.change?f.next<=f.min?f.next=f.max:(f.next+=f.change,f.next<f.min&&(f.next=f.min)):0<f.change&&(f.next>=f.max?f.next=f.min:(f.next+=f.change,f.next>f.max&&(f.next=f.max)));break;case 3:0>f.change&&f.next<f.min?(f.change*=-1,a=f.min-f.next,f.next=f.min,f.next+=f.change-(f.change-a),f.current=f.next):f.next>f.max&&(f.change*=-1,a=f.max-f.next,f.next=f.max,f.next+=f.change-(f.change-a),f.current=f.next);f.next+=f.change;break;case 4:0>f.change&&f.next<=f.min?(f.change*=-1,f.next=f.min,f.current=f.next):f.next>=f.max&&(f.change*=-1,f.next=f.max,f.current=f.next);f.next+=f.change;break;case 5:if(0>f.change&&f.next<=f.min){f.change*=-1;f.next+=f.change;f.current=f.min;break}else f.next>=f.max&&(f.change*=-1,f.next+=f.change,f.current=f.max);f.next+=f.change;break;default:0>f.change?f.next>f.min?f.next+=f.change:(f.next=f.min,f.current=f.next):0<f.change&&(f.next<f.max?f.next+=f.change:(f.next=f.max,f.current=f.max))}return b?f:f.current}}}();H(["M","HALF_PI",ma,"M","TAU",z,"M","SQRT_PI",Na,"M","SQRT_TAU",Y,"M","PHI",xb,"M","EM",.5772156649015329,"M","UPC",yb,"M","PLASTIC",zb,"M","KAPPA",Ab,"M","ln",K,"M","log",R,"M","mod",P,"M","rem",function(a,b,c,d){c||(c=b,b=0);d=p(d,0);if(b>c){var e=c;c=b;b=e}e=c-b;a=(a+b)%e-b;a<b&&(a+=e+d);a>c&&(a-=e);return a},"M","cycle",function(a,b){a%=b;return 0<a?a:a+b},"M","gamma",qa,"M","lnGamma",Ka,"M","factorial",function(a,b){a++;if(a===g.floor(a)){var c=a-1;if(c!==g.floor(c)||0>c||170<c)c=NaN;else if(0===c||1===c)c=1;else{for(var d=1,e=2;e<=c;e++)d*=e;c=d}}else c=0>a?g.PI/(g.sin(g.PI*a)*qa(1-a,b)):g.exp(Ka(a));return c},"M","nCr",ea,"M","nPr",function(a,b){for(var c=1,d=0;d<b;d++)c*=a-d;return c},"M","pow",u,"M","of",function(a,b){if(a===b)return 1;if(0>=a||0>=b||1===a||b>a)return 0;for(var c=b,d=b,e=1,h=r();c<a;){h.push(d);c*=d;e*=2;if(c===a)return e;d*=d}if(Infinity===c)return Infinity;for(;0<h.length;)if(d=h.pop(),c>a?(c/=d,e-=t(2,h.length)):(c*=d,e+=t(2,h.length)),c===a)return e;r(h);return e},"M","sigmoid",function(a,b){return 1/(1+g.exp(-b*a))},"M","pair",function(a,b){b+=a-1;return(b-1)*b/2+a},"M","unpair",function(a,b){b=y(b,!1);var c=g.floor(g.sqrt(2*a)-.5);b[0]=a-c*(c+1)/2;b[1]=c-b[0]+2;return b},"M","integral",function(a,b,c,d,e){d=p(d,1E-15);e=p(e,11);var h=t(2,-e),f,m=r(),k=r();for(f=0;f<20*t(2,e);f++){var l=f*h;var q=g.sinh(l);m[f]=g.tanh(ma*q);k[f]=g.PI*g.cosh(l)/(g.cosh(g.PI*q)+1);if(g.abs(1-m[f])<d)break}d=f;q=0;var n=(b-a)/2;b=(b+a)/2;for(f=1;f<e;f++)for(a=0;a<d;a+=t(2,e-f))if(0!==a%t(2,e-f+1)||1===f)0===a?q+=k[0]*c(b):(l=n*m[a],q+=k[a]*(c(b-l)+c(b+l)));r(m);r(k);return 2*n*h*q},"M","derivative",function(a,b,c,d,e){c=p(c,6);d=p(d,1E-15);e=p(e,1);var h,f=r();f[0]=(b(a+e)-b(a-e))/(2*e);for(var m=1;m<=c-1;m++){f[m]=0;var k=f[0];var l=e;e/=2;f[0]=(b(a+e)-b(a-e))/l;var q=4;for(h=1;h<=m;h++,q*=4)l=f[h],f[h]=(q*f[h-1]-k)/(q-1),k=l;if(g.abs(f[m]-f[m-1])<d)return r(f),f[m]}r(f);return NaN},"M","limit",function(a,b,c,d,e){d=p(d,10);e=p(e,1E-10);var h=c(b);switch(a){case 1:return Q(b,c,d,1,e);case 2:return Q(b,c,d,2,e);default:if(!C.isNaN(h))return h;if(!C.isNaN(b)){if(Infinity===b)return Q(b,c,d,1,e);if(-Infinity===b)return Q(b,c,d,2,e);a=Q(b,c,d,1,e);b=Q(b,c,d,2,e);if(a===b)return a}}return NaN},"M","solve",function(a,b,c,d,e,h){d=p(d,0);e=p(e,1E3);h=p(h,1E-15);var f=a;var m=c(a);for(var k=c(b),l=m;0<e--;){var q=b-a;g.abs(l)<g.abs(k)&&(a=b,b=f,f=a,m=k,k=l,l=m);var n=h*g.abs(b)+d/2;var A=(f-b)/2;if(g.abs(A)<=n||0===k)return b;if(g.abs(q)>=n&&g.abs(m)>g.abs(k)){var r=f-b;if(a===f){var w=k/m;a=r*w;var v=1-w}else v=m/l,w=k/l,m=k/m,a=m*(r*v*(v-w)-(b-a)*(w-1)),v=(v-1)*(w-1)*(m-1);0<a?v*=-1:a*=-1;a<.75*r*v-g.abs(n*v)/2&&a<g.abs(q*v/2)&&(A=a/v)}g.abs(A)<n&&(A=0<A?n:-n);a=b;m=k;b+=A;k=c(b);if(0<k&&0<l||0>k&&0>l)f=a,l=m}return NaN},"M","rational",function(a,b,c){b=p(b,0);var d=0,e=0,h=1;c=y(c,!1);c[0]=a;c[1]=1;do{var f=g.round(a*h);f=a-f/h;1===h&&(d=h,e=f);g.abs(f)<g.abs(e)&&(d=h,e=f);c[0]=g.round(a*d);c[1]=d;h++}while(0!==b?h<=b:c[0]/c[1]!==a);0===c[0]&&0===c[1]&&(c[0]=a,c[1]=1);return c},"M","pdf",function(a,b,c,d){c*=Y;return g.exp(-t(d-a,2)/(2*b))/c},"M","cdf",function(a,b,c,d){return Oa((a-c)/(b*g.SQRT2),d)/2},"M","ppf",function(a,b,c){return a-b*g.SQRT2*Pa(2*c)},"M","erf",Ma,"M","erfc",Oa,"M","ierf",function(a){return sa((a+1)/2)/g.SQRT2},"M","ierfc",Pa,"M","erfcx",ta,"M","invNorm",sa,"M","kelly",function(a,b){return(b*(a+1)-1)/a},"M","bernstein",Qa,"M","smooth",function(a,b,c,d){if(d)return c=p(c,32),d=g.exp(-c*a)+g.exp(-c*b),-K(d)/c;c=p(c,.1);d=J(.5+.5*(b-a)/c,0,1);return Ua(d,b,a)-c*d*(1-d)},"M","adjust",ha,"M","adjust2",L,"M","adjust3",M,"M","away",Ra,"M","round2",X,"M","floor2",Bb,"M","ceil2",Cb,"M","trunc2",Db,"M","away2",Eb,"M","round3",Fb,"M","floor3",Gb,"M","ceil3",Hb,"M","trunc3",Ib,"M","away3",Jb,"M","correct",function(a,b){b=p(b,13);return X(a,b)===X(a,b-1)?X(a,b):a},"M","near",function(a,b){return b?b*g.round(a/b):a},"M","snap",function(a,b,c,d,e,h,f){d=p(d,0);if(0===c)return b;b-=d;b=c*(e?M(a,b/c,h,f):L(a,b/c,h,f));return d+b},"M","discrete",function(a,b,c,d,e,h,f,g){e=p(e,1);b=(c*(1-b)+d*b)/e;return(h?M(a,b,f,g):L(a,b,f,g))*e},"M","shear",function(a){a=g.abs(a);return a-g.floor(a)},"M","precision",function(a){if(!C.isFinite(a))return 0;for(var b=1,c=0;g.round(a*b)/b!==a;)b*=10,c++;return c},"M","order",function(a){return 0===a?0:g.floor(K(g.abs(a))/g.LN10)},"M","ramp",function(a){return 0<a?a:0},"M","heaviside",function(a,b){if(C.isNaN(b))return NaN;if(0<b)return 1;if(0===b)switch(a){case 1:break;case 2:return 1;default:return.5}return 0},"M","haar",function(a){return.5>a&&0<=a?1:1>=a&&.5<a?-1:0},"M","rect",function(a){a=g.abs(a);return.5<a?0:.5===a?.5:.5>a?1:NaN},"M","tri",function(a){a=g.abs(a);return 1<=a?0:1-a},"M","fold",function(a,b){0>=b?(b=g.abs(b),a||(b-=.5)):a&&(b-=.5);return 2*b},"M","infd",function(a,b){b=1<=b%2?b+1:-1*b;a&&(b*=-1);return b/2},"M","one",function(a){return 1-2*g.abs(g.round(a)%2)},"M","copy",Sa,"M","flip",function(a){return a-2*a},"M","range",function(a,b,c,d,e,h){h=p(h,1);return d&&e?a>=b*h&&a<=c*h:d?a>=b*h&&a<c*h:e?a>b*h&&a<=c*h:a>b*h&&a<c*h},"M","compare",function(a,b,c,d,e){e=p(e,1);return d?c?a<=b*e:a<b*e:c?a>=b*e:a>b*e},"M","clamp",J,"M","wrap",function(a,b,c){c-=b;a=(a-b)%c;0>a&&(a+=c);return a+b},"M","bounce",function(a,b,c,d){a-=b;c-=b;d=p(d,1)+1;var e=2*c;a%=e;0>a&&(a+=e);a>c&&(a=c*d-a);return a+b},"M","approach",function(a,b,c){if(b<c){if(b+=a,b>c)return c}else if(b>c&&(b-=a,b<c))return c;return b},"M","map",function(a,b,c,d,e){return(c-a)*(e-d)/(b-c)+e},"M","norm",function(a,b,c){return(a-b)/(c-b)},"M","lerp",Ua,"M","change",function(a,b,c,d){return c*a/d+b},"M","reverse",function(a,b,c){return c-a+b},"M","gcd",function(){if(0===arguments.length-1)return NaN;var a=r(),b=arguments[arguments.length-1];Array.isArray(b)||(b=[]);a[0]=arguments[0];for(var c=arguments.length-(arguments[arguments.length-1]===b?1:0),d=1;d<c;d++)W(a[0],arguments[d],a);b.push.apply(b,a);r(a);return b},"M","lcm",function(){if(0===arguments.length)return NaN;var a=arguments[0],b=r();b[0]=a;for(var c=1;c<arguments.length;c++)W(a,arguments[c],b),a=a*arguments[c]/b[0];r(b);return a},"M","factor",function(a,b){var c=y(b,!1),d;for(d=2;d<=a;d++)for(;0===a%d;)c.push(d),a/=d;return c},"M","divisor",function(a,b){var c=ra(a),d=c?1:2,e=y(b,!1);e[0]=1;e[1]=a;for(var h=c?2:3;t(h,2)<=a;h+=d)0===a%h&&(e.push(h),c=a/h,c!==h&&e.push(c));return e},"M","random",ua,"M","randomTri",function(a,b,c,d){c=p(c,0);d=ua(0,1,!1,d);var e=b-a;return d<=(c-a)/e?a+g.sqrt(d*e*(c-a)):b-g.sqrt((1-d)*e*(b-c))},"M","randomCirc",function(a,b,c,d,e){a=ua(a,b,!1,e);d-=c;d*=d;return g.sqrt(d-d*a*a)+c},"M","vnoise",function(a,b,c,d){a=1619*b+31337*c+6971*d+1013*a&2147483647;a^=a>>13;return(a*(a*a*60493+19990303)+1376312589&2147483647)/tb},"M","tnoise",function(a,b){var c,d=r(),e=r();for(c=0;256>c;c++)d[c]=c;for(c=0;255>c;c++){var h=c+g.floor(a[c]*(256-c));var f=d[c];d[c]=d[h];d[h]=f}b=y(b,!1);for(c=0;512>c;c++)e[c]=d[c&255],b[c]=e[c]%12;r(d);r(e);return b},"M","snoise",Kb,"M","worley",function(a,b,c,d,e,h){var f=r();f[0]="number"===typeof a?a:p(a[0],0);f[1]=p(a[1],0);f[2]=p(a[2],0);var m,k,l,q;h=y(h,!1);for(m=0;3>m;m++)h.push(Infinity);for(m=-1;2>m;++m)for(k=-1;2>k;++k)for(l=-1;2>l;++l){var n=g.floor(b)+m;var A=g.floor(c)+k;var t=g.floor(d)+l;a=da(Ea(f[0]+n&4294967295,f[1]+A&4294967295,f[2]+t&4294967295));var w=a&4294967295;w=393325350>w?1:1022645910>w?2:1861739990>w?3:2700834071>w?4:3372109335>w?5:3819626178>w?6:4075350088>w?7:4203212043>w?8:9;for(q=0;q<w;++q){a=da(a);var v=a/4294967296+n;a=da(a);var x=a/4294967296+A;a=da(a);var u=a/4294967296+t;v=b-v;x=c-x;u=d-u;v=e(v,x,u);for(u=h.length-1;0<=u&&!(v>h[u]);u--)x=h[u],h[u]=v,u+1<h.length&&(h[u+1]=x)}}for(m=0;m<h.length;m++)h[m]=0>h[m]?0:1<h[m]?1:h[m];r(f);return h},"G","normRad",Wa,"G","toRad",function(a){return a*ub},"G","fullRad",S,"G","normDeg",function(a){a=Xa(a);180<a&&(a-=360);return a},"G","toDeg",function(a){return a*vb},"G","fullDeg",Xa,"G","cssnAngle",function(a,b){var c=(1+g.acos(a)/z)*z;0>b&&(c=z-c);return P(c,z)},"G","scaleAngle",function(a,b,c,d){b=P(b,z);c=P(c,z);if(b===c)return b;d=d?1===d===b<c?d*z:0:-z;return P(b+a*(c-b-d),z)},"G","getAngle",va,"G","reflAngle",function(a,b){return 2*b-a},"G","diffAngle",function(a,b){a=Wa(a-b);return a>g.PI?z-a:a},"G","isBetwAngle",Ya,"G","colliAnglePnt",function(a,b,c,d,e,h){return Ya(va(c,d,e,h),a,b)},"G","distPnt",D,"G","polarDistPnt",function(a,b,c,d,e){a=a*a+c*c-2*a*c*g.cos(d-b);e&&(a=g.sqrt(a));return a},"G","manDistPnt",function(a,b,c,d){return g.abs(a-c)+g.abs(b-d)},"G","chevDistPnt",function(a,b,c,d){return g.max(g.abs(a-c),g.abs(b-d))},"G","rotPnt",function(a,b,c,d,e,h,f){h=p(h,e);h=g.sin(h);e=g.cos(e);c-=a;d-=b;f=y(f,!0);f.x=c*e-d*h+a;f.y=c*h+d*e+b;return f},"G","anglePnt",function(a,b,c,d,e,h){a-=e;b-=h;c-=e;d-=h;return g.acos((a*c+b*d)/g.sqrt((a*a+b*b)*(c*c+d*d)))},"G","cntrPnt",function(a,b,c,d,e,h){var f=D(c,d,a,b,!0);var m=(a+c)/2;var k=(b+d)/2;e=g.sqrt(e*e-t(f/2,2))/f;b=(b-d)*e;a=(c-a)*e;h=y(h,!0);h.x1=m+b;h.y1=k+a;h.x2=m-b;h.y2=k-a;return h},"G","cmpPnt",function(a,b,c,d,e){e=p(e,1E-10);return g.abs(a-c)>e?a>c?1:-1:g.abs(b-d)>e?b>d?1:-1:0},"G","slopeLine",function(a,b,c,d){return(d-b)/(c-a)},"G","stdLine",function(a,b,c,d,e){e=y(e,!0);0===c-a?(e.a=-1,e.b=0,e.c=a):(a=(d-b)/(c-a),e.a=a,e.b=-1,e.c=-c*a+d);return e},"G","distLinePnt",aa,"G","distLine",function(a,b,c,d,e,h,f,g,k,l){b=aa(a,h,f,g,k,b,c,l);return 0<b?(a=aa(a,h,f,g,k,d,e,l),b<a?b:a):0},"G","intrLine",Za,"G","sideLine",T,"G","onLine",function(a,b,c,d,e,h){c=(c-a)*e;d=(d-b)*e;h=y(h,!0);h.x=a+c;h.y=b+d;return h},"G","colliLinePnt",ba,"G","getXLine",function(a,b,c,d,e){b=d-b;return 0===b?null:(c-a)*(e-d)/b+c},"G","getYLine",function(a,b,c,d,e){a=c-a;return 0===a?null:(e-c)*(d-b)/a+d},"G","colliRayRect",function(a,b,c,d,e,h,f,m){e=-(a-e)/c;a=-(a-f)/c;c=g.min(e,a);f=g.max(e,a);e=-(b-h)/d;a=-(b-m)/d;c=g.max(c,g.min(e,a));f=g.min(f,g.max(e,a));return f>g.max(c,0)},"G","colliArcCircPnt",function(a,b,c,d,e,h,f,g,k){a-=c;b-=d;return!(0<-h*b+f*a)&&0<-g*b+k*a&&$a(0,0,0,a,b,e)},"G","colliCircPnt",function(a,b,c,d,e,h){h=p(h,1E-10);a=D(d,e,a,b,!1);c*=c;return a<c?1:g.abs(a-c)<h?0:-1},"G","colliCirc",$a,"G","colliCircRect",function(a,b,c,d,e,h,f){return D(J(a,d,h),J(b,e,f),a,b,!1)<=c*c},"G","intrCirc",function(a,b,c,d,e,h,f){var m=D(a,b,d,e,!0);h=(c*c-h*h+m*m)/(2*m);var k=h/m;if(h>c)return NaN;var l=a+(d-a)*k,q=b+(e-b)*k;c=g.sqrt(c*c-h*h)/m;h=e-b;k=d-a;f=y(f,!1);f[0]=l-c*h;f[1]=q+c*k;f[2]=l+c*h;f[3]=q-c*k;return f},"G","intrCircLine",function(a,b,c,d,e,h,f,m,k){k=y(k,!0);k.x=null;k.y=null;k.x1=null;k.y1=null;k.x2=null;k.y2=null;k.onLine=!1;k.onLine1=!1;k.onLine2=!1;var l=D(d,e,h,f,!0);var q=(h-d)/l;l=(f-e)/l;var n=q*(a-d)+l*(b-e);k.x=n*q+d;k.y=n*l+e;a=D(k.x,k.y,a,b,!0);a<c?(c=g.sqrt(c*c-a*a),k.x1=(n-c)*q+d,k.y1=(n-c)*l+e,k.onLine1=ba(!0,d,e,h,f,k.x1,k.y1,m),k.x2=(n+c)*q+d,k.y2=(n+c)*l+e,k.onLine2=ba(!0,d,e,h,f,k.x2,k.y2,m)):a===c?k.onLine=!0:(k.x=null,k.y=null);return k},"G","randomCirc",function(a,b,c,d,e){d=Ia(d);r(d);return db(a,b,d[1]*c,z*d[0]/d[1],e)},"G","onElli",ab,"G","colliElliPnt",function(a,b,c,d,e,h,f){var m=g.sin(e);e=g.cos(e);h-=a;f-=b;a=e*h+m*f;m=m*h-e*f;e=a;return 1>=4*e*e/(c*c)+4*m*m/(d*d)},"G","intrElli",function(a,b,c,d,e,h,f,m,k,l,q){var n=g.cos(e),p=g.sin(e),t=g.cos(l),w=g.sin(l),v=g.cos(e-l),x=g.sin(e-l);e=d*(-a*n+h*n-b*p+f*p);var u=m*d*v;l=d*k*x;a=c*(-b*n+f*n+a*p-h*p);b=-c*m*x;v*=c*k;n=c*d;var B=n*n;p=e+u;x=a+b;d=e-u;var C=a-b;q=y(q,!1);c=r();var z=d*d+C*C-B;d=4*(l*d+v*C)/z;e=2*(e*e-u*u+2*l*l+a*a-b*b+2*v*v-B)/z;l=4*(l*p+v*x)/z;x=(p*p+(x-n)*(x+n))/z;a=d*d;v=2*e;b=4*x;u=0;z=l*d-b;n=-e;n/=1;z/=1;B=n*n;p=(3*z-B)/9;x=(9*n*z-27*(4*e*x-l*l-a*x)-2*B*n)/54;z=p*p*p;B=z+x*x;0<=B?(z=g.sqrt(B),p=g.cbrt(x+z),x=g.cbrt(x-z),x=-n/3+p+x):x=2*g.sqrt(-p)*g.cos(g.acos(x/g.sqrt(-z))/3)-n/3;B=.75*a;C=a/4-e+x;z=g.sqrt(C);n=-d/4;p=z/2;0===C?(v=B-v,d=2*g.sqrt(x*x-b)):(v=B-C-v,d=(4*d*e-8*l-a*d)/(4*z));e=v+d;l=v-d;v=n+p;0<=e&&(d=g.sqrt(e)/2,c[u++]=v+d,c[u++]=v-d);v=n-p;0<=l&&(d=g.sqrt(l)/2,c[u++]=v+d,c[u++]=v-d);d=u;for(l=0;l<d;++l)u=2*g.atan(c[l]),e=g.cos(u)*m,u=g.sin(u)*k,q[2*l]=h+e*t-u*w,q[2*l+1]=f+e*w+u*t;r(c);return q},"G","intrElliLine",function(a,b,c,d,e,h,f,m,k,l){var q=g.sin(e);e=g.cos(e);var n=d*((-a+h)*e+(-b+f)*q),p=c*((-b+f)*e+(a-h)*q),r=c*d;d=n-d*((-a+m)*e+(-b+k)*q);b=p-c*((-b+k)*e+(a-m)*q);a=d*d+b*b;d=-2*(n*d+p*b);n=d*d-4*a*(-r*r+n*n+p*p);l=y(l,!1);0===n?(n=-d/(2*a),l[0]=(1-n)*h+n*m,l[1]=(1-n)*f+n*k):0<n&&(p=g.sqrt(n),r=0,n=(-d-p)/(2*a),l[0]=(1-n)*h+n*m,l[1]=(1-n)*f+n*k,r++,n=(-d+p)/(2*a),l[2*r]=(1-n)*h+n*m,l[2*r+1]=(1-n)*f+n*k);return l},"G","boundElli",function(a,b,c,d,e,h){var f=g.atan(-d*g.tan(e)/c),m=g.atan(d*g.cot(e)/c),k=g.sin(e);e=g.cos(e);f=g.abs(c*g.cos(f)*e-d*g.sin(f)*k);m=g.abs(d*g.sin(m)*e+c*g.cos(m)*k);h=y(h,!0);h.xMin=-f+a;h.yMin=-m+b;h.xMax=f+a;h.yMax=m+b;return h},"G","randomElli",function(a,b,c,d,e,h,f){h=Ia(h);r(h);return ab(a,b,h[1]*c,h[1]*d,e,z*h[0]/h[1],f)},"G","distElliPnt",function(a,b,c){return 1/g.sqrt(t(g.sin(c)/b,2)+t(g.cos(c)/a,2))},"G","centroidTri",function(a,b,c,d,e,h,f){f=y(f,!0);f.x=(a+c+e)/3;f.y=(b+d+h)/3;return f},"G","equilTri",function(a,b,c,d){var e=b+c*wb;c/=2;d=y(d,!0);d.x1=a;d.y1=b;d.x2=a+c;d.y2=e;d.x3=a-c;d.y3=e;return d},"G","rightTri",function(a,b,c,d,e){e.x1=a;e.y1=b;e.x2=a;e.y2=b-d;e.x3=a+c;e.y3=b;return e},"G","crcmCntrTri",function(a,b,c,d,e,h,f){f=y(f,!0);a-=e;b-=h;c-=e;var g=d-h,k=c*c+g*g;g=2*(a*g-b*c);d=(a*a+b*b)*c;f.x=e-(b*k-d)/g;f.y=h+(a*k-d)/g;return f},"G","crcmCircTri",function(a,b,c,d,e,h,f){var m=c-a,k=d-b,l=e-a,q=h-b,n=m*(a+c)+k*(b+d),p=l*(a+e)+q*(b+h);c=2*(m*(h-d)-k*(e-c));f=y(f,!0);f.x=(q*n-k*p)/c;f.y=(m*p-l*n)/c;a=f.x-a;b=f.y-b;f.r=2*g.sqrt(a*a+b*b);return f},"G","inCircTri",function(a,b,c,d,e,h,f){var m=D(e,h,c,d,!0),k=D(a,b,e,h,!0),l=D(c,d,a,b,!0),q=m+k+l,n=(l+m+k)/2;f=y(f,!0);f.x=(a*m+c*k+e*l)/q;f.y=(b*m+d*k+h*l)/q;f.r=g.sqrt(n*(n-l)*(n-m)*(n-k))/n;return f},"G","colliTriPnt",bb,"G","areaTri",cb,"G","randomTri",function(a,b,c,d,e,h,f){f=y(f,!0);var m=g.sqrt(O()),k=O(),l=1-m,q=m*(1-k);m*=k;f.x=l*a+q*c+m*e;f.y=l*b+q*d+m*h;return f},"G","colliRectPnt",function(a,b,c,d,e,h){return 0>=c-a||0>=d-b?!1:a<=e&&c>=e&&b<=h&&d>=h},"G","colliRect",wa,"G","intrRect",function(a,b,c,d,e,h,f,m,k){wa(a,b,c,d,e,h,f,m)&&(k=y(k,!0),k.xMin=g.max(a,e),k.yMin=g.max(b,h),k.xMax=g.min(c,f),k.yMax=g.min(d,m));return k},"G","randomRect",function(a,b,c,d,e){e=y(e,!0);e.x=a+O()*g.abs(c-a);e.y=b+O()*g.abs(d-b);return e},"G","colliPolyPnt",ja,"G","colliPolyCirc",function(a,b,c,d){if(ja(a,b,c))return!0;for(var e=2;e<a.length;e+=2)if(aa(!1,a[e-2],a[e-1],a[e],a[e+1],b,c,!1)<d*d)return!0;return aa(!1,a[a.length-2],a[a.length-1],a[0],a[1],b,c,!1)<d*d},"G","colliPoly",function(a,b){I();var c=xa(a,N),d=xa(b,ca);if(wa(c.xMin,c.yMin,c.xMax,c.yMax,d.xMin,d.yMin,d.xMax,d.yMax))for(d=a.length>b.length?a.length:b.length,c=0;c<d;c+=2)if(ja(b,a[c],a[c+1])&&c<=a.length||ja(a,b[c],b[c+1])&&c<=b.length)return!0;return!1},"G","isSimplePoly",function(a){I();var b=a.length/2;if(4>b)return!0;for(var c,d,e,h,f,m,k,l,q=0;q<b;q++){c=a[2*q];d=a[2*q+1];q===b-1?(e=a[0],h=a[1]):(e=a[2*q+2],h=a[2*q+3]);for(var n=0;n<b;n++)if(!(2>g.abs(q-n)||n===b-1&&0===q||q===b-1&&0===n)&&(f=a[2*n],m=a[2*n+1],n===b-1?(k=a[0],l=a[1]):(k=a[2*n+2],l=a[2*n+3]),Za(c,d,e,h,f,m,k,l,N),N.onLine1&&N.onLine2))return!1}return!0},"G","isConvexPoly",function(a){if(6>=a.length)return!1;var b=0<ya(a,!0),c=T(a[a.length-3],a[a.length-2],a[0],a[1],a[2],a[3]);c=0<c||0>g.abs(c);for(var d=2;d<a.length-2;d+=2){var e=T(a[d-2],a[d-1],a[d],a[d+1],a[d+2],a[d+3]);if((b?0<e:0>e)!==c)return!0}return!1},"G","boundPoly",xa,"G","triPoly",function(a,b){b=y(b,!1);var c=a.length/2;if(3>c)return b.push.apply(b,a),b;var d,e,h=r(),f=r();for(d=0;d<c;d++)f.push(d);d=0;for(e=c;3<e;){var g=f[(d+0)%e];var k=f[(d+1)%e];var l=f[(d+2)%e];var q=a[2*g];var n=a[2*g+1];var p=a[2*k];var u=a[2*k+1];var w=a[2*l];var v=a[2*l+1];var t=!1;if(0<=T(q,n,p,u,w,v))for(t=!0,c=0;c<e;c++){var z=f[c];if(z!==g&&z!==k&&z!==l&&bb(q,n,p,u,w,v,a[2*z],a[2*z+1])){t=!1;break}}if(t){h.push(g,k,l);g=0;d=(d+1)%e;for(c=0;c<f.length;c++)c!==d&&(f[g++]=f[c]);f.length=g;e--;d=0}else if(d++>3*e)break}h.push(f[0],f[1],f[2]);b.push.apply(b,h);r(h);r(f);return b},"G","areaPoly",ya,"G","centroidPoly",function(a,b){b=y(b,!0);b.x=0;b.y=0;for(var c,d,e,h,f,g=0;g<a.length-2;g+=2)c=a[g],e=a[g+1],d=a[g+2],h=a[g+3],f=c*h-d*e,b.x+=(c+d)*f,b.y+=(e+h)*f;c=a[a.length-2];e=a[a.length-1];d=a[0];h=a[1];f=c*h-d*e;b.x+=(c+d)*f;b.y+=(e+h)*f;c=3*-ya(a,!0);b.x/=c;b.y/=c;return b},"G","convexHullPoly",function(a,b){var c,d=r(),e=r();a.sort(function(a,b){return a[0]===b[0]?a[1]-b[1]:a[0]-b[0]});for(c=0;c<a.length;c++){for(;2<=d.length&&0>=T(d[d.length-2][0],d[d.length-2][1],d[d.length-1][0],d[d.length-1][1],a[c][0],a[c][1]);)d.pop();d.push(a[c])}for(c=a.length-1;0<=c;c--){for(;2<=e.length&&0>=T(e[e.length-2][0],e[e.length-2][1],e[e.length-1][0],e[e.length-1][1],a[c][0],a[c][1]);)e.pop();e.push(a[c])}e.pop();d.pop();b.push.apply(b,d,e);r(d);r(e);return b},"G","distPolyRay",function(a,b,c,d,e,h,f){h=p(h,1E-10);var g=a.length-2,k=B[0],l=B[1],q=B[2],n=B[3],r=B[4];k.x=b;k.y=c;l.x=b+d;l.y=c+e;f=y(f,!0);f.dist=Infinity;f.edge=0;f.norm_x=0;f.norm_y=0;f.refl_x=0;for(c=f.refl_y=0;c<g;c+=2)q.x=a[c],q.y=a[c+1],n.x=a[c+2],n.y=a[c+3],(b=Ha(k,l,q,n,r,h))&&Fa(d,e,k,q,n,r,c/2,f);q.x=n.x;q.y=n.y;n.x=a[0];n.y=a[1];(b=Ha(k,l,q,n,r,h))&&Fa(d,e,k,q,n,r,a.length/2-1,f);return f},"G","intrPolyPnt",function(a,b,c,d){var e=a.length-2;d=y(d,!0);d.dist=Infinity;d.edge=0;d.point_x=0;d.point_y=0;d.norm_x=0;d.norm_y=0;B[0].x=b;B[0].y=c;for(var h=0;h<e;h+=2)B[2].x=a[h],B[2].y=a[h+1],B[3].x=a[h+2],B[3].y=a[h+3],Ga(B[0],B[2],B[3],h>>1,d);B[2].x=B[3].x;B[2].y=B[3].y;B[3].x=a[0];B[3].y=a[1];Ga(B[0],B[2],B[3],e>>1,d);a=1/d.dist;d.norm_x=(b-d.point_x)*a;d.norm_y=(c-d.point_y)*a;return d},"G","reversePoly",function(a,b){b=y(b,!1);for(var c=a.length-2;0<=c;c-=2)b.push(a[c],a[c+1]);return b},"G","timeAccel",function(a,b,c){return(b-a)/c},"G","distAccel",function(a,b,c){return(b*b-a*a)/(2*c)},"G","timeDistAccel",function(a,b,c){b=2*c*b+a*a;if(0>b)return-1;b=g.sqrt(b);return g.abs(g.max((b-a)/c,(-a-b)/c))},"G","distDecel",function(a,b){return 0===a?-1:a*(a-b)/(2*b)},"M","pol",function(a,b,c){c=y(c,!0);c.angle=va(0,0,a,b);c.radial=D(0,0,a,b,!0);return c},"M","rec",db,"M","normVec",function(a,b,c){c=y(c,!0);var d=ka(a,b,!0);c.x=a/d;c.y=b/d;return c},"M","scaleVec",za,"M","truncVec",function(a,b,c,d){c/=ka(a,b,!1);return za(a,b,1>c?c:1,d)},"M","magVec",ka,"M","dotVec",function(a,b,c,d){return a*c+b*d},"M","crossVec",function(a,b,c,d){return a*d-b*c},"M","wedgeVec",function(a,b,c,d){return a*d+b*c},"M","projVec",function(a,b,c,d,e){return za(c,d,(a*c+b*d)/ka(c,d,!1),e)},"M","rejVec",function(a,b,c,d,e){g.projVec(a,b,c,d,e);e.x=a-e.x;e.y=b-e.y;return e},"M","perVec",function(a,b,c){c=y(c,!0);c.x1=-b;c.y1=a;c.x2=b;c.y2=-a;return c},"M","lerpVec",function(a,b,c,d,e,h){h=y(h,!0);h.x=(c-a)*e+a;h.y=(d-b)*e+b;return h},"M","headVec",function(a,b){return-g.atan2(-b,a)},"M","revVec",function(a,b,c){c=y(c,!0);c.x*=-1;c.y*=-1;return c},"M","clockWiseVec",function(a,b,c,d){return 0<-a*d+b*c},"M","sinc",function(a){if(C.isNaN(a))return NaN;if(!C.isFinite(a))return 0;if(0===a)return 1;a*=g.PI;return g.sin(a)/a},"M","crd",function(a){return 2*g.sin(a/2)},"M","exsec",function(a){return jb(a)-1},"M","excsc",function(a){return ib(a)-1},"M","aexsec",function(a){return Aa(a+1)},"M","aexcsc",function(a){return pa(a+1)},"M","vsin",eb,"M","vcos",fb,"M","cvsin",gb,"M","cvcos",hb,"M","hvsin",function(a){return eb(a)/2},"M","hvcos",function(a){return fb(a)/2},"M","hcvsin",function(a){return gb(a)/2},"M","hcvcos",function(a){return hb(a)/2},"M","avsin",function(a){return g.acos(1-a)},"M","avcos",function(a){return g.acos(1+a)},"M","acvsin",function(a){return g.asin(1-a)},"M","acvcos",function(a){return g.asin(1+a)},"M","ahvsin",function(a){return 2*g.asin(g.sqrt(a))},"M","ahvcos",function(a){return 2*g.acos(g.sqrt(a))},"M","csc",ib,"M","csch",function(a){return 1/g.sinh(a)},"M","sec",jb,"M","sech",function(a){return 1/g.cosh(a)},"M","cot",function(a){return 1/g.tan(a)},"M","coth",function(a){return 1/g.tanh(a)},"M","acsc",pa,"M","acsch",function(a){return g.asinh(1/a)},"M","asec",Aa,"M","asech",function(a){return g.acosh(1/a)},"M","acot",function(a){return g.atan(1/a)},"M","acoth",function(a){return g.atanh(1/a)},"M","cssn",function(a,b){var c=g.sin(a);b=y(b,!1);b[0]=g.sqrt(1-c*c);b[1]=c;return b},"N","isPrime",function(a){return C.isNaN(a)||!C.isFinite(a)||2>a?!1:a===ob(a)?!0:!1},"N","isMinusZero",function(a){return-Infinity===1/a},"N","isEven",ra,"N","isNumeric",function(a){return"[object Array]"!==Object.prototype.toString.call(a)&&0<=a-parseFloat(a)+1},"N","isPOT",function(a){return 0!==a&&0===(a&a-1)},"N","isSameSign",Ta,"T","inQuad",function(a){return a*a},"T","outQuad",kb,"T","inOutQuad",function(a){return.5>a?2*a*a:2*(2-a)*a-1},"T","inCubic",function(a){return t(a,3)},"T","outCubic",function(a){return t(a-1,3)+1},"T","inOutCubic",function(a){return.5>a?4*t(a,3):4*t(a-1,3)+1},"T","inQuart",function(a){return t(a,4)},"T","outQuart",function(a){return 1-t(a-1,4)},"T","inOutQuart",function(a){return.5>a?8*t(a,4):1-8*t(a-1,4)},"T","inQuint",function(a){return t(a,5)},"T","outQuint",function(a){return 1+t(a-1,5)},"T","inOutQuint",function(a){return.5>a?16*t(a,5):1+16*t(a-1,5)},"T","inPow",function(a,b){return u(a,b)},"T","outPow",function(a,b){return 1-u(1-a,b)},"T","inOutPow",function(a,b){a*=2;return 1>a?g.pow(a,b)/2:1-g.pow(2-a,b)/2},"T","inLog",function(a,b){return 1-R(b*(1-a)+a,b)},"T","outLog",function(a,b){return R(a*(b-1)+1,b)},"T","inOutLog",function(a,b){a*=2;return 1>a?.5-R(b*(1-a)+a,b)/2:.5+R((a-1)*(b-1)+1,b)/2},"T","inSine",function(a,b){return 1-u(g.cos(a*ma),b)},"T","outSine",function(a,b){return u(g.sin(a*ma),b)},"T","inOutSine",function(a,b){return.5>a?.5-u(g.cos(g.PI*a),b)/2:u(g.cos(g.PI*(a-1)),b)/2+.5},"T","inExpo",function(a){return 0===a?0:u(2,10*(a-1))},"T","outExpo",function(a){return 1===a?1:1-u(2,-10*a)},"T","inOutExpo",function(a){return 0===a?0:1===a?1:.5>a?u(2,20*a-11):1-u(2,9-20*a)},"T","inCirc",function(a){return 1-g.sqrt(1-a*a)},"T","outCirc",function(a){--a;return g.sqrt(1-a*a)},"T","inOutCirc",function(a){return.5>a?(1-g.sqrt(1-4*a*a))/2:(g.sqrt(-4*(a-2)*a-3)+1)/2},"T","inElastic",Lb,"T","outElastic",Mb,"T","inOutElastic",Nb,"T","inBack",function(a,b,c){b=b?c?b:na(b):1.70158;return a*a*((b+1)*a-b)},"T","outBack",function(a,b,c){b=b?c?b:na(b):1.70158;return a*(b*((a-2)*a+1)+(a-3)*a+3)},"T","inOutBack",function(a,b,c){b=b?c?b:na(b):1.70158;c=c?1:1.525;if(.5>a){var d=2*a;return 2*a*a*(b*c*(d-1)+d)}d=a-1;return 2*d*d*(b*c*(2*a-1)+2*d)+1},"T","inBounce",lb,"T","outBounce",Ba,"T","inOutBounce",function(a){return.5>a?lb(2*a)/2:Ba(2*a-1)/2+.5},"T","bias",function(a,b){return a/(b*(1-a)+a)},"T","inOutBias",function(a,b){return.5>a?a/((2-2*b)*a+b):((2*b-1)*a-b+1)/(2*(b-1)*a-b+2)},"T","spring",function(a,b,c,d,e,h){b=g.max(1,p(b,300)/20);c=u(20,p(c,200)/100);d=p(d,0)/1E3;e=p(e,0);h=p(h,.8);var f=(d-a)/(d-1);a<d?(c=1-f*(d-1)*(h-1)*e/(100*d),e=-Aa(1-d/(d-1)*(d-1)*(h-1)*e/(100*d))/(b*d)):(c=u(c/10,-f)*(1-f),e=1);return 1-c*g.cos(b*(a-d)*e)},"T","bounce",function(a,b,c,d,e){var h=0;b=g.min(p(b,400)/1250,.8);c=p(c,200)/1E3;d=p(d,100);for(var f=0;2>f;f++){var m=0===f?g.sqrt(2/d):g.sqrt(2/(d*t*t));var k=-m;var l=1;e&&(k=0,m*=2);if(1===f){var q=k;var n=m,r=l;G[0]||G.push({});G[0].a=q;G[0].b=n;G[0].H=r;h++}for(;0===f?.001<l:1>m&&.001<l;)if(q=m-k,k=m,m+=q*b,0===f){l=l*b*b;var t=m}else{l*=c;q=h;n=k;r=m;var u=l;G[q]||G.push({});G[q].a=n;G[q].b=r;G[q].H=u;h++}}t=0;for(b=G[t];!(a>=b.a&&a<=b.b||(t+=1,b=G[t],t>h-1)););t>h-1?a=e?0:1:(t=b.b-b.a,a=2*(a-b.a)/t-1,a=a*a*b.H-b.H+1,e&&(a=1-a));return a},"T","slow",function(a,b,c,d){c=a+(.5-a)*(1!==b?c||0===c?c:.7:0);null==b?b=.7:1<b&&(b=1);var e=(1-b)/2,h=(b-1)*(b-1);return a<e?d?-(4*a*(b+a-1))/h:c*(1-t((-b-2*a+1)/(1-b),4)):a>e+b?d?1===a?0:4*(a-1)*(b-a)/h:t(b-2*a+1,4)*(a-c)/t(b-1,4)+c:d?1:c},"T","scale",function(a,b,c){return b*(u(c/b,a)-1)/(c-b)},"T","smoothStep",function(a,b){if(0>b)return 0;switch(b){case 1:return a*a*(3-2*a);case 2:return t(a,3)*(a*(6*a-15)+10);case 3:return t(a,4)*(35+a*(-84+(70-20*a)*a));case 4:return t(a,5)*(126+5*a*(-84+a*(108+7*a*(-9+2*a))));case 5:return t(a,6)*(462+a*(-1980-7*a*(-495+2*a*(220+9*a*(-11+2*a)))));case 6:return t(a,7)*(1716+7*a*(-1287+2*a*(1430+3*a*(-572+a*(390+11*a*(-13+2*a))))));default:for(var c=0,d=0;d<=b;d++)c+=ea(-b-1,d)*ea(2*b+1,b-d)*u(a,b+d+1);return c}},"T","overShoot",function(a,b){a=kb(a);return a*(1+g.sin(a*g.PI)*b)},"T","berp",function(a,b,c,d,e){b=p(b,.2);c=p(c,2.5);d=p(d,2.2);e=p(e,1.2);return(e*(a-1)-1)*((u(a,d)-1)*g.sin(g.PI*b*a+g.PI*t(a,4)*c)-a)},"T","envelope",function(a,b,c){b=p(b,.5);c=p(c,.5);return 0>a||1<a?0:a<=1-c?a>=b?1:a/b:(1-a)/c},"T","shift",function(a,b,c){return u(b,-b)*u(c,-c)*u(b+c,b+c)*u(1-a,b)*u(a,c)},"T","reverse",function(a,b){return 1-b(1-a)},"T","inOut",function(a,b){return.5>a?b(2*a)/2:1-b(2-2*a)/2},"T","outIn",function(a,b){return.5>a?.5-b(1-2*a)/2:(b(2*a-1)+1)/2},"T","rk4",function(a,b,c,d,e,h,f){f=y(f,!1);var g=h(a,b),k=b+g*d,l=-h(a+b*d,k),q=b+l*d;d=h(a+k*d,q);var n=b+d*c;f[0]=a+e*(b+2*(k+q)+n);f[1]=b+e*(g+2*(l+d)+h(a+q*c,n));return f},"T","wave",function(a,b,c,d,e,h,f,m,k){var l,q;if(f){k=p(k,10);var n=c-2,r=c*c;if(e)for(m=p(m,100),l=1;l<c-1;l++)for(q=1;q<c-1;q++)d[l*r+q]+=m*g.exp(-e*(l-h)*(l-h))*g.exp(-e*(q-f)*(q-f));for(l=1;l<n;l++)for(e=l*c,q=1;q<n;q++)h=e+q,d[2*r+h]=(2*d[2*r+h]-d[r+h])*b+a*(d[(l-1)*c+q]+d[(l+1)*c+q]+d[h-1]+d[h+1]-4*d[h]);for(l=1;l<n;l++)for(e=l*c,q=1;q<n;q++)d[r+e+q]=d[e+q];for(l=1;l<n;l++)for(e=l*c,q=1;q<n;q++)h=e+q,d[h]=d[2*r+h],k=g.max(g.abs(d[h]),k);return 0}c*=3;k=h%3;q=(h+1)%3;h=(h+2)%3;d[k]+=e;for(l=0;l<c;l+=3)e=0,0!==l&&l!==c-3&&(e=d[l-3+k]+d[l+3+k]-2*d[l+k]),d[l+q]=2*d[l+k]+a*e-d[l+h],d[l+q]*=b;return k},"T","poly",function(a,b,c){for(var d=0,e,h=0;h<b.length;h+=2){e=1;for(var f=0;f<b.length;f+=2)f!==h&&(e*=(a-b[f])/(b[h]-b[f]));d+=b[h+1]*u(e,c[h/2])}return d},"T","bezier",function(a,b,c){for(var d,e,h=0,f=0,g=b.length,k=0;k<g;k++)e=Qa(a,k,g-1)*c[k],d=e*b[k],h+=d,f+=e;return h/f},"T","bspline",Ob,"T","hspline",function(a,b,c,d,e,h,f,g){var k,l,m=r(),n=r();n.push.apply(n,e);n.unshift.call(n,e[e.length-2],e[e.length-1]);h?n.push.call(n,e[0],e[1],e[2],e[3]):n.push.call(n,e[0],e[1]);e=(1-c)*(1+b)*(1-a)*.5;h=(1-c)*(1-b)*(1+a)*.5;var p=(1-c)*(1+b)*(1+a)*.5;a=(1-c)*(1-b)*(1-a)*.5;for(k=2;k<n.length-2;){b=n[k]-n[k-2];c=n[k+1]-n[k-1];var t=n[k+2]-n[k];var u=n[k+3]-n[k+1];m.push(e*b+h*t,e*c+h*u,p*b+a*t,p*c+a*u);k+=2}k=2;for(g=y(g,!1);k<n.length-4;){g.push(n[k],n[k+1]);for(l=d;1>l;)t=l*l,u=2*l,e=(u-3)*t+1,p=(3-u)*t,u=l-1,h=u*u*l,a=u*t,b=e*n[k]+h*m[2*k-2]+p*n[k+2]+a*m[2*k],c=e*n[k+1]+h*m[2*k-1]+p*n[k+3]+a*m[2*k+1],g.push(b,c),l+=d;f&&g.push(n[k+2],n[k+3]);k+=2}r(m);r(n);return g},"T","count",Pb,"B","andNot",function(a,b){return!a&&b},"B","notAnd",function(a,b){return a&&!b},"B","nand",function(a,b){return!(a&&b)},"B","orNot",function(a,b){return a||!b},"B","notOr",function(a,b){return!a||b},"B","nor",function(a,b){return!(a||b)},"B","xor",function(a,b){return a?!b:b},"B","xnor",function(a,b){return!(a?!b:b)},"B","all",function(a){for(var b=0;b<a.length;b++)if(1!=a[b])return!1;return!0},"B","nall",function(a){for(var b=0;b<a.length;b++)if(1==a[b])return!0;return!1},"I","size",Ca,"I","clear",function(a,b){return a&~(1<<b)},"I","set",function(a,b){return a|1<<b},"I","find",function(a,b){return 1&a>>b},"I","flip",function(a,b){return a^1<<b},"I","reverse",function(a,b){if(b)return a=(a&65535)<<16|(a&4294901760)>>>16,a=(a&1431655765)<<1|(a&2863311530)>>>1,a=(a&858993459)<<2|(a&3435973836)>>>2,a=(a&252645135)<<4|(a&4042322160)>>>4,(a&16711935)<<8|(a&4278255360)>>>8;var c=0,d=a;for(a=g.abs(a);0<a;){var e=a&1;a>>=1;c+=e&1;c<<=1}return Sa(c>>1,d)},"I","rol",function(a,b,c){c=p(c,Ca(a));return a<<b&(1<<c)-1|a>>c-b},"I","ror",function(a,b,c){c=p(c,Ca(a));return a>>b|a<<c-b&(1<<c)-1}],E)})(function(H,E){for(var p={},y={},r={},I=0;I<H.length;I+=3){var F=void 0;switch(H[I]){case "M":F=E.Math;break;case "G":F=p;break;case "N":F=E.Number;break;case "T":F=y;break;case "B":F=E.Boolean;break;case "I":F=r}F[H[I+1]]=H[I+2]}var W={Math:E.Math,Geometry:p,Tween:y,Boolean:E.Boolean,Number:E.Number,Bit:r};"function"===typeof define&&define.amd?define([],function(){return W}):"object"===typeof H&&H.exports&&(H.exports=W);E.Geometry=p;E.Tween=y;E.Bit=r},"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:this);
