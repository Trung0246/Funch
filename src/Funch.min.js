/*https://github.com/Trung0246/Funch/ v0.1a*/

!function(t){function n(t,n,e,o){n=Utils["default"](n,0),e=Utils["default"](e,10);var a=void 0,i=void 0;return i=Math.pow(e,n),a=r(o,t*i)/i}function e(t,n,e,o){n=Utils["default"](n,0),e=Utils["default"](e,10);var a=void 0,i=void 0,u=void 0,h=void 0;a=Utils["default"](e,10);var c=Math.abs(t);return i=10===a?Math.log10(c):2===a?Math.exp(c):Math.log(c,a),i=D(i-n+1),u=Math.pow(a,Math.abs(i)),h=0>i?r(o,t*u)/u:r(o,t/u)*u}function r(t,n){switch(t){case 0:return F(n);case 1:return D(n);case 2:return j(n);case 3:return H(n);case 4:return n>0?j(n):D(n)}}function o(t){if(t!==D(t))return NaN;if(0>t)return NaN;if(t>170)return NaN;if(0===t||1===t)return 1;for(var n=1,e=2;t>=e;e++)n*=e;return n}function a(t,n){t*=-1,n*=-1;var e=void 0;if(0>t&&(t=-t),0>n&&(n=-n),n>t&&(e=n,n=t,t=e),0===n)return t;for(var r=t%n;r>0;)t=n,n=r,r=t%n;return n}function i(t,n){return t*n/a(t,n)}function u(){var t=T[0],n=T[1],e=T[2],r=T[3],o=(r>>>0)+(n>>>0),a=e+t+(o/2>>>31)>>>0,i=o>>>0;T[0]=e,T[1]=r;var u=0,h=0,c=0,f=0,M=23,l=4294967295<<32-M;u=t<<M|(n&l)>>>32-M,h=n<<M,t^=u,n^=h,u=t^e,h=n^r;var s=18,v=4294967295>>>32-s;c=t>>>s,f=n>>>s|(t&v)<<32-s,u^=c,h^=f;var d=5,m=4294967295>>>32-d;c=e>>>d,f=r>>>d|(e&m)<<32-d,u^=c,h^=f,T[2]=u,T[3]=h,T[4]=a,T[5]=i}function h(t){if(Number.isNaN(t)||!Number.isFinite(t))return NaN;if(0===t)return 0;if(t%1||2>t*t)return 1;if(t%2===0)return 2;if(t%3===0)return 3;if(t%5===0)return 5;for(var n=Math.sqrt(t),e=7;n>=e;e+=30){if(t%e===0)return e;if(t%(e+4)===0)return e+4;if(t%(e+6)===0)return e+6;if(t%(e+10)===0)return e+10;if(t%(e+12)===0)return e+12;if(t%(e+16)===0)return e+16;if(t%(e+22)===0)return e+22;if(t%(e+24)===0)return e+24}return t}function c(t){var n=40,e=void 0,r=void 0,o=void 0,a=void 0,i=void 0,u=void 0,h=void 0,c=void 0,f=void 0;return t*=10,e=-27*t,r=-54*t,o=n*n*n,a=n*n,i=e*e*e,u=e*e,h=(27*a*e+2*i-9*n*e*r)/(54*o),c=(3*n*r-u)/(9*a),f=Math.sqrt(h*h+c*c*c),Math.pow(-h+f,L)+Math.pow(-h-f,L)-e/(3*n)}function f(t,n,e){return Math.nCr(e,n)*Math.pow(t,n)*Math.pow(1-t,e-n)}function M(t,n){return Geometry.distPnt(Q.x,Q.y,t.x,t.y,!0)-Geometry.distPnt(Q.x,Q.y,n.x,n.y,!0)}function l(t,n){for(var e=t.length;;)if(n=(n+1)%e,t[n].flag)return n}function s(t,n,e){var r=t.length,o=[];n>e&&(e+=r);for(var a=n;e>=a;a++)o.push(t[a%r]);return o}function v(t,n,e,r,o,a,i,u){var h=Geometry.distPnt(a.x,a.y,e.x,e.y,!0);if(h<u.dist){var c=1/Geometry.distPnt(o.x,o.y,r.x,r.y,!0),f=-(o.y-r.y)*c,M=(o.x-r.x)*c,l=2*(t*f+n*M);u.dist=h,u.norm_x=f,u.norm_y=M,u.refl_x=-l*f+t,u.refl_y=-l*M+n,u.edge=i}}function d(t,n,e,r,o){var a=void 0,i=void 0,u=void 0,h=void 0,c=t.x-n.x,f=t.y-n.y,M=e.x-n.x,l=e.y-n.y;h=(c*M+f*l)/(M*M+l*l),0>h||n.x==e.x&&n.y==e.y?(a=n.x,i=n.y):h>1?(a=e.x,i=e.y):(a=n.x+h*M,i=n.y+h*l),u=Geometry.distPnt(a,i,t.x,t.y,!0),u<o.dist&&(o.dist=u,o.edge=r,o.point_x=a,o.point_y=i)}function m(t,n,e,r,o){A.length=0,r/=o,e/=o,n/=o,t/=o;var a=void 0,i=void 0,u=void 0,h=void 0,c=r*r,f=2*e,M=4*t,l=0,s=y(4*e*t-n*n-c*t,n*r-M,-e,1),v=c*U,d=c/4-e+s,m=Math.sqrt(d),x=-r/4,g=m/2;return 0===d?(a=v-f,i=2*Math.sqrt(s*s-M),u=a+i,h=a-i):(a=v-d-f,i=(4*r*e-8*n-c*r)/(4*m),u=a+i,h=a-i),a=x+g,0>u||(i=Math.sqrt(u)/2,A[l++]=a+i,A[l++]=a-i),a=x-g,0>h||(i=Math.sqrt(h)/2,A[l++]=a+i,A[l++]=a-i),l}function y(t,n,e,r){e/=r,n/=r,t/=r;var o=e*e,a=(3*n-o)/9,i=(9*e*n-27*t-2*o*e)/54,u=a*a*a,h=u+i*i;if(h>=0){var c=Math.sqrt(h),f=Math.cbrt(i+c),M=Math.cbrt(i-c);return-e/3+f+M}return 2*Math.sqrt(-a)*Math.cos(Math.acos(i/Math.sqrt(-u))/3)-e/3}function x(t,n,e,r,o){var a=t.x-n.x,i=e.x-r.x,u=t.y-n.y,h=e.y-r.y,c=a*h-u*i;if(0===c)return null;var f=t.x*n.y-t.y*n.x,M=e.x*r.y-e.y*r.x,l=1/c;return o.x=(f*i-a*M)*l,o.y=(f*h-u*M)*l,g(o,e,r)?u>0&&o.y>t.y||0>u&&o.y<t.y?null:a>0&&o.x>t.x||0>a&&o.x<t.x?null:o:null}function g(t,n,e){var r=Math.min(n.x,e.x),o=Math.max(n.x,e.x),a=Math.min(n.y,e.y),i=Math.max(n.y,e.y);return r==o?a<=t.y&&t.y<=i:a==i?r<=t.x&&t.x<=o:!(r>t.x+1e-10||t.x-1e-10>o||a>t.y+1e-10||t.y-1e-10>i)}function G(t,n,e,r){var o=void 0,a=1e-10,i=!0,u=2===r?1:-1;if(q.length=0,E.length=0,I.length=0,"number"==typeof e||e instanceof Number||(e=10),t===u*(1/0))return NaN;for(t===u*-(1/0)&&(t=u*-Number.MAX_VALUE/10),e>10&&(a=W(1e-32,e/32)),o=0;5>o;o++)t+=u*a,q.push(t),E.push(n(t));for(o=0;o<E.length;o++)I.push(Math.round(E[o],e));for(o=1;o<I.length;o++)i=i&&I[o-1]===I[o];return i===!0?I[0]:NaN}t.Geometry||(t.Geometry={}),t.Tween||(t.Tween={}),t.Utils||(t.Utils={}),Math.HALFPI=Math.PI/2,Math.TAU=2*Math.PI,Math.PHI=(1+Math.sqrt(5))/2,Math.SILVER=1+Math.SQRT2,Math.UPC=Math.log(1+Math.SQRT2)+Math.SQRT2;for(var p=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],w=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],P=[.9999999999999999,2.224574423459406,2.444115549920689,1.7057986861852539,.8257463703357973,.28647031042892007,.07124513844341643,.012296749268608364,.001347817214557592,7263959403471071e-20,1,3.352953590554884,5.227518529742423,5.003720878235473,3.266590890998987,1.5255421920765353,.5185887413188858,.12747319185915415,.02185979575963238,.0023889438122503674,.00012875032817508128,.5641895835477563],b=[-39.6968302866538,220.946098424521,-275.928510446969,138.357751867269,-30.6647980661472,2.50662827745924,-54.4760987982241,161.585836858041,-155.698979859887,66.8013118877197,-13.2806815528857,-.00778489400243029,-.322396458041136,-2.40075827716184,-2.54973253934373,4.37466414146497,2.93816398269878,.00778469570904146,.32246712907004,2.445134137143,3.75440866190742,.02425],N=[1/2.75,2/2.75,1.5/2.75,2.5/2.75,2.25/2.75,2.625/2.75],T=[],L=1/3,U=.75,A=[],q=[],E=[],I=[],V=Math.PI/180,R=180/Math.PI,_=Math.sqrt(Math.PI),C=Math.sqrt(Math.TAU),B=3*Math.PI,S=Math.sqrt(3)/2,O=4/3-1,Q=void 0,k=[],F=Math.round,D=Math.floor,j=Math.ceil,H=Math.trunc,W=Math.pow,X=Math.random,z=0;6>z;z++)k.push({x:0,y:0,flag:!1});Utils["default"]=function(t,n){return void 0!==t?t:n},Math.ln=Math.log,Math.log=function(t,n){return n=Utils["default"](n,Math.E),Math.ln(t)/Math.ln(n)},Math.mod=function(t,n){return t-D(t/n)*n},Math.rem=function(t,n,e){if(void 0===e&&(e=n,n=0),n>e){var r=e;e=n,n=r}var o=e-n;return t=(t+n)%o-n,n>t&&(t+=o),t>e&&(t-=o),t},Math.cycle=function(t,n){return t%=n,t>0?t:t+n},Math.gamma=function(t,n){if(n=Utils["default"](n,7),.5>t)return Math.PI/Math.sin(t*Math.PI)/Math.gamma(1-t);t--;for(var e=p[0],r=1;n+2>r;r++)e+=p[r]/(t+r);var o=t+n+.5;return Math.sqrt(2*Math.PI)*Math.pow(o,t+.5)*Math.exp(-o)*e},Math.lnGamma=function(t){var n=0,e=1.000000000190015,r=void 0,o=void 0,a=void 0;for(a=(o=r=t)+5.5,a-=(r+.5)*Math.ln(a);6>n;n++)e+=w[n]/++o;return Math.ln(2.5066282746310007*e/r)-a},Math.factorial=function(t){return t++,t===D(t)?o(t-1):0>t?Math.PI/(Math.sin(Math.PI*t)*Math.gamma(1-t)):Math.exp(Math.lnGamma(t))},Math.nCr=function(t,n){for(var e=1,r=0;n>r;r++)e*=(t-r)/(r+1);return e},Math.nPr=function(t,n){for(var e=1,r=0;n>r;r++)e*=t-r;return e},Math.pow=function(t,n){return t>=0||0>t&&Number.isInteger(n)?W(t,n):0>t&&n>=0?-W(-t,n):NaN},Math.nthrt=function(t,n){var e=n%2===1&&0>t;e&&(t=-t);var r=Math.pow(t,1/n);return n=Math.pow(r,n),Math.abs(t-n)<1&&t>0==n>0&&e?-r:r},Math.sigmoid=function(t){return 1/(1+Math.pow(Math.E,-t))},Math.pair=function(t,n){return.5*(t+n-2)*(t+n-1)+t},Math.integral=function(t,n,e,r){t=Utils["default"](t,1),n=Utils["default"](n,1),e=Utils["default"](e,function(){}),r=Utils["default"](r,1);for(var o=1,a=0,i=0,u=void 0,h=void 0,c=void 0,f=void 0,M=void 0,l=void 0,s=void 0,v=void 0;r>=o;)u=t+(n-t)*(o-1)/r,h=t+(n-t)*o/r,s=u,c=e(s),s=h,f=e(s),M=(h-u)*(c+f)/2,a+=M,s=(u+h)/2,v=e(s),l=(h-u)*v,i+=l,o+=1;return{trapezoid:a,rectangle:i}},Math.derivative=function(t,n,e,r){e=Utils["default"](e,1e-15),r=Utils["default"](r,1);var o=void 0,a=void 0,i=void 0,u=6,h=[];h[0]=(n(t+r)-n(t-r))/(2*r);for(var c=1;u-1>=c;c++){h[c]=0,o=h[0],i=r,r*=.5,h[0]=(n(t+r)-n(t-r))/i;for(var f=4,M=1;c>=M;M++,f*=4)a=h[M],h[M]=(f*h[M-1]-o)/(f-1),o=a;if(Math.abs(h[c]-h[c-1])<e)return h[c]}return NaN},Math.limit=function(t,n,e,r){"number"==typeof r||r instanceof Number||(r=10);var o=e(n);switch(t){case 1:return G(n,e,r,1);case 2:return G(n,e,r,2);default:if(!Number.isNaN(o))return o;if(!Number.isNaN(n)){if(n===1/0)return G(n,e,r,1);if(n===-(1/0))return G(n,e,r,2);var a=G(n,e,r,1),i=G(n,e,r,2);if(a===i)return a}}return NaN},Math.rational=function(t,n){n=Utils["default"](n,0);var e=0,r=0,o=0,a=0,i=[t,1],u=1;do e=F(t*u),r=t-e/u,1===u&&(o=u,a=r),Math.abs(r)<Math.abs(a)&&(o=u,a=r),i[0]=F(t*o),i[1]=o,u++;while(0!==n?n>=u:i[0]/i[1]!==t);return 0===i[0]&&0===i[1]&&(i[0]=t,i[1]=1),i},Math.pdf=function(t,n,e,r){var o=e*C,a=Math.exp(-Math.pow(r-t,2)/(2*n));return a/o},Math.cdf=function(t,n,e){return.5*Math.erfc(-(e-t)/(n*Math.SQRT2))},Math.ppf=function(t,n,e){return t-n*Math.SQRT2*Math.ierfc(2*e)},Math.erf=function(t){for(var n=1,e=1,r=t,o=1;50>o;o++)n*=o,e*=-1,r+=e*W(t,2*o+1)/(n*(2*o+1));return 2*r/_},Math.erfc=function(t){return 1-Math.erf(t)},Math.ierf=function(t){return Math.invNorm((t+1)/2)/Math.SQRT2},Math.ierfc=function(t){return-Math.invNorm(.5*t)/Math.SQRT2},Math.erfcx=function(t){if(0>t)return-6.1>t?2*Math.exp(t*t):2*Math.exp(t*t)-Math.erfcx(-t);if(t>50){var n=t*t;return t>5e7?P[21]/t:P[21]*(n*(n+4.5)+2)/(t*(n*(n+5)+3.75))}var e=P[0]+t*(P[1]+t*(P[2]+t*(P[3]+t*(P[4]+t*(P[5]+t*(P[6]+t*(P[7]+t*(P[8]+t*P[9])))))))),r=P[10]+t*(P[11]+t*(P[12]+t*(P[13]+t*(P[14]+t*(P[15]+t*(P[16]+t*(P[17]+t*(P[18]+t*(P[19]+t*P[20])))))))));return e/r},Math.invNorm=function(t){var n=void 0,e=void 0,r=void 0,o=void 0;return t<b[21]?(n=Math.sqrt(-2*Math.ln(t)),r=(((((b[11]*n+b[12])*n+b[13])*n+b[14])*n+b[15])*n+b[16])/((((b[17]*n+b[18])*n+b[19])*n+b[20])*n+1),o=r):(n=t-.5,e=n*n,r=(((((b[0]*e+b[1])*e+b[2])*e+b[3])*e+b[4])*e+b[5])*n/(((((b[6]*e+b[7])*e+b[8])*e+b[9])*e+b[10])*e+1),o=r-C*(.5*Math.erfcx(-r/Math.SQRT2)-Math.exp(.5*r*r)*t)),o},Math.round=function(t,e,r){return n(t,e,r,0)},Math.floor=function(t,e,r){return n(t,e,r,1)},Math.ceil=function(t,e,r){return n(t,e,r,2)},Math.trunc=function(t,e,r){return n(t,e,r,3)},Math.away=function(t,e,r){return n(t,e,r,4)},Math.round2=function(t,n,r){return e(t,n,r,0)},Math.floor2=function(t,n,r){return e(t,n,r,1)},Math.ceil2=function(t,n,r){return e(t,n,r,2)},Math.trunc2=function(t,n,r){return e(t,n,r,3)},Math.away2=function(t,n,r){return e(t,n,r,4)},Math.adjust=function(t,e,r,o){return n(e,r,o,t)},Math.adjust2=function(t,n,r,o){return e(n,r,o,t)},Math.snap=function(t,e,r,o,a,i){return o=Utils["default"](o,0),0===r?e:(e-=o,e=r*n(e/r,a,i,t),o+e)},Math.snap2=function(t,n,r,o,a,i){return o=Utils["default"](o,0),0===r?n:(n-=o,n=r*e(n/r,a,i,t),o+n)},Math.shear=function(t){return t=Math.abs(t),t-D(t)},Math.precision=function(t){if(!Number.isFinite(t))return 0;for(var n=1,e=0;F(t*n)/n!==t;)n*=10,e++;return e},Math.order=function(t){return D(Math.ln(Math.abs(t))/Math.LN10)},Math.ramp=function(t){return t>0?t:0},Math.heaviside=function(t,n){if(Number.isNaN(n))return NaN;if(n>0)return 1;if(0===n)switch(t){case 1:return 0;case 2:return 1;default:return.5}return 0},Math.haar=function(t){return.5>t&&t>=0?1:1>=t&&t>.5?-1:0},Math.rect=function(t){return t=Math.abs(t),t>.5?0:.5===t?.5:.5>t?1:NaN},Math.tri=function(t){return t=Math.abs(t),1>t?1-t:0},Math.fold=function(t,n){return t?n>0?2*n-1:2*Math.abs(n):0>n?2*Math.abs(n)-1:2*n},Math.one=function(t){return F(t)%2*2-1},Math.range=function(t,n,e,r,o,a){return a=Utils["default"](a,1),r&&o?t>=n*a&&e*a>=t:r?t>=n*a&&e*a>t:o?t>n*a&&e*a>=t:t>n*a&&e*a>t},Math.compare=function(t,n,e,r,o){return o=Utils["default"](o,1),r?e?n*o>=t:n*o>t:e?t>=n*o:t>n*o},Math.clamp=function(t,n,e){return n>t?t=n:t>e&&(t=e),t},Math.wrap=function(t,n,e){var r=e-n;if(0>=r)return 0;var o=(t-n)%r;return 0>o&&(o+=r),o+n},Math.map=function(t,n,e,r,o){var a=(t-n)/(e-n);return r+a*(o-r)},Math.norm=function(t,n,e){return(t-n)/(e-n)},Math.lerp=function(t,n,e){return(1-t)*n+t*e},Math.gcd=function(){if(0===arguments.length)return NaN;for(var t=arguments[0],n=1;n<arguments.length;n++)t=a(t,arguments[n]);return t},Math.lcm=function(){if(0===arguments.length)return NaN;for(var t=arguments[0],n=1;n<arguments.length;n++)t=i(t,arguments[n]);return t},Math.random=function(t,n,e,r,o,a){var i=void 0;return r?("number"==typeof r?T[0]=r:T[0]=0|r[0],T[1]=0|r[1],T[2]=0|r[2],T[3]=0|r[3],u(),i=2.3283064365386963e-10*T[4]+2.220446049250313e-16*(T[5]>>>12)):i=X(),t=Utils["default"](t,0),n=Utils["default"](n,1),t>n?i=null==o?0:o:t==n?i=null==a?t:a:(e?(t=j(t),n=D(n),i=D(i*(n-t+1))+t):i=i*(n-t)+t,i)},Geometry.normRad=function(t){return t=Geometry.fullRad(t),t>Math.PI&&(t-=Math.TAU),t},Geometry.toRad=function(t){return t*V},Geometry.fullRad=function(t){return(Math.TAU+t%Math.TAU)%Math.TAU},Geometry.normDeg=function(t){return t=Geometry.fullDeg(t),t>180&&(t-=360),t},Geometry.toDeg=function(t){return t*R},Geometry.fullDeg=function(t){return(360+t%360)%360},Geometry.getAngle=function(t,n,e,r){return Math.atan2(r-n,e-t)},Geometry.relfAngle=function(t,n){return 2*n-t},Geometry.diffAngle=function(t,n){return-((t-n+B)%Math.TAU-Math.PI)},Geometry.isBetwAngle=function(t,n,e){return t=Geometry.fullRad(t),n=Geometry.fullRad(n),e=Geometry.fullRad(e),e>n?t>=n&&e>=t:t>=n||e>=t},Geometry.colliAnglePnt=function(t,n,e,r,o,a){return Geometry.isBetwAngle(Geometry.getAngle(e,r,o,a),t,n)},Geometry.distPnt=function(t,n,e,r,o){var a=void 0,i=t-e,u=n-r;return a=i*i+u*u,o&&(a=Math.sqrt(a)),a},Geometry.polarDistPnt=function(t,n,e,r,o){var a=t*t+e*e-2*t*e*Math.cos(r-n);return o&&(a=Math.sqrt(a)),a},Geometry.manDistPnt=function(t,n,e,r){return Math.abs(t-e)+Math.abs(n-r)},Geometry.chevDistPnt=function(t,n,e,r){return Math.max(Math.abs(t-e),Math.abs(n-r))},Geometry.rotPnt=function(t,n,e,r,o,a){var i=Math.sin(a),u=Math.cos(o);return e-=t,r-=n,{x:e*u-r*i+t,y:e*i+r*u+n}},Geometry.anglePnt=function(t,n,e,r,o,a){var i=t-o,u=n-a,h=e-o,c=r-a;return Math.acos(Math.dotVec(i,u,h,c)/Math.sqrt((i*i+u*u)*(h*h+c*c)))},Geometry.cntrPnt=function(t,n,e,r,o){var a=void 0,i=void 0,u=void 0,h=void 0,c=void 0,f=void 0;return i=Geometry.distPnt(e,r,t,n,!0),u=(t+e)/2,h=(n+r)/2,a=Math.sqrt(o*o-W(i/2,2)),c=a*(n-r)/i,f=a*(e-t)/i,{x1:u+c,y1:h+f,x2:u-c,y2:h-f}},Geometry.cmpPnt=function(t,n,e,r,o){return o=Utils["default"](o,1e-10),Math.abs(t-e)>o?t>e?1:-1:Math.abs(n-r)>o?n>r?1:-1:0},Geometry.slopeLine=function(t,n,e,r){return(r-n)/(e-t)},Geometry.stdLine=function(t,n,e,r){var o={};if(e-t===0)o.a=-1,o.b=0,o.c=t;else{var a=Geometry.slopeLine(t,n,e,r);o.a=a,o.b=-1,o.c=-e*a+r}return o},Geometry.distLinePnt=function(t,n,e,r,o,a,i,u){if(t)return Math.abs((o-e)*a-(r-n)*i+r*e-o*n)/Geometry.distPnt(n,e,r,o,!0);var h=Geometry.distPnt(n,e,r,o,!1);if(0===h)return Geometry.distPnt(a,i,n,e,u);var c=Math.dotVec(a-n,i-e,r-n,o-e)/h;return c=Math.max(0,Math.min(1,c)),Geometry.distPnt(a,i,n+c*(r-n),e+c*(o-e),u)},Geometry.distLine=function(t,n,e,r,o,a,i,u,h,c){var f=Geometry.distLinePnt(t,a,i,u,h,n,e,c),M=void 0;return f>0?(M=Geometry.distLinePnt(t,a,i,u,h,r,o,c),M>f?f:M):0},Geometry.intrLine=function(t,n,e,r,o,a,i,u){var h=void 0,c=void 0,f=void 0,M=void 0,l=void 0,s=void 0,v=void 0,d=void 0,m=void 0,y={x:null,y:null,onLine1:!1,onLine2:!1};return M=e-t,l=r-n,s=i-o,v=u-a,c=n-a,f=t-o,h=v*M-s*l,0===h?(Number.isNaN(Geometry.slopeLine(s*l,M*c,M*v,l*f))&&Number.isNaN(Geometry.slopeLine(M*v,v*f,s*l,s*c))&&(y.onLine1=Geometry.colliLinePnt(!0,t,n,e,r,o,a)||Geometry.colliLinePnt(!0,t,n,e,r,i,u),y.onLine2=y.onLine1),y):(d=s*c-v*f,m=M*c-l*f,c=d/h,f=m/h,y.x=t+c*M,y.y=n+c*l,0>c||c>1||(y.onLine1=!0),0>f||f>1||(y.onLine2=!0),y)},Geometry.intrLineCirc=function(t,n,e,r,o,a,i){var u=void 0,h=void 0,c=void 0,f=void 0,M=void 0,l=void 0,s={x:null,y:null,x1:null,y1:null,x2:null,y2:null,onLine:!1,onLine1:!1,onLine2:!1};return u=Geometry.distPnt(t,n,e,r,!0),c=(e-t)/u,f=(r-n)/u,M=c*(o-t)+f*(a-n),s.x=M*c+t,s.y=M*f+n,h=Geometry.distPnt(s.x,s.y,o,a,!0),i>h?(l=Math.sqrt(i*i-h*h),s.x1=(M-l)*c+t,s.y1=(M-l)*f+n,s.onLine1=Geometry.colliLinePnt(!0,t,n,e,r,s.x1,s.y1),s.x2=(M+l)*c+t,s.y2=(M+l)*f+n,s.onLine2=Geometry.colliLinePnt(!0,t,n,e,r,s.x2,s.y2)):h===i?s.onLine=!0:(s.x=null,s.y=null),s},Geometry.sideLine=function(t,n,e,r,o,a){return Math.crossVec(e-t,r-n,o-t,a-n)},Geometry.onLine=function(t,n,e,r,o){var a=e-t,i=r-n,u=a*o,h=i*o;return{x:t+u,y:n+h}},Geometry.colliLinePnt=function(t,n,e,r,o,a,i,u){u=Utils["default"](u,1e-10);var h=n-a,c=e-i,f=a-r,M=i-o,l=Math.crossVec(h,c,f,M);return!(-u>l||l>u||Math.dotVec(h,c,f,M)<0&&t)},Geometry.getXLine=function(t,n,e,r,o){var a=r-n,i=e-t;if(0===a)return null;var u=a/i,h=o-r,c=h/u,f=e+c;return f},Geometry.getYLine=function(t,n,e,r,o){var a=r-n,i=e-t;if(0===i)return null;var u=a/i,h=o-e,c=h*u,f=r+c;return f},Geometry.colliRayRect=function(t,n,e,r,o,a,i,u){e=1/e,r=1/r;var h=(o-t)*e,c=(i-t)*e,f=Math.min(h,c),M=Math.max(h,c);return h=(a-n)*r,c=(u-n)*r,f=Math.max(f,Math.min(h,c)),M=Math.min(M,Math.max(h,c)),M>Math.max(f,0)},Geometry.colliArcCircPnt=function(t,n,e,r,o,a,i,u,h){var c=t-e,f=n-r;return!Math.clockWiseVec(a,i,c,f)&&Math.clockWiseVec(u,h,c,f)&&Geometry.colliCirc(0,0,0,c,f,o)},Geometry.colliCircPnt=function(t,n,e,r,o,a){a=Utils["default"](a,1e-10);var i=Geometry.distPnt(t,n,e,r,!1),u=o*o;return u>i?1:Math.abs(i-u)<a?0:-1},Geometry.colliCirc=function(t,n,e,r,o,a){var i=r-t,u=o-n,h=e+a;return h*h>=i*i+u*u},Geometry.colliCircRect=function(t,n,e,r,o,a,i){return Geometry.distPnt(Math.clamp(t,r,a),Math.clamp(n,o,i),t,n,!1)<=e*e},Geometry.randomCirc=function(t,n,e,r){var o=X(),a=X(),i=void 0;return r&&o>a&&(i=a,a=o,o=i),Math.rec(t,n,a*e,Math.TAU*o/a)},Geometry.onElli=function(t,n,e,r,o,a){var i=Math.sin(o),u=Math.sin(a);return o=Math.cos(o),a=Math.cos(a),{x:e*a*o-r*u*i+t,y:r*u*o+e*a*i+n}},Geometry.colliElliPnt=function(t,n,e,r,o,a,i){var u=Math.cos(o),h=Math.sin(o);a-=t,i-=n;var c=u*a+h*i;return h=h*a-u*i,u=c,1>=4*u*u/(e*e)+4*h*h/(r*r)},Geometry.intrElli=function(t,n,e,r,o,a,i,u,h,c){e/=2,r/=2,u/=2,h/=2;var f=Math.cos(o),M=Math.sin(o),l=Math.cos(c),s=Math.sin(c),v=Math.cos(o-c),d=Math.sin(o-c),y=r*(-t*f+a*f-n*M+i*M),x=u*r*v,g=r*h*d,G=e*(-n*f+i*f+t*M-a*M),p=-e*u*d,w=e*h*v,P=e*r,b=y*y,N=x*x,T=G*G,L=p*p,U=P*P,q=4*y*g,E=4*p*w,I=4*x*g,V=4*G*w,R=2*y*x,_=2*G*p,C=[],B=void 0,S=void 0,O=void 0,Q=void 0;B=m(b+R+N+T+_+L-U,q+I+V+E,2*b-2*N+4*g*g+2*T-2*L+4*w*w-2*U,q-I+V-E,b-R+N+T-_+L-U);for(var k=0;B>k;++k)S=2*Math.atan(A[k]),O=Math.cos(S)*u,Q=Math.sin(S)*h,C[2*k]=a+O*l-Q*s,C[2*k+1]=i+O*s+Q*l;return C},Geometry.intrElliLine=function(t,n,e,r,o,a,i,u,h){var c=Math.sin(o);o=Math.cos(o);var f=r*((-t+a)*o+(-n+i)*c),M=e*((-n+i)*o+(t-a)*c),l=r*((-t+u)*o+(-n+h)*c),s=e*((-n+h)*o+(t-u)*c),v=e*r,d=f*f,m=f*l,y=M*M,x=M*s,g=d-2*m+l*l+y-2*x+s*s,G=-2*d+2*m-2*y+2*x,p=-v*v+d+y,w=G*G-4*g*p,P=void 0,b=[];if(0===w)P=-G/(2*g),b[0]=(1-P)*a+P*u,b[1]=(1-P)*i+P*h;else if(w>0){var N=Math.sqrt(w),T=0;P=(-G-N)/(2*g),b[0]=(1-P)*a+P*u,b[1]=(1-P)*i+P*h,T++,P=(-G+N)/(2*g),b[2*T]=(1-P)*a+P*u,b[2*T+1]=(1-P)*i+P*h,T++}return b},Geometry.boundElli=function(t,n,e,r,o){e/=2,r/=2;var a=Math.atan(-r*Math.tan(o)/e),i=Math.atan(r*Math.cot(o)/e),u=Math.sin(o);return o=Math.cos(o),a=Math.abs(e*Math.cos(a)*o-r*Math.sin(a)*u),i=Math.abs(r*Math.sin(i)*o+e*Math.cos(i)*u),{xMin:-a+t,yMin:-i+n,xMax:a+t,yMax:i+n}},Geometry.randomElli=function(t,n,e,r,o,a){var i=X(),u=X(),h=void 0;return a&&i>u&&(h=u,u=i,i=h),Geometry.onElli(t,n,u*e,u*r,o,Math.TAU*i/u)},Geometry.distElliPnt=function(t,n,e){var r=1/Math.sqrt(Math.pow(Math.sin(e)/n,2)+Math.pow(Math.cos(e)/t,2));return Number.isFinite(r)?r:0},Geometry.centroidTri=function(t,n,e,r,o,a){return{x:(t+e+o)/3,y:(n+r+a)/3}},Geometry.equilTri=function(t,n,e){var r=n+e*S,o=e/2;return{x1:t,y1:n,x2:t+o,y2:r,x3:t-o,y3:r}},Geometry.rightTri=function(t,n,e,r){return{x1:t,y1:n,x2:t,y2:n-r,x3:t+e,y3:n}},Geometry.crcmCntrTri=function(t,n,e,r,o,a){var i=void 0,u=void 0,h=void 0,c=void 0,f=void 0,M=void 0,l=void 0;return i=t-o,u=n-a,h=e-o,c=r-a,f=i*i+u*u,M=h*h+c*c,l=2*Math.crossVec(i,u,h,c),{x:o-Math.crossVec(u,f,h,M)/l,y:a+Math.crossVec(i,f,h,M)/l}},Geometry.crcmCircTri=function(t,n,e,r,o,a){var i=e-t,u=r-n,h=o-t,c=a-n,f=i*(t+e)+u*(n+r),M=h*(t+o)+c*(n+a),l=2*(i*(a-r)-u*(o-e)),s=void 0,v=void 0,d={};return d.x=(c*f-u*M)/l,d.y=(i*M-h*f)/l,s=d.x-t,v=d.y-n,d.r=2*Math.sqrt(s*s+v*v),d},Geometry.inCircTri=function(t,n,e,r,o,a){var i=Geometry.distPnt(o,a,e,r,!0),u=Geometry.distPnt(t,n,o,a,!0),h=Geometry.distPnt(e,r,t,n,!0),c=i+u+h,f=(h+i+u)/2;return{x:(t*i+e*u+o*h)/c,y:(n*i+r*u+a*h)/c,r:Math.sqrt(f*(f-h)*(f-i)*(f-u))/f}},Geometry.colliTriPnt=function(t,n,e,r,o,a,i,u){var h=n*o-t*a+(a-n)*i+(t-o)*u,c=t*r-n*e+(n-r)*i+(e-t)*u;if(0>h!=0>c)return!1;var f=-r*o+n*(o-e)+t*(r-a)+e*a;return 0>f&&(h=-h,c=-c,f=-f),h>0&&c>0&&f>=h+c},Geometry.areaTri=function(t,n,e,r,o,a){return Math.abs(((o-t)*(r-n)-(e-t)*(a-n))/2)},Geometry.randomTri=function(t,n,e,r,o,a){var i=Math.sqrt(X()),u=X(),h=1-i,c=i*(1-u),f=i*u;return{x:h*t+c*e+f*o,y:h*n+c*r+f*a}},Geometry.colliRectPnt=function(t,n,e,r,o,a){return e-t>0&&r-n>0?!(t>o||o>e||n>a||a>r):!1},Geometry.colliRect=function(t,n,e,r,o,a,i,u){return Math.abs(e-t)>0&&Math.abs(r-n)>0&&Math.abs(i-o)>0&&Math.abs(u-a)>0?!(o>e||a>r||t>i||n>u):!1},Geometry.intrRect=function(t,n,e,r,o,a,i,u){return Geometry.colliRect(t,n,e,r,o,a,i,u)?{xMin:Math.max(t,o),yMin:Math.max(n,a),xMax:Math.min(e,i),yMax:Math.min(r,u)}:null},Geometry.randomRect=function(t,n,e,r){return{x:t+X()*Math.abs(e-t),y:n+X()*Math.abs(r-n)}},Geometry.colliPolyPnt=function(t,n,e){for(var r=!1,o=void 0,a=void 0,i=void 0,u=void 0,h=-2,c=t.length-2;(h+=2)<t.length;c=h)o=t[h],a=t[h+1],i=t[c],u=t[c+1],(e>=a&&u>e||e>=u&&a>e)&&(i-o)*(e-a)/(u-a)+o>n&&(r=!r);return r},Geometry.colliPolyCirc=function(t,n,e,r){if(r/=2,Geometry.colliPolyPnt(t,n,e))return!0;for(var o=2;o<t.length;o+=2)if(Geometry.distLinePnt(!1,t[o-2],t[o-1],t[o],t[o+1],n,e,!1)<r*r)return!0;return Geometry.distLinePnt(!1,t[t.length-2],t[t.length-1],t[0],t[1],n,e,!1)<r*r},Geometry.colliPoly=function(t,n){var e=Geometry.boundPoly(t),r=Geometry.boundPoly(n),o=void 0;if(Geometry.colliRect(e.xMin,e.yMin,e.xMax,e.yMax,r.xMin,r.yMin,r.xMax,r.yMax)){var a=t.length>n.length?t.length:n.length;for(o=0;a>o;o+=2){if(Geometry.colliPolyPnt(n,t[o],t[o+1])&&o<=t.length)return!0;if(Geometry.colliPolyPnt(t,n[o],n[o+1])&&o<=n.length)return!0}}return!1},Geometry.isSimplePoly=function(t){var n=t.length>>1;if(4>n)return!0;for(var e=void 0,r=void 0,o=void 0,a=void 0,i=void 0,u=void 0,h=void 0,c=void 0,f=void 0,M=0;n>M;M++){e=t[2*M],r=t[2*M+1],M==n-1?(o=t[0],a=t[1]):(o=t[2*M+2],a=t[2*M+3]);for(var l=0;n>l;l++)if(!(Math.abs(M-l)<2||l===n-1&&0===M||M===n-1&&0===l)&&(i=t[2*l],u=t[2*l+1],l==n-1?(h=t[0],c=t[1]):(h=t[2*l+2],c=t[2*l+3]),f=Geometry.intrLine(e,r,o,a,i,u,h,c),f.onLine1&&f.onLine2))return!1}return!0},Geometry.isConvexPoly=function(t){if(t.length<=6)return!1;var n=Geometry.isClockWisePoly(t),e=Geometry.sideLine(t[t.length-3],t[t.length-2],t[0],t[1],t[2],t[3]),r=void 0;e=e>0||Math.abs(e)<0;for(var o=2;o<t.length-2;o+=2)if(r=Geometry.sideLine(t[o-2],t[o-1],t[o],t[o+1],t[o+2],t[o+3]),(n?r>0:0>r)!==e)return!0;return!1},Geometry.isClockWisePoly=function(t){for(var n=0,e=0,r=void 0,o=void 0,a=void 0,i=0;i<t.length;i+=2)o=(i+2)%t.length,a=Math.atan2(t[o+1]-t[i+1],t[o]-t[i]),0===i?r=a:(a-=r,e+=Geometry.normRad(a-n),n=a);return e+=Geometry.normRad(-n),e>=0},Geometry.boundPoly=function(t){for(var n=Number.MAX_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,a=void 0,i=void 0,u=0;u<t.length;u+=2)a=t[u],i=t[u+1],n=Math.min(n,a),e=Math.min(e,i),r=Math.max(r,a),o=Math.max(o,i);return{xMin:n,yMin:e,xMax:r,yMax:o}},Geometry.triPoly=function(t){var n=void 0,e=void 0,r=void 0,o=void 0,a=void 0,i=void 0,u=void 0,h=void 0,c=void 0,f=void 0,M=void 0,l=void 0,s=void 0,v=void 0,d=void 0,m=void 0;if(n=t.length>>1,3>n)return[].concat(t);for(e=[],r=[],o=0;n>o;o++)r.push(o);for(o=0,a=n;a>3;){if(i=r[(o+0)%a],u=r[(o+1)%a],h=r[(o+2)%a],c=t[2*i],f=t[2*i+1],M=t[2*u],l=t[2*u+1],s=t[2*h],v=t[2*h+1],d=!1,Geometry.sideLine(c,f,M,l,s,v)>=0){d=!0;for(var y=0;a>y;y++)if(m=r[y],m!=i&&m!=u&&m!=h&&Geometry.colliTriPnt(c,f,M,l,s,v,t[2*m],t[2*m+1])){d=!1;break}}if(d)e.push(i,u,h),r.splice((o+1)%a,1),a--,o=0;else if(o++>3*a)break}return e.push(r[0],r[1],r[2]),e},Geometry.slicePoly=function(t,n,e,r,o,a){var i=void 0,u=void 0,h=void 0,c=void 0,f=void 0,v=void 0,d=void 0,m=void 0,y=void 0,x=void 0,g=void 0,G=void 0,p=void 0,w=void 0,P=void 0,b=void 0,N=void 0,T=void 0,L=void 0;if(a=Utils["default"](a,1e-10),a*=a,Geometry.colliPolyPnt(t,n,e)||Geometry.colliPolyPnt(t,r,o))return[t.slice(0)];for(i={x:n,y:e,flag:!1},u={x:r,y:o,flag:!1},c=[],f=[],v=0;v<t.length;v+=2)f.push({x:t[v],y:t[v+1],flag:!1});for(v=0;v<f.length;v++)h={x:0,y:0,flag:!1},h=Geometry.intrLine(i.x,i.y,u.x,u.y,f[v].x,f[v].y,f[(v+1)%f.length].x,f[(v+1)%f.length].y,h.x,h.y),d=c[0]||{},m=c[c.length-1]||{},h.onLine1&&h.onLine2&&(!d.onLine1&&!d.onLine2||Geometry.distPnt(h.x,h.y,d.x,d.y,!1)>a)&&(!m.onLine1&&!m.onLine2||Geometry.distPnt(h.x,h.y,m.x,m.y,!1)>a)&&(h.flag=!0,c.push(h),f.splice(v+1,0,h),v++);if(c.length<2)return[t.slice(0)];for(Q=i,c.sort(M),T=[],L=0;c.length>0&&(y=c[0],x=c[1],g=f.indexOf(y),G=f.indexOf(x),p=!1,l(f,g)==G?p=!0:(y=c[1],x=c[0],g=f.indexOf(y),G=f.indexOf(x),l(f,g)==G&&(p=!0)),p?(L--,w=s(f,g,G),T.push(w),f=s(f,G,g),y.flag=x.flag=!1,c.splice(0,2),0===c.length&&T.push(f)):(L++,c.reverse()),1>=L););for(P=[],v=0;v<T.length;v++){b=T[v],N=[];for(var U=0;U<b.length;U++)N.push(b[U].x,b[U].y);P.push(N)}return P},Geometry.areaPoly=function(t){for(var n=0,e=t.length,r=void 0,o=0;e>o;o+=2)e>0?(r=(o+2)%e,0>r&&(r+=e)):r=0,n+=t[o]*t[r+1]-t[o+1]*t[r];return Math.abs(n/2)},Geometry.centroidPoly=function(t){for(var n=0,e=0,r=void 0,o=void 0,a=void 0,i=void 0,u=void 0,h=void 0,c=0;c<t.length-2;c+=2)r=t[c],a=t[c+1],o=t[c+2],i=t[c+3],u=r*i-o*a,n+=(r+o)*u,e+=(a+i)*u;return r=t[t.length-2],a=t[t.length-1],o=t[0],i=t[1],u=r*i-o*a,n+=(r+o)*u,e+=(a+i)*u,h=Geometry.areaPoly(t),n/=6*h,e/=6*h,{x:n,y:e}},Geometry.convexHullPoly=function(t){var n=[],e=[],r=void 0;for(t.sort(function(t,n){return t[0]==n[0]?t[1]-n[1]:t[0]-n[0]}),r=0;r<t.length;r++){for(;n.length>=2&&Geometry.sideLine(n[n.length-2][0],n[n.length-2][1],n[n.length-1][0],n[n.length-1][1],t[r][0],t[r][1])<=0;)n.pop();n.push(t[r])}for(r=t.length-1;r>=0;r--){for(;e.length>=2&&Geometry.sideLine(e[e.length-2][0],e[e.length-2][1],e[e.length-1][0],e[e.length-1][1],t[r][0],t[r][1])<=0;)e.pop();e.push(t[r])}return e.pop(),n.pop(),n.concat(e)},Geometry.distPolyRay=function(t,n,e,r,o){var a=t.length-2,i=k[0],u=k[1],h=k[2],c=k[3],f=k[4],M=void 0;i.x=n,i.y=e,u.x=n+r,u.y=e+o;for(var l={dist:1/0,edge:0,norm_x:0,norm_y:0,refl_x:0,relf_y:0},s=0;a>s;s+=2)h.x=t[s],h.y=t[s+1],c.x=t[s+2],c.y=t[s+3],M=x(i,u,h,c,f),M&&v(r,o,i,h,c,f,s/2,l);return h.x=c.x,h.y=c.y,c.x=t[0],c.y=t[1],M=x(i,u,h,c,f),M&&v(r,o,i,h,c,f,t.length/2-1,l),l},Geometry.intrPolyPnt=function(t,n,e){var r=t.length-2,o=void 0,a={dist:1/0,edge:0,point_x:0,point_y:0,norm_x:0,norm_y:0};k[0].x=n,k[0].y=e;for(var i=0;r>i;i+=2)k[2].x=t[i],k[2].y=t[i+1],k[3].x=t[i+2],k[3].y=t[i+3],d(k[0],k[2],k[3],i>>1,a);return k[2].x=k[3].x,k[2].y=k[3].y,k[3].x=t[0],k[3].y=t[1],d(k[0],k[2],k[3],r>>1,a),o=1/a.dist,a.norm_x=(n-a.point_x)*o,a.norm_y=(e-a.point_y)*o,a},Geometry.reversePoly=function(t){for(var n=[],e=t.length-2;e>=0;e-=2)n.push(t[e],t[e+1]);return n},Geometry.timeAccel=function(t,n,e){return(n-t)/e},Geometry.accelAccel=function(t,n,e){return(n-t)/e},Geometry.distAccel=function(t,n,e){return(n*n-t*t)/(2*e)},Geometry.timeDistAccel=function(t,n,e){var r=t*t-4*e*-n*.5;if(0>r)return-1;var o=Math.sqrt(r);return Math.abs(Math.max((-t+o)/e,(-t-o)/e))},Math.pol=function(t,n){return{angle:Geometry.getAngle(0,0,t,n),radial:Geometry.distPnt(0,0,t,n,!0)}},Math.rec=function(t,n,e,r){return{x:Math.cos(r)*e+t,y:Math.sin(r)*e+n}},Math.normVec=function(t,n){var e=Math.magVec(t,n,!0);return{x:t/e,y:n/e}},Math.scaleVec=function(t,n,e){return{x:t*e,y:n*e}},Math.truncVec=function(t,n,e){var r=e/Math.magVec(t,n);return r=1>r?r:1,Math.scaleVec(t,n,r)},Math.magVec=function(t,n,e){var r=Math.dotVec(t,n,t,n);return e?Math.sqrt(r):r},Math.dotVec=function(t,n,e,r){return t*e+n*r},Math.crossVec=function(t,n,e,r){return t*r-n*e},Math.projVec=function(t,n,e,r){return Math.scaleVec(e,r,Math.dotVec(t,n,e,r)/Math.magVec(e,r,!1))},Math.rejVec=function(t,n,e,r){var o=Math.projVec(t,n,e,r);return{x:t-o.x,y:n-o.y}},Math.perVec=function(t,n){return{x1:-n,y1:t,x2:n,y2:-t}},Math.lerpVec=function(t,n,e,r,o){return{x:(e-t)*o+t,y:(r-n)*o+n}},Math.headVec=function(t,n){return-Math.atan2(-n,t)},Math.revVec=function(t,n){return{x:-t,y:-n}},Math.clockWiseVec=function(t,n,e,r){return-t*r+n*e>0},Math.sinc=function(t){return Number.isNaN(t)?NaN:Number.isFinite(t)?0===t?1:Math.sin(t*Math.PI)/(t*Math.PI):0},Math.crd=function(t){return 2*Math.sin(t/2)},Math.exsec=function(t){return Math.sec(t)-1},Math.excsc=function(t){return Math.csc(t)-1},Math.aexsec=function(t){return Math.asec(t+1)},Math.aexcsc=function(t){return Math.acsc(t+1)},Math.vsin=function(t){return 1-Math.cos(t)},Math.vcos=function(t){return 1+Math.cos(t)},Math.cvsin=function(t){return 1-Math.sin(t)},Math.cvcos=function(t){return 1+Math.sin(t)},Math.hvsin=function(t){return Math.vsin(t)/2},Math.hvcos=function(t){return Math.vcos(t)/2},Math.hcvsin=function(t){return Math.cvsin(t)/2},Math.hcvcos=function(t){return Math.cvcos(t)/2},Math.avsin=function(t){return Math.acos(1-t)},Math.avcos=function(t){return Math.acos(1+t)},Math.acvsin=function(t){return Math.asin(1-t)},Math.acvcos=function(t){return Math.asin(1+t)},Math.ahvsin=function(t){return 2*Math.asin(Math.sqrt(t))},Math.ahvcos=function(t){return 2*Math.acos(Math.sqrt(t))},Math.csc=function(t){return 1/Math.sin(t)},Math.csch=function(t){return 1/Math.sinh(t)},Math.sec=function(t){return 1/Math.cos(t)},Math.sech=function(t){return 1/Math.cosh(t)},Math.cot=function(t){return 1/Math.tan(t)},Math.coth=function(t){return 1/Math.tanh(t)},Math.acsc=function(t){return 1/Math.asin(t)},Math.acsch=function(t){return 1/Math.asinh(t)},Math.asec=function(t){return 1/Math.acos(t)},Math.asech=function(t){return 1/Math.acosh(t)},Math.acot=function(t){return 1/Math.atan(t)},Math.acoth=function(t){return 1/Math.atanh(t)},Math.sincos=function(t){var n=Math.sin(t);return[Math.sqrt(1-n*n),n]},Number.isPrime=function(t){return Number.isNaN(t)||!Number.isFinite(t)||2>t?!1:t==h(t)?!0:!1},Number.isMinusZero=function(t){return 1/t===-(1/0)},Number.isPower=function(t,n,e){e=Utils["default"](e,Math.precision(n));var r=Math.ln(Math.abs(t))/Math.ln(Math.abs(n));return 0>t&&0>n||t>0&&n>0?Math.trunc(r,e)===r:t>0&&0>n?Math.trunc(r,e)%2===0:!1},Number.isEven=function(t){return Number.isInteger(t)&&0===(1&t)},Number.isNumeric=function(t){return!("[object Array]"===Object.prototype.toString.call(t)||t-parseFloat(t)+1<0)},Number.epsilon=function(){return Number.EPSILON?Number.EPSILON:Math.abs(1-3*O)},Tween.inQuad=function(t){return t*t},Tween.outQuad=function(t){return t*(2-t)},Tween.inOutQuad=function(t){return.5>t?2*t*t:-1+(4-2*t)*t},Tween.inCubic=function(t){return Math.pow(t,3)},Tween.outCubic=function(t){return(t-=1)*t*t+1},Tween.inOutCubic=function(t){return.5>t?4*Math.pow(t,3):(t-1)*Math.pow(2*t-2,2)+1},Tween.inQuart=function(t){return Math.pow(t,4)},Tween.outQuart=function(t){return 1-(t-=1)*Math.pow(t,3)},Tween.inOutQuart=function(t){return.5>t?8*Math.pow(t,4):1-8*(t-=1)*Math.pow(t,3)},Tween.inQuint=function(t){return Math.pow(t,5)},Tween.outQuint=function(t){return 1+(t-=1)*Math.pow(t,4)},Tween.inOutQuint=function(t){return.5>t?16*Math.pow(t,5):1+16*(t-=1)*Math.pow(t,4)},Tween.inPow=function(t,n){return Math.pow(t,n)},Tween.outPow=function(t,n){var e=Number.isEven(n-1)?1:-1;return 1+(t-=1)*Math.pow(t,n-1)*e},Tween.inOutPow=function(t,n){var e=Math.pow(2,n-1),r=Number.isEven(n-1)?1:-1;return.5>t?e*Math.pow(t,n):1+e*(t-=1)*Math.pow(t,n-1)*r},Tween.inSine=function(t,n){return-Math.pow(Math.cos(t*Math.HALFPI),n)+1},Tween.outSine=function(t,n){return Math.pow(Math.sin(t*Math.HALFPI),n)},Tween.inOutSine=function(t,n){return(t*=2)<1?-.5*Math.pow(Math.cos(Math.PI*t),n)+.5:.5*Math.pow(Math.cos(Math.PI*(t-1)),n)+.5},Tween.inExpo=function(t){return 0===t?0:Math.pow(2,10*(t-1))},Tween.outExpo=function(t){return 1===t?1:-Math.pow(2,-10*t)+1},Tween.inOutExpo=function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*(t-=1))+2)},Tween.inCirc=function(t){return-(Math.sqrt(1-t*t)-1)},Tween.outCirc=function(t){return Math.sqrt(1-(t-=1)*t)},Tween.inOutCirc=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},Tween.inElastic=function(t,n,e){var r=void 0;return n=Utils["default"](n,.1),e=Utils["default"](e,.1),0===t?0:1===t?1:(1>n?(n=1,r=e/4):r=e*Math.asin(1/n)/Math.TAU,-(n*Math.pow(2,10*(t-=1))*Math.sin((t-r)*Math.TAU/e)))},Tween.outElastic=function(t,n,e){var r=void 0;return n=Utils["default"](n,.1),e=Utils["default"](e,.1),0===t?0:1===t?1:(1>n?(n=1,r=e/4):r=e*Math.asin(1/n)/Math.TAU,n*Math.pow(2,-10*t)*Math.sin((t-r)*Math.TAU/e)+1)},Tween.inOutElastic=function(t,n,e){var r=void 0;return n=Utils["default"](n,.1),e=Utils["default"](e,.1),0===t?0:1===t?1:(1>n?(n=1,r=e/4):r=e*Math.asin(1/n)/Math.TAU,(t*=2)<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-r)*Math.TAU/e)):n*Math.pow(2,-10*(t-=1))*Math.sin((t-r)*Math.TAU/e)*.5+1)},Tween.inBack=function(t,n){return n=void 0==n?1.70158:c(n),1*t*t*((n+1)*t-n)},Tween.outBack=function(t,n){return n=void 0==n?1.70158:c(n),1*((t-=1)*t*((n+1)*t+n)+1)},Tween.inOutBack=function(t,n){return n=void 0==n?1.70158:c(n),(t*=2)<1?.5*(t*t*(((n*=1.525)+1)*t-n)):.5*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)},Tween.inBounce=function(t){return 1-this.outBounce(1-t)},Tween.outBounce=function(t){return t<N[0]?7.5625*t*t:t<N[1]?7.5625*(t-=N[2])*t+.75:t<N[3]?7.5625*(t-=N[4])*t+.9375:7.5625*(t-=N[5])*t+.984375},Tween.inOutBounce=function(t){return.5>t?.5*this.inBounce(2*t):.5*this.outBounce(2*t-1)+.5},Tween.smoothStep=function(t,n){if(0>n)return 0;switch(n){case 1:return W(t,2)*(3-2*t);case 2:return W(t,3)*(t*(6*t-15)+10);case 3:return W(t,4)*(35+t*(-84+(70-20*t)*t));case 4:return W(t,5)*(126+5*t*(-84+t*(108+7*t*(-9+2*t))));case 5:return W(t,6)*(462+t*(-1980-7*t*(-495+2*t*(220+9*t*(-11+2*t)))));case 6:return W(t,7)*(1716+7*t*(-1287+2*t*(1430+3*t*(-572+t*(390+11*t*(-13+2*t))))));default:for(var e=0,r=0;n>=r;r++)e+=Math.nCr(-n-1,r)*Math.nCr(2*n+1,n-r)*Math.pow(t,n+r+1);return e}},Tween.overShoot=function(t,n){return t=Tween.outQuad(t),t*(1+Math.sin(t*Math.PI)*n)},Tween.curve=function(t,n){for(var e=0,r=void 0,o=0;o<n.length;o+=2){r=1;for(var a=0;a<n.length;a+=2)a!==o&&(r*=(t-n[a])/(n[o]-n[a]));e+=n[o+1]*r}return e},Tween.bezier=function(t,n){for(var e=0,r=0,o=0,a=n.length,i=0;a>i;i+=2)o=f(t,i/2+1,a)*n[i+1],e+=o,r+=o*n[i];return e},Tween.spline=function(t,n,e,r,o,a){var i=[],u=void 0,h=void 0,c=void 0,f=void 0,M=void 0,l=void 0,s=void 0,v=void 0,d=void 0,m=void 0,y=void 0;for(o=a?[].concat(o[o.length-2],o[o.length-1],o,o[0],o[1],o[2],o[3]):[].concat(o[o.length-2],o[o.length-1],o,o[0],o[1]),u=(1-e)*(1+n)*(1-t)*.5,h=(1-e)*(1-n)*(1+t)*.5,c=(1-e)*(1+n)*(1+t)*.5,f=(1-e)*(1-n)*(1-t)*.5,d=2;d<o.length-2;)M=o[d]-o[d-2],l=o[d+1]-o[d-1],s=o[d+2]-o[d],v=o[d+3]-o[d+1],i.push(u*M+h*s,u*l+h*v,c*M+f*s,c*l+f*v),d+=2;for(d=2,y=[];d<o.length-4;){for(y.push(o[d],o[d+1]),m=r;1>m;)u=2*Math.pow(m,3)-3*Math.pow(m,2)+1,h=1*Math.pow(m,3)-2*Math.pow(m,2)+m,c=-2*Math.pow(m,3)+3*Math.pow(m,2),f=1*Math.pow(m,3)-1*Math.pow(m,2),M=u*o[d]+h*i[2*d-2]+c*o[d+2]+f*i[2*d],l=u*o[d+1]+h*i[2*d-1]+c*o[d+3]+f*i[2*d+1],y.push(M,l),m+=r;y.push(o[d+2],o[d+3]),d+=2}return y},Tween.count=function(){var t=void 0;return function(n,e,r,o,a){o||(o=n);var i={min:n,max:e,change:r,next:o,current:o,mode:a};return i.change<0?i.next=Utils["default"](i.next,i.max):i.change>0&&(i.next=Utils["default"](i.next,i.min)),function(n,e,r,o,a,u){switch("number"==typeof e&&(i.min=e),"number"==typeof r&&(i.max=r),"number"==typeof o&&(i.change=o),"number"==typeof a&&(i.next=a),"number"==typeof u&&(i.mode=u),i.current=i.next,i.mode){case 1:i.next+=i.change,i.change<0&&i.next<i.min?i.next+=i.max-i.min:i.change>0&&i.next>i.max&&(i.next-=i.max-i.min);break;case 2:i.change<0?i.next>i.min?(i.next+=i.change,i.next<i.min&&(i.next=i.min)):i.next=i.max:i.change>0&&(i.next<i.max?(i.next+=i.change,i.next>i.max&&(i.next=i.max)):i.next=i.min);break;case 3:i.change<0&&i.next<i.min?(i.change*=-1,t=i.min-i.next,i.next=i.min,i.next+=i.change-(i.change-t),i.current=i.next):i.next>i.max&&(i.change*=-1,t=i.max-i.next,i.next=i.max,i.next+=i.change-(i.change-t),i.current=i.next),i.next+=i.change;break;case 4:i.change<0&&i.next<=i.min?(i.change*=-1,i.next=i.min,i.current=i.next):i.next<i.max||(i.change*=-1,i.next=i.max,i.current=i.next),i.next+=i.change;break;case 5:if(i.change<0&&i.next<=i.min){i.change*=-1,i.next+=i.change,i.current=i.min;break}i.next<i.max||(i.change*=-1,i.next+=i.change,i.current=i.max),i.next+=i.change;break;default:i.change<0?i.next>i.min?i.next+=i.change:(i.next=i.min,i.current=i.next):i.change>0&&(i.next<i.max?i.next+=i.change:(i.next=i.max,i.current=i.max))}return n?i:i.current}}}(),Boolean.andNot=function(t,n){return!t&&n},Boolean.notAnd=function(t,n){return t&&!n},Boolean.nand=function(t,n){return!(t&&n)},Boolean.orNot=function(t,n){return t||!n},Boolean.notOr=function(t,n){return!t||n},Boolean.nor=function(t,n){return!(t||n)},Boolean.xor=function(t,n){return t?!n:n},Boolean.xnor=function(t,n){return!Boolean.xor(t,n)},Boolean.all=function(t){for(var n=0;n<t.length;n++){if(1!=t[n])return!1;if(n>=t.length-1)return!0}},Boolean.nall=function(t){for(var n=0;n<t.length;n++)if(1==t[n])return!0;return!1}}("undefined"!=typeof window?window:{});
