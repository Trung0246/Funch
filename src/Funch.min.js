/*https://github.com/Trung0246/Funch/ v0.2a*/

!function(t){function n(t,n){return void 0!==t?t:n}function r(t,n){switch(t){case 0:return W(n);case 1:return X(n);case 2:return z(n);case 3:return Y(n);case 4:return n>0?z(n):X(n)}}function a(t){if(t!==X(t))return NaN;if(0>t)return NaN;if(t>170)return NaN;if(0===t||1===t)return 1;for(var n=1,r=2;t>=r;r++)n*=r;return n}function i(t,n){var r=0>t?-1:1,a=0>n?-1:1,i=0,e=1,o=1,u=0,h=void 0,c=void 0,M=void 0,f=void 0;for(t=Math.abs(t),n=Math.abs(n);0!==t;)h=X(n/t),c=n%t,M=i-o*h,f=e-u*h,n=t,t=c,i=o,e=u,o=M,u=f;S[0]=n,S[1]=r*i,S[2]=a*e}function e(){var t=A[0],n=A[1],r=A[2],a=A[3],i=(a>>>0)+(n>>>0),e=r+t+(i/2>>>31)>>>0,o=i>>>0;A[0]=r,A[1]=a;var u=0,h=0,c=0,M=0,f=23,s=4294967295<<32-f;u=t<<f|(n&s)>>>32-f,h=n<<f,t^=u,n^=h,u=t^r,h=n^a;var v=18,l=4294967295>>>32-v;c=t>>>v,M=n>>>v|(t&l)<<32-v,u^=c,h^=M;var d=5,x=4294967295>>>32-d;c=r>>>d,M=a>>>d|(r&x)<<32-d,u^=c,h^=M,A[2]=u,A[3]=h,A[4]=e,A[5]=o}function o(t){if(Number.isNaN(t)||!Number.isFinite(t))return NaN;if(0===t)return 0;if(t%1||2>t*t)return 1;if(t%2===0)return 2;if(t%3===0)return 3;if(t%5===0)return 5;for(var n=Math.sqrt(t),r=7;n>=r;r+=30){if(t%r===0)return r;if(t%(r+4)===0)return r+4;if(t%(r+6)===0)return r+6;if(t%(r+10)===0)return r+10;if(t%(r+12)===0)return r+12;if(t%(r+16)===0)return r+16;if(t%(r+22)===0)return r+22;if(t%(r+24)===0)return r+24}return t}function u(t){var n=40,r=void 0,a=void 0,i=void 0,e=void 0,o=void 0,u=void 0,h=void 0,c=void 0,M=void 0;return t*=10,r=-27*t,a=-54*t,i=n*n*n,e=n*n,o=r*r*r,u=r*r,h=(27*e*r+2*o-9*n*r*a)/(54*i),c=(3*n*a-u)/(9*e),M=Math.sqrt(h*h+c*c*c),Math.pow(-h+M,T)+Math.pow(-h-M,T)-r/(3*n)}function h(t,n,r){return Math.nCr(r,n)*Math.pow(t,n)*Math.pow(1-t,r-n)}function c(t,n){return g.distPnt(G.x,G.y,t.x,t.y,!0)-g.distPnt(G.x,G.y,n.x,n.y,!0)}function M(t,n){for(var r=t.length;;)if(n=(n+1)%r,t[n].flag)return n}function f(t,n,r){var a=t.length,i=[];n>r&&(r+=a);for(var e=n;r>=e;e++)i.push(t[e%a]);return i}function s(t,n,r,a,i,e,o,u){var h=g.distPnt(e.x,e.y,r.x,r.y,!0);if(h<u.dist){var c=1/g.distPnt(i.x,i.y,a.x,a.y,!0),M=-(i.y-a.y)*c,f=(i.x-a.x)*c,s=2*(t*M+n*f);u.dist=h,u.norm_x=M,u.norm_y=f,u.refl_x=-s*M+t,u.refl_y=-s*f+n,u.edge=o}}function v(t,n,r,a,i){var e=void 0,o=void 0,u=void 0,h=void 0,c=t.x-n.x,M=t.y-n.y,f=r.x-n.x,s=r.y-n.y;h=(c*f+M*s)/(f*f+s*s),0>h||n.x==r.x&&n.y==r.y?(e=n.x,o=n.y):h>1?(e=r.x,o=r.y):(e=n.x+h*f,o=n.y+h*s),u=g.distPnt(e,o,t.x,t.y,!0),u<i.dist&&(i.dist=u,i.edge=a,i.point_x=e,i.point_y=o)}function l(t,n,r,a,i){E.length=0,a/=i,r/=i,n/=i,t/=i;var e=void 0,o=void 0,u=void 0,h=void 0,c=a*a,M=2*r,f=4*t,s=0,v=d(4*r*t-n*n-c*t,n*a-f,-r,1),l=c*q,x=c/4-r+v,m=Math.sqrt(x),y=-a/4,g=m/2;return 0===x?(e=l-M,o=2*Math.sqrt(v*v-f),u=e+o,h=e-o):(e=l-x-M,o=(4*a*r-8*n-c*a)/(4*m),u=e+o,h=e-o),e=y+g,0>u||(o=Math.sqrt(u)/2,E[s++]=e+o,E[s++]=e-o),e=y-g,0>h||(o=Math.sqrt(h)/2,E[s++]=e+o,E[s++]=e-o),s}function d(t,n,r,a){r/=a,n/=a,t/=a;var i=r*r,e=(3*n-i)/9,o=(9*r*n-27*t-2*i*r)/54,u=e*e*e,h=u+o*o;if(h>=0){var c=Math.sqrt(h),M=Math.cbrt(o+c),f=Math.cbrt(o-c);return-r/3+M+f}return 2*Math.sqrt(-e)*Math.cos(Math.acos(o/Math.sqrt(-u))/3)-r/3}function x(t,n,r,a,i){var e=t.x-n.x,o=r.x-a.x,u=t.y-n.y,h=r.y-a.y,c=e*h-u*o;if(0===c)return null;var M=t.x*n.y-t.y*n.x,f=r.x*a.y-r.y*a.x,s=1/c;return i.x=(M*o-e*f)*s,i.y=(M*h-u*f)*s,m(i,r,a)?u>0&&i.y>t.y||0>u&&i.y<t.y?null:e>0&&i.x>t.x||0>e&&i.x<t.x?null:i:null}function m(t,n,r){var a=Math.min(n.x,r.x),i=Math.max(n.x,r.x),e=Math.min(n.y,r.y),o=Math.max(n.y,r.y);return a==i?e<=t.y&&t.y<=o:e==o?a<=t.x&&t.x<=i:!(a>t.x+1e-10||t.x-1e-10>i||e>t.y+1e-10||t.y-1e-10>o)}function y(t,n,r,a){var i=void 0,e=1e-10,o=!0,u=2===a?1:-1;if(I.length=0,V.length=0,R.length=0,"number"==typeof r||r instanceof Number||(r=10),t===u*(1/0))return NaN;for(t===u*-(1/0)&&(t=u*-Number.MAX_VALUE/10),r>10&&(e=Z(1e-32,r/32)),i=0;5>i;i++)t+=u*e,I.push(t),V.push(n(t));for(i=0;i<V.length;i++)R.push(Math.round(V[i],r));for(i=1;i<R.length;i++)o=o&&R[i-1]===R[i];return o===!0?R[0]:NaN}var g={},p={};t.Geometry||(t.Geometry=g),t.Tween||(t.Tween=p),Math.HALFPI=Math.PI/2,Math.TAU=2*Math.PI,Math.PHI=(1+Math.sqrt(5))/2,Math.SILVER=1+Math.SQRT2,Math.UPC=Math.log(1+Math.SQRT2)+Math.SQRT2;for(var P=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],b=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],N=[.9999999999999999,2.224574423459406,2.444115549920689,1.7057986861852539,.8257463703357973,.28647031042892007,.07124513844341643,.012296749268608364,.001347817214557592,7263959403471071e-20,1,3.352953590554884,5.227518529742423,5.003720878235473,3.266590890998987,1.5255421920765353,.5185887413188858,.12747319185915415,.02185979575963238,.0023889438122503674,.00012875032817508128,.5641895835477563],w=[-39.6968302866538,220.946098424521,-275.928510446969,138.357751867269,-30.6647980661472,2.50662827745924,-54.4760987982241,161.585836858041,-155.698979859887,66.8013118877197,-13.2806815528857,-.00778489400243029,-.322396458041136,-2.40075827716184,-2.54973253934373,4.37466414146497,2.93816398269878,.00778469570904146,.32246712907004,2.445134137143,3.75440866190742,.02425],L=[1/2.75,2/2.75,1.5/2.75,2.5/2.75,2.25/2.75,2.625/2.75],A=[],T=1/3,q=.75,E=[],I=[],V=[],R=[],_=[],C=[],B=[],S=[],j=Math.PI/180,O=180/Math.PI,Q=Math.sqrt(Math.PI),U=Math.sqrt(Math.TAU),k=3*Math.PI,F=Math.sqrt(3)/2,D=4/3-1,G=void 0,H=[],W=Math.round,X=Math.floor,z=Math.ceil,Y=Math.trunc,Z=Math.pow,J=Math.random,K=0;6>K;K++)H.push({x:0,y:0,flag:!1});Math.ln=Math.log,Math.log=function(t,r){return r=n(r,Math.E),Math.ln(t)/Math.ln(r)},Math.mod=function(t,n){return t-X(t/n)*n},Math.rem=function(t,n,r){if(void 0===r&&(r=n,n=0),n>r){var a=r;r=n,n=a}var i=r-n;return t=(t+n)%i-n,n>t&&(t+=i),t>r&&(t-=i),t},Math.cycle=function(t,n){return t%=n,t>0?t:t+n},Math.gamma=function(t,r){if(r=n(r,7),.5>t)return Math.PI/Math.sin(t*Math.PI)/Math.gamma(1-t);t--;for(var a=P[0],i=1;r+2>i;i++)a+=P[i]/(t+i);var e=t+r+.5;return U*Math.pow(e,t+.5)*Math.exp(-e)*a},Math.lnGamma=function(t){var n=0,r=1.000000000190015,a=void 0,i=void 0,e=void 0;for(e=(i=a=t)+5.5,e-=(a+.5)*Math.ln(e);6>n;n++)r+=b[n]/++i;return Math.ln(2.5066282746310007*r/a)-e},Math.factorial=function(t){return t++,t===X(t)?a(t-1):0>t?Math.PI/(Math.sin(Math.PI*t)*Math.gamma(1-t)):Math.exp(Math.lnGamma(t))},Math.nCr=function(t,n){for(var r=1,a=0;n>a;a++)r*=(t-a)/(a+1);return r},Math.nPr=function(t,n){for(var r=1,a=0;n>a;a++)r*=t-a;return r},Math.pow=function(t,n){return t>=0||0>t&&Number.isInteger(n)?Z(t,n):0>t&&n>=0?-Z(-t,n):NaN},Math.nthrt=function(t,n){var r=n%2===1&&0>t;r&&(t=-t);var a=Math.pow(t,1/n);return n=Math.pow(a,n),Math.abs(t-n)<1&&t>0==n>0&&r?-a:a},Math.sigmoid=function(t){return 1/(1+Math.pow(Math.E,-t))},Math.pair=function(t,n){return.5*(t+n-2)*(t+n-1)+t},Math.integral=function(t,r,a,i,e){i=n(i,1e-17),e=n(e,11);var o=Z(2,-e),u=void 0,h=void 0,c=void 0,M=void 0;for(u=0;u<20*Z(2,e)&&(h=u*o,c=Math.sinh(h),_[u]=Math.tanh(Math.HALFPI*c),C[u]=Math.PI*Math.cosh(h)/(Math.cosh(Math.PI*c)+1),Math.abs(1-_[u])>=i);u++);var f=u,s=0,v=(r-t)/2,l=(r+t)/2;for(u=1;e>u;u++)for(M=0;f>M;M+=Z(2,e-u))(M%Z(2,e-u+1)!==0||1===u)&&(0===M?s+=C[0]*a(l):(h=v*_[M],s+=C[M]*(a(l-h)+a(l+h))));return 2*v*o*s},Math.derivative=function(t,r,a,i,e){a=n(a,6),i=n(i,1e-15),e=n(e,1);var o=void 0,u=void 0,h=void 0;B[0]=(r(t+e)-r(t-e))/(2*e);for(var c=1;a-1>=c;c++){B[c]=0,o=B[0],h=e,e*=.5,B[0]=(r(t+e)-r(t-e))/h;for(var M=4,f=1;c>=f;f++,M*=4)u=B[f],B[f]=(M*B[f-1]-o)/(M-1),o=u;if(Math.abs(B[c]-B[c-1])<i)return B[c]}return NaN},Math.limit=function(t,n,r,a){"number"==typeof a||a instanceof Number||(a=10);var i=r(n);switch(t){case 1:return y(n,r,a,1);case 2:return y(n,r,a,2);default:if(!Number.isNaN(i))return i;if(!Number.isNaN(n)){if(n===1/0)return y(n,r,a,1);if(n===-(1/0))return y(n,r,a,2);var e=y(n,r,a,1),o=y(n,r,a,2);if(e===o)return e}}return NaN},Math.rational=function(t,r){r=n(r,0);var a=0,i=0,e=0,o=0,u=[t,1],h=1;do a=W(t*h),i=t-a/h,1===h&&(e=h,o=i),Math.abs(i)<Math.abs(o)&&(e=h,o=i),u[0]=W(t*e),u[1]=e,h++;while(0!==r?r>=h:u[0]/u[1]!==t);return 0===u[0]&&0===u[1]&&(u[0]=t,u[1]=1),u},Math.pdf=function(t,n,r,a){var i=r*U,e=Math.exp(-Math.pow(a-t,2)/(2*n));return e/i},Math.cdf=function(t,n,r){return.5*Math.erfc(-(r-t)/(n*Math.SQRT2))},Math.ppf=function(t,n,r){return t-n*Math.SQRT2*Math.ierfc(2*r)},Math.erf=function(t){for(var n=1,r=1,a=t,i=1;50>i;i++)n*=i,r*=-1,a+=r*Z(t,2*i+1)/(n*(2*i+1));return 2*a/Q},Math.erfc=function(t){return 1-Math.erf(t)},Math.ierf=function(t){return Math.invNorm((t+1)/2)/Math.SQRT2},Math.ierfc=function(t){return-Math.invNorm(.5*t)/Math.SQRT2},Math.erfcx=function(t){if(0>t)return-6.1>t?2*Math.exp(t*t):2*Math.exp(t*t)-Math.erfcx(-t);if(t>50){var n=t*t;return t>5e7?N[21]/t:N[21]*(n*(n+4.5)+2)/(t*(n*(n+5)+3.75))}var r=N[0]+t*(N[1]+t*(N[2]+t*(N[3]+t*(N[4]+t*(N[5]+t*(N[6]+t*(N[7]+t*(N[8]+t*N[9])))))))),a=N[10]+t*(N[11]+t*(N[12]+t*(N[13]+t*(N[14]+t*(N[15]+t*(N[16]+t*(N[17]+t*(N[18]+t*(N[19]+t*N[20])))))))));return r/a},Math.invNorm=function(t){var n=void 0,r=void 0,a=void 0,i=void 0;return t<w[21]?(n=Math.sqrt(-2*Math.ln(t)),a=(((((w[11]*n+w[12])*n+w[13])*n+w[14])*n+w[15])*n+w[16])/((((w[17]*n+w[18])*n+w[19])*n+w[20])*n+1),i=a):(n=t-.5,r=n*n,a=(((((w[0]*r+w[1])*r+w[2])*r+w[3])*r+w[4])*r+w[5])*n/(((((w[6]*r+w[7])*r+w[8])*r+w[9])*r+w[10])*r+1),i=a-U*(.5*Math.erfcx(-a/Math.SQRT2)-Math.exp(.5*a*a)*t)),i},Math.round=function(t,n,r){return Math.adjust(0,t,n,r)},Math.floor=function(t,n,r){return Math.adjust(1,t,n,r)},Math.ceil=function(t,n,r){return Math.adjust(2,t,n,r)},Math.trunc=function(t,n,r){return Math.adjust(3,t,n,r)},Math.away=function(t,n,r){return Math.adjust(4,t,n,r)},Math.round2=function(t,n,r){return Math.adjust2(0,t,n,r)},Math.floor2=function(t,n,r){return Math.adjust2(1,t,n,r)},Math.ceil2=function(t,n,r){return Math.adjust2(2,t,n,r)},Math.trunc2=function(t,n,r){return Math.adjust2(3,t,n,r)},Math.away2=function(t,n,r){return Math.adjust2(4,t,n,r)},Math.adjust=function(t,a,i,e){i=n(i,0),e=n(e,10);var o=void 0,u=void 0;return u=Math.pow(e,i),o=r(t,a*u)/u},Math.adjust2=function(t,a,i,e){i=n(i,0),e=n(e,10);var o=void 0,u=void 0,h=void 0,c=void 0;o=n(e,10);var M=Math.abs(a);return u=10===o?Math.log10(M):2===o?Math.exp(M):Math.log(M,o),u=X(u-i+1),h=Math.pow(o,Math.abs(u)),c=0>u?r(t,a*h)/h:r(t,a/h)*h},Math.correct=function(t,r){return r=n(r,13),Math.round(t,r)===Math.round(t,r-1)?Math.round(t,r):t},Math.snap=function(t,r,a,i,e,o){return i=n(i,0),0===a?r:(r-=i,r=a*Math.adjust(t,r/a,e,o),i+r)},Math.snap2=function(t,r,a,i,e,o){return i=n(i,0),0===a?r:(r-=i,r=a*Math.adjust2(t,r/a,e,o,t),i+r)},Math.shear=function(t){return t=Math.abs(t),t-X(t)},Math.precision=function(t){if(!Number.isFinite(t))return 0;for(var n=1,r=0;W(t*n)/n!==t;)n*=10,r++;return r},Math.order=function(t){return X(Math.ln(Math.abs(t))/Math.LN10)},Math.ramp=function(t){return t>0?t:0},Math.heaviside=function(t,n){if(Number.isNaN(n))return NaN;if(n>0)return 1;if(0===n)switch(t){case 1:return 0;case 2:return 1;default:return.5}return 0},Math.haar=function(t){return.5>t&&t>=0?1:1>=t&&t>.5?-1:0},Math.rect=function(t){return t=Math.abs(t),t>.5?0:.5===t?.5:.5>t?1:NaN},Math.tri=function(t){return t=Math.abs(t),1>t?1-t:0},Math.fold=function(t,n){return t?n>0?2*n-1:2*Math.abs(n):0>n?2*Math.abs(n)-1:2*n},Math.one=function(t){return W(t)%2*2-1},Math.range=function(t,r,a,i,e,o){return o=n(o,1),i&&e?t>=r*o&&a*o>=t:i?t>=r*o&&a*o>t:e?t>r*o&&a*o>=t:t>r*o&&a*o>t},Math.compare=function(t,r,a,i,e){return e=n(e,1),i?a?r*e>=t:r*e>t:a?t>=r*e:t>r*e},Math.clamp=function(t,n,r){return n>t?t=n:t>r&&(t=r),t},Math.wrap=function(t,n,r){var a=r-n;if(0>=a)return 0;var i=(t-n)%a;return 0>i&&(i+=a),i+n},Math.map=function(t,n,r,a,i){var e=(t-n)/(r-n);return a+e*(i-a)},Math.norm=function(t,n,r){return(t-n)/(r-n)},Math.lerp=function(t,n,r){return(1-t)*n+t*r},Math.gcd=function(){if(0===arguments.length)return NaN;S[0]=arguments[0];for(var t=1;t<arguments.length;t++)i(S[0],arguments[t]);return[].concat(S)},Math.lcm=function(){if(0===arguments.length)return NaN;var t=arguments[0];S[0]=t;for(var n=1;n<arguments.length;n++)i(t,arguments[n]),t=t*arguments[n]/S[0];return t},Math.random=function(t,r,a,i,o,u){var h=void 0;return i?("number"==typeof i?A[0]=i:A[0]=0|i[0],A[1]=0|i[1],A[2]=0|i[2],A[3]=0|i[3],e(),h=2.3283064365386963e-10*A[4]+2.220446049250313e-16*(A[5]>>>12)):h=J(),t=n(t,0),r=n(r,1),t>r?h=null==o?0:o:t==r?h=null==u?t:u:(a?(t=z(t),r=X(r),h=X(h*(r-t+1))+t):h=h*(r-t)+t,h)},g.normRad=function(t){return t=g.fullRad(t),t>Math.PI&&(t-=Math.TAU),t},g.toRad=function(t){return t*j},g.fullRad=function(t){return(Math.TAU+t%Math.TAU)%Math.TAU},g.normDeg=function(t){return t=g.fullDeg(t),t>180&&(t-=360),t},g.toDeg=function(t){return t*O},g.fullDeg=function(t){return(360+t%360)%360},g.getAngle=function(t,n,r,a){return Math.atan2(a-n,r-t)},g.relfAngle=function(t,n){return 2*n-t},g.diffAngle=function(t,n){return-((t-n+k)%Math.TAU-Math.PI)},g.isBetwAngle=function(t,n,r){return t=g.fullRad(t),n=g.fullRad(n),r=g.fullRad(r),r>n?t>=n&&r>=t:t>=n||r>=t},g.colliAnglePnt=function(t,n,r,a,i,e){return g.isBetwAngle(g.getAngle(r,a,i,e),t,n)},g.distPnt=function(t,n,r,a,i){var e=void 0,o=t-r,u=n-a;return e=o*o+u*u,i&&(e=Math.sqrt(e)),e},g.polarDistPnt=function(t,n,r,a,i){var e=t*t+r*r-2*t*r*Math.cos(a-n);return i&&(e=Math.sqrt(e)),e},g.manDistPnt=function(t,n,r,a){return Math.abs(t-r)+Math.abs(n-a)},g.chevDistPnt=function(t,n,r,a){return Math.max(Math.abs(t-r),Math.abs(n-a))},g.rotPnt=function(t,n,r,a,i,e){var o=Math.sin(e),u=Math.cos(i);return r-=t,a-=n,{x:r*u-a*o+t,y:r*o+a*u+n}},g.anglePnt=function(t,n,r,a,i,e){var o=t-i,u=n-e,h=r-i,c=a-e;return Math.acos(Math.dotVec(o,u,h,c)/Math.sqrt((o*o+u*u)*(h*h+c*c)))},g.cntrPnt=function(t,n,r,a,i){var e=void 0,o=void 0,u=void 0,h=void 0,c=void 0,M=void 0;return o=g.distPnt(r,a,t,n,!0),u=(t+r)/2,h=(n+a)/2,e=Math.sqrt(i*i-Z(o/2,2)),c=e*(n-a)/o,M=e*(r-t)/o,{x1:u+c,y1:h+M,x2:u-c,y2:h-M}},g.cmpPnt=function(t,r,a,i,e){return e=n(e,1e-10),Math.abs(t-a)>e?t>a?1:-1:Math.abs(r-i)>e?r>i?1:-1:0},g.slopeLine=function(t,n,r,a){return(a-n)/(r-t)},g.stdLine=function(t,n,r,a){var i={};if(r-t===0)i.a=-1,i.b=0,i.c=t;else{var e=g.slopeLine(t,n,r,a);i.a=e,i.b=-1,i.c=-r*e+a}return i},g.distLinePnt=function(t,n,r,a,i,e,o,u){if(t)return Math.abs((i-r)*e-(a-n)*o+a*r-i*n)/g.distPnt(n,r,a,i,!0);var h=g.distPnt(n,r,a,i,!1);if(0===h)return g.distPnt(e,o,n,r,u);var c=Math.dotVec(e-n,o-r,a-n,i-r)/h;return c=Math.max(0,Math.min(1,c)),g.distPnt(e,o,n+c*(a-n),r+c*(i-r),u)},g.distLine=function(t,n,r,a,i,e,o,u,h,c){var M=g.distLinePnt(t,e,o,u,h,n,r,c),f=void 0;return M>0?(f=g.distLinePnt(t,e,o,u,h,a,i,c),f>M?M:f):0},g.intrLine=function(t,n,r,a,i,e,o,u){var h=void 0,c=void 0,M=void 0,f=void 0,s=void 0,v=void 0,l=void 0,d=void 0,x=void 0,m={x:null,y:null,onLine1:!1,onLine2:!1};return f=r-t,s=a-n,v=o-i,l=u-e,c=n-e,M=t-i,h=l*f-v*s,0===h?(Number.isNaN(g.slopeLine(v*s,f*c,f*l,s*M))&&Number.isNaN(g.slopeLine(f*l,l*M,v*s,v*c))&&(m.onLine1=g.colliLinePnt(!0,t,n,r,a,i,e)||g.colliLinePnt(!0,t,n,r,a,o,u),m.onLine2=m.onLine1),m):(d=v*c-l*M,x=f*c-s*M,c=d/h,M=x/h,m.x=t+c*f,m.y=n+c*s,0>c||c>1||(m.onLine1=!0),0>M||M>1||(m.onLine2=!0),m)},g.intrLineCirc=function(t,n,r,a,i,e,o){var u=void 0,h=void 0,c=void 0,M=void 0,f=void 0,s=void 0,v={x:null,y:null,x1:null,y1:null,x2:null,y2:null,onLine:!1,onLine1:!1,onLine2:!1};return u=g.distPnt(t,n,r,a,!0),c=(r-t)/u,M=(a-n)/u,f=c*(i-t)+M*(e-n),v.x=f*c+t,v.y=f*M+n,h=g.distPnt(v.x,v.y,i,e,!0),o>h?(s=Math.sqrt(o*o-h*h),v.x1=(f-s)*c+t,v.y1=(f-s)*M+n,v.onLine1=g.colliLinePnt(!0,t,n,r,a,v.x1,v.y1),v.x2=(f+s)*c+t,v.y2=(f+s)*M+n,v.onLine2=g.colliLinePnt(!0,t,n,r,a,v.x2,v.y2)):h===o?v.onLine=!0:(v.x=null,v.y=null),v},g.sideLine=function(t,n,r,a,i,e){return Math.crossVec(r-t,a-n,i-t,e-n)},g.onLine=function(t,n,r,a,i){var e=r-t,o=a-n,u=e*i,h=o*i;return{x:t+u,y:n+h}},g.colliLinePnt=function(t,r,a,i,e,o,u,h){h=n(h,1e-10);var c=r-o,M=a-u,f=o-i,s=u-e,v=Math.crossVec(c,M,f,s);return!(-h>v||v>h||Math.dotVec(c,M,f,s)<0&&t)},g.getXLine=function(t,n,r,a,i){var e=a-n,o=r-t;if(0===e)return null;var u=e/o,h=i-a,c=h/u,M=r+c;return M},g.getYLine=function(t,n,r,a,i){var e=a-n,o=r-t;if(0===o)return null;var u=e/o,h=i-r,c=h*u,M=a+c;return M},g.colliRayRect=function(t,n,r,a,i,e,o,u){r=1/r,a=1/a;var h=(i-t)*r,c=(o-t)*r,M=Math.min(h,c),f=Math.max(h,c);return h=(e-n)*a,c=(u-n)*a,M=Math.max(M,Math.min(h,c)),f=Math.min(f,Math.max(h,c)),f>Math.max(M,0)},g.colliArcCircPnt=function(t,n,r,a,i,e,o,u,h){var c=t-r,M=n-a;return!Math.clockWiseVec(e,o,c,M)&&Math.clockWiseVec(u,h,c,M)&&g.colliCirc(0,0,0,c,M,i)},g.colliCircPnt=function(t,r,a,i,e,o){o=n(o,1e-10);var u=g.distPnt(t,r,a,i,!1),h=e*e;return h>u?1:Math.abs(u-h)<o?0:-1},g.colliCirc=function(t,n,r,a,i,e){var o=a-t,u=i-n,h=r+e;return h*h>=o*o+u*u},g.colliCircRect=function(t,n,r,a,i,e,o){return g.distPnt(Math.clamp(t,a,e),Math.clamp(n,i,o),t,n,!1)<=r*r},g.intrCirc=function(t,n,r,a,i,e){var o=g.distPnt(t,n,a,i,!0),u=(r*r-e*e+o*o)/(2*o),h=u/o;u>r&&(u=r);var c=t+(a-t)*h,M=n+(i-n)*h,f=Math.sqrt(r*r-u*u)/o;return u=i-n,h=a-t,[c-f*u,M+f*h,c+f*u,M-f*h]},g.randomCirc=function(t,n,r,a){var i=J(),e=J(),o=void 0;return a&&i>e&&(o=e,e=i,i=o),Math.rec(t,n,e*r,Math.TAU*i/e)},g.onElli=function(t,n,r,a,i,e){var o=Math.sin(i),u=Math.sin(e);return i=Math.cos(i),e=Math.cos(e),{x:r*e*i-a*u*o+t,y:a*u*i+r*e*o+n}},g.colliElliPnt=function(t,n,r,a,i,e,o){var u=Math.cos(i),h=Math.sin(i);e-=t,o-=n;var c=u*e+h*o;return h=h*e-u*o,u=c,1>=4*u*u/(r*r)+4*h*h/(a*a)},g.intrElli=function(t,n,r,a,i,e,o,u,h,c){var M=Math.cos(i),f=Math.sin(i),s=Math.cos(c),v=Math.sin(c),d=Math.cos(i-c),x=Math.sin(i-c),m=a*(-t*M+e*M-n*f+o*f),y=u*a*d,g=a*h*x,p=r*(-n*M+o*M+t*f-e*f),P=-r*u*x,b=r*h*d,N=r*a,w=m*m,L=y*y,A=p*p,T=P*P,q=N*N,I=4*m*g,V=4*P*b,R=4*y*g,_=4*p*b,C=2*m*y,B=2*p*P,S=[],j=void 0,O=void 0,Q=void 0,U=void 0;j=l(w+C+L+A+B+T-q,I+R+_+V,2*w-2*L+4*g*g+2*A-2*T+4*b*b-2*q,I-R+_-V,w-C+L+A-B+T-q);for(var k=0;j>k;++k)O=2*Math.atan(E[k]),Q=Math.cos(O)*u,U=Math.sin(O)*h,S[2*k]=e+Q*s-U*v,S[2*k+1]=o+Q*v+U*s;return S},g.intrElliLine=function(t,n,r,a,i,e,o,u,h){var c=Math.sin(i);i=Math.cos(i);var M=a*((-t+e)*i+(-n+o)*c),f=r*((-n+o)*i+(t-e)*c),s=a*((-t+u)*i+(-n+h)*c),v=r*((-n+h)*i+(t-u)*c),l=r*a,d=M*M,x=M*s,m=f*f,y=f*v,g=d-2*x+s*s+m-2*y+v*v,p=-2*d+2*x-2*m+2*y,P=-l*l+d+m,b=p*p-4*g*P,N=void 0,w=[];if(0===b)N=-p/(2*g),w[0]=(1-N)*e+N*u,w[1]=(1-N)*o+N*h;else if(b>0){var L=Math.sqrt(b),A=0;N=(-p-L)/(2*g),w[0]=(1-N)*e+N*u,w[1]=(1-N)*o+N*h,A++,N=(-p+L)/(2*g),w[2*A]=(1-N)*e+N*u,w[2*A+1]=(1-N)*o+N*h,A++}return w},g.boundElli=function(t,n,r,a,i){var e=Math.atan(-a*Math.tan(i)/r),o=Math.atan(a*Math.cot(i)/r),u=Math.sin(i);return i=Math.cos(i),e=Math.abs(r*Math.cos(e)*i-a*Math.sin(e)*u),o=Math.abs(a*Math.sin(o)*i+r*Math.cos(o)*u),{xMin:-e+t,yMin:-o+n,xMax:e+t,yMax:o+n}},g.randomElli=function(t,n,r,a,i,e){var o=J(),u=J(),h=void 0;return e&&o>u&&(h=u,u=o,o=h),g.onElli(t,n,u*r,u*a,i,Math.TAU*o/u)},g.distElliPnt=function(t,n,r){var a=1/Math.sqrt(Math.pow(Math.sin(r)/n,2)+Math.pow(Math.cos(r)/t,2));return Number.isFinite(a)?a:0},g.centroidTri=function(t,n,r,a,i,e){return{x:(t+r+i)/3,y:(n+a+e)/3}},g.equilTri=function(t,n,r){var a=n+r*F,i=r/2;return{x1:t,y1:n,x2:t+i,y2:a,x3:t-i,y3:a}},g.rightTri=function(t,n,r,a){return{x1:t,y1:n,x2:t,y2:n-a,x3:t+r,y3:n}},g.crcmCntrTri=function(t,n,r,a,i,e){var o=void 0,u=void 0,h=void 0,c=void 0,M=void 0,f=void 0,s=void 0;return o=t-i,u=n-e,h=r-i,c=a-e,M=o*o+u*u,f=h*h+c*c,s=2*Math.crossVec(o,u,h,c),{x:i-Math.crossVec(u,M,h,f)/s,y:e+Math.crossVec(o,M,h,f)/s}},g.crcmCircTri=function(t,n,r,a,i,e){var o=r-t,u=a-n,h=i-t,c=e-n,M=o*(t+r)+u*(n+a),f=h*(t+i)+c*(n+e),s=2*(o*(e-a)-u*(i-r)),v=void 0,l=void 0,d={};return d.x=(c*M-u*f)/s,d.y=(o*f-h*M)/s,v=d.x-t,l=d.y-n,d.r=2*Math.sqrt(v*v+l*l),d},g.inCircTri=function(t,n,r,a,i,e){var o=g.distPnt(i,e,r,a,!0),u=g.distPnt(t,n,i,e,!0),h=g.distPnt(r,a,t,n,!0),c=o+u+h,M=(h+o+u)/2;return{x:(t*o+r*u+i*h)/c,y:(n*o+a*u+e*h)/c,r:Math.sqrt(M*(M-h)*(M-o)*(M-u))/M}},g.colliTriPnt=function(t,n,r,a,i,e,o,u){var h=n*i-t*e+(e-n)*o+(t-i)*u,c=t*a-n*r+(n-a)*o+(r-t)*u;if(0>h!=0>c)return!1;var M=-a*i+n*(i-r)+t*(a-e)+r*e;return 0>M&&(h=-h,c=-c,M=-M),h>0&&c>0&&M>=h+c},g.areaTri=function(t,n,r,a,i,e){return Math.abs(((i-t)*(a-n)-(r-t)*(e-n))/2)},g.randomTri=function(t,n,r,a,i,e){var o=Math.sqrt(J()),u=J(),h=1-o,c=o*(1-u),M=o*u;return{x:h*t+c*r+M*i,y:h*n+c*a+M*e}},g.colliRectPnt=function(t,n,r,a,i,e){return r-t>0&&a-n>0?!(t>i||i>r||n>e||e>a):!1},g.colliRect=function(t,n,r,a,i,e,o,u){return Math.abs(r-t)>0&&Math.abs(a-n)>0&&Math.abs(o-i)>0&&Math.abs(u-e)>0?!(i>r||e>a||t>o||n>u):!1},g.intrRect=function(t,n,r,a,i,e,o,u){return g.colliRect(t,n,r,a,i,e,o,u)?{xMin:Math.max(t,i),yMin:Math.max(n,e),xMax:Math.min(r,o),yMax:Math.min(a,u)}:null},g.randomRect=function(t,n,r,a){return{x:t+J()*Math.abs(r-t),y:n+J()*Math.abs(a-n)}},g.colliPolyPnt=function(t,n,r){for(var a=!1,i=void 0,e=void 0,o=void 0,u=void 0,h=-2,c=t.length-2;(h+=2)<t.length;c=h)i=t[h],e=t[h+1],o=t[c],u=t[c+1],(r>=e&&u>r||r>=u&&e>r)&&(o-i)*(r-e)/(u-e)+i>n&&(a=!a);return a},g.colliPolyCirc=function(t,n,r,a){if(g.colliPolyPnt(t,n,r))return!0;for(var i=2;i<t.length;i+=2)if(g.distLinePnt(!1,t[i-2],t[i-1],t[i],t[i+1],n,r,!1)<a*a)return!0;return g.distLinePnt(!1,t[t.length-2],t[t.length-1],t[0],t[1],n,r,!1)<a*a},g.colliPoly=function(t,n){var r=g.boundPoly(t),a=g.boundPoly(n),i=void 0;if(g.colliRect(r.xMin,r.yMin,r.xMax,r.yMax,a.xMin,a.yMin,a.xMax,a.yMax)){var e=t.length>n.length?t.length:n.length;for(i=0;e>i;i+=2){if(g.colliPolyPnt(n,t[i],t[i+1])&&i<=t.length)return!0;if(g.colliPolyPnt(t,n[i],n[i+1])&&i<=n.length)return!0}}return!1},g.isSimplePoly=function(t){var n=t.length>>1;if(4>n)return!0;for(var r=void 0,a=void 0,i=void 0,e=void 0,o=void 0,u=void 0,h=void 0,c=void 0,M=void 0,f=0;n>f;f++){r=t[2*f],a=t[2*f+1],f==n-1?(i=t[0],e=t[1]):(i=t[2*f+2],e=t[2*f+3]);for(var s=0;n>s;s++)if(!(Math.abs(f-s)<2||s===n-1&&0===f||f===n-1&&0===s)&&(o=t[2*s],u=t[2*s+1],s==n-1?(h=t[0],c=t[1]):(h=t[2*s+2],c=t[2*s+3]),M=g.intrLine(r,a,i,e,o,u,h,c),M.onLine1&&M.onLine2))return!1}return!0},g.isConvexPoly=function(t){if(t.length<=6)return!1;var n=g.isClockWisePoly(t),r=g.sideLine(t[t.length-3],t[t.length-2],t[0],t[1],t[2],t[3]),a=void 0;r=r>0||Math.abs(r)<0;for(var i=2;i<t.length-2;i+=2)if(a=g.sideLine(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3]),(n?a>0:0>a)!==r)return!0;return!1},g.isClockWisePoly=function(t){for(var n=0,r=0,a=void 0,i=void 0,e=void 0,o=0;o<t.length;o+=2)i=(o+2)%t.length,e=Math.atan2(t[i+1]-t[o+1],t[i]-t[o]),0===o?a=e:(e-=a,r+=g.normRad(e-n),n=e);return r+=g.normRad(-n),r>=0},g.boundPoly=function(t){for(var n=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,e=void 0,o=void 0,u=0;u<t.length;u+=2)e=t[u],o=t[u+1],n=Math.min(n,e),r=Math.min(r,o),a=Math.max(a,e),i=Math.max(i,o);return{xMin:n,yMin:r,xMax:a,yMax:i}},g.triPoly=function(t){var n=void 0,r=void 0,a=void 0,i=void 0,e=void 0,o=void 0,u=void 0,h=void 0,c=void 0,M=void 0,f=void 0,s=void 0,v=void 0,l=void 0,d=void 0,x=void 0;if(n=t.length>>1,3>n)return[].concat(t);for(r=[],a=[],i=0;n>i;i++)a.push(i);for(i=0,e=n;e>3;){if(o=a[(i+0)%e],u=a[(i+1)%e],h=a[(i+2)%e],c=t[2*o],M=t[2*o+1],f=t[2*u],s=t[2*u+1],v=t[2*h],l=t[2*h+1],d=!1,g.sideLine(c,M,f,s,v,l)>=0){d=!0;for(var m=0;e>m;m++)if(x=a[m],x!=o&&x!=u&&x!=h&&g.colliTriPnt(c,M,f,s,v,l,t[2*x],t[2*x+1])){d=!1;break}}if(d)r.push(o,u,h),a.splice((i+1)%e,1),e--,i=0;else if(i++>3*e)break}return r.push(a[0],a[1],a[2]),r},g.slicePoly=function(t,r,a,i,e,o){var u=void 0,h=void 0,s=void 0,v=void 0,l=void 0,d=void 0,x=void 0,m=void 0,y=void 0,p=void 0,P=void 0,b=void 0,N=void 0,w=void 0,L=void 0,A=void 0,T=void 0,q=void 0,E=void 0;if(o=n(o,1e-10),o*=o,g.colliPolyPnt(t,r,a)||g.colliPolyPnt(t,i,e))return[t.slice(0)];for(u={x:r,y:a,flag:!1},h={x:i,y:e,flag:!1},v=[],l=[],d=0;d<t.length;d+=2)l.push({x:t[d],y:t[d+1],flag:!1});for(d=0;d<l.length;d++)s={x:0,y:0,flag:!1},s=g.intrLine(u.x,u.y,h.x,h.y,l[d].x,l[d].y,l[(d+1)%l.length].x,l[(d+1)%l.length].y,s.x,s.y),x=v[0]||{},m=v[v.length-1]||{},s.onLine1&&s.onLine2&&(!x.onLine1&&!x.onLine2||g.distPnt(s.x,s.y,x.x,x.y,!1)>o)&&(!m.onLine1&&!m.onLine2||g.distPnt(s.x,s.y,m.x,m.y,!1)>o)&&(s.flag=!0,v.push(s),l.splice(d+1,0,s),d++);if(v.length<2)return[t.slice(0)];for(G=u,v.sort(c),q=[],E=0;v.length>0&&(y=v[0],p=v[1],P=l.indexOf(y),b=l.indexOf(p),N=!1,M(l,P)==b?N=!0:(y=v[1],p=v[0],P=l.indexOf(y),b=l.indexOf(p),M(l,P)==b&&(N=!0)),N?(E--,w=f(l,P,b),q.push(w),l=f(l,b,P),y.flag=p.flag=!1,v.splice(0,2),0===v.length&&q.push(l)):(E++,v.reverse()),1>=E););for(L=[],d=0;d<q.length;d++){A=q[d],T=[];for(var I=0;I<A.length;I++)T.push(A[I].x,A[I].y);L.push(T)}return L},g.areaPoly=function(t){for(var n=0,r=t.length,a=void 0,i=0;r>i;i+=2)r>0?(a=(i+2)%r,0>a&&(a+=r)):a=0,n+=t[i]*t[a+1]-t[i+1]*t[a];return Math.abs(n/2)},g.centroidPoly=function(t){for(var n=0,r=0,a=void 0,i=void 0,e=void 0,o=void 0,u=void 0,h=void 0,c=0;c<t.length-2;c+=2)a=t[c],e=t[c+1],i=t[c+2],o=t[c+3],u=a*o-i*e,n+=(a+i)*u,r+=(e+o)*u;return a=t[t.length-2],e=t[t.length-1],i=t[0],o=t[1],u=a*o-i*e,n+=(a+i)*u,r+=(e+o)*u,h=g.areaPoly(t),n/=6*h,r/=6*h,{x:n,y:r}},g.convexHullPoly=function(t){var n=[],r=[],a=void 0;for(t.sort(function(t,n){return t[0]==n[0]?t[1]-n[1]:t[0]-n[0]}),a=0;a<t.length;a++){for(;n.length>=2&&g.sideLine(n[n.length-2][0],n[n.length-2][1],n[n.length-1][0],n[n.length-1][1],t[a][0],t[a][1])<=0;)n.pop();n.push(t[a])}for(a=t.length-1;a>=0;a--){for(;r.length>=2&&g.sideLine(r[r.length-2][0],r[r.length-2][1],r[r.length-1][0],r[r.length-1][1],t[a][0],t[a][1])<=0;)r.pop();r.push(t[a])}return r.pop(),n.pop(),n.concat(r)},g.distPolyRay=function(t,n,r,a,i){var e=t.length-2,o=H[0],u=H[1],h=H[2],c=H[3],M=H[4],f=void 0;o.x=n,o.y=r,u.x=n+a,u.y=r+i;for(var v={dist:1/0,edge:0,norm_x:0,norm_y:0,refl_x:0,relf_y:0},l=0;e>l;l+=2)h.x=t[l],h.y=t[l+1],c.x=t[l+2],c.y=t[l+3],f=x(o,u,h,c,M),f&&s(a,i,o,h,c,M,l/2,v);return h.x=c.x,h.y=c.y,c.x=t[0],c.y=t[1],f=x(o,u,h,c,M),f&&s(a,i,o,h,c,M,t.length/2-1,v),v},g.intrPolyPnt=function(t,n,r){var a=t.length-2,i=void 0,e={dist:1/0,edge:0,point_x:0,point_y:0,norm_x:0,norm_y:0};H[0].x=n,H[0].y=r;for(var o=0;a>o;o+=2)H[2].x=t[o],H[2].y=t[o+1],H[3].x=t[o+2],H[3].y=t[o+3],v(H[0],H[2],H[3],o>>1,e);return H[2].x=H[3].x,H[2].y=H[3].y,H[3].x=t[0],H[3].y=t[1],v(H[0],H[2],H[3],a>>1,e),i=1/e.dist,e.norm_x=(n-e.point_x)*i,e.norm_y=(r-e.point_y)*i,e},g.reversePoly=function(t){for(var n=[],r=t.length-2;r>=0;r-=2)n.push(t[r],t[r+1]);return n},g.timeAccel=function(t,n,r){return(n-t)/r},g.accelAccel=function(t,n,r){return(n-t)/r},g.distAccel=function(t,n,r){return(n*n-t*t)/(2*r)},g.timeDistAccel=function(t,n,r){var a=t*t-4*r*-n*.5;if(0>a)return-1;var i=Math.sqrt(a);return Math.abs(Math.max((-t+i)/r,(-t-i)/r))},Math.pol=function(t,n){return{angle:g.getAngle(0,0,t,n),radial:g.distPnt(0,0,t,n,!0)}},Math.rec=function(t,n,r,a){return{x:Math.cos(a)*r+t,y:Math.sin(a)*r+n}},Math.normVec=function(t,n){var r=Math.magVec(t,n,!0);return{x:t/r,y:n/r}},Math.scaleVec=function(t,n,r){return{x:t*r,y:n*r}},Math.truncVec=function(t,n,r){var a=r/Math.magVec(t,n);return a=1>a?a:1,Math.scaleVec(t,n,a)},Math.magVec=function(t,n,r){var a=Math.dotVec(t,n,t,n);return r?Math.sqrt(a):a},Math.dotVec=function(t,n,r,a){return t*r+n*a},Math.crossVec=function(t,n,r,a){return t*a-n*r},Math.projVec=function(t,n,r,a){return Math.scaleVec(r,a,Math.dotVec(t,n,r,a)/Math.magVec(r,a,!1))},Math.rejVec=function(t,n,r,a){var i=Math.projVec(t,n,r,a);return{x:t-i.x,y:n-i.y}},Math.perVec=function(t,n){return{x1:-n,y1:t,x2:n,y2:-t}},Math.lerpVec=function(t,n,r,a,i){return{x:(r-t)*i+t,y:(a-n)*i+n}},Math.headVec=function(t,n){return-Math.atan2(-n,t)},Math.revVec=function(t,n){return{x:-t,y:-n}},Math.clockWiseVec=function(t,n,r,a){return-t*a+n*r>0},Math.sinc=function(t){return Number.isNaN(t)?NaN:Number.isFinite(t)?0===t?1:Math.sin(t*Math.PI)/(t*Math.PI):0},Math.crd=function(t){return 2*Math.sin(t/2)},Math.exsec=function(t){return Math.sec(t)-1},Math.excsc=function(t){return Math.csc(t)-1},Math.aexsec=function(t){return Math.asec(t+1)},Math.aexcsc=function(t){return Math.acsc(t+1)},Math.vsin=function(t){return 1-Math.cos(t)},Math.vcos=function(t){return 1+Math.cos(t)},Math.cvsin=function(t){return 1-Math.sin(t)},Math.cvcos=function(t){return 1+Math.sin(t)},Math.hvsin=function(t){return Math.vsin(t)/2},Math.hvcos=function(t){return Math.vcos(t)/2},Math.hcvsin=function(t){return Math.cvsin(t)/2},Math.hcvcos=function(t){return Math.cvcos(t)/2},Math.avsin=function(t){return Math.acos(1-t)},Math.avcos=function(t){return Math.acos(1+t)},Math.acvsin=function(t){return Math.asin(1-t)},Math.acvcos=function(t){return Math.asin(1+t)},Math.ahvsin=function(t){return 2*Math.asin(Math.sqrt(t))},Math.ahvcos=function(t){return 2*Math.acos(Math.sqrt(t))},Math.csc=function(t){return 1/Math.sin(t)},Math.csch=function(t){return 1/Math.sinh(t)},Math.sec=function(t){return 1/Math.cos(t)},Math.sech=function(t){return 1/Math.cosh(t)},Math.cot=function(t){return 1/Math.tan(t)},Math.coth=function(t){return 1/Math.tanh(t)},Math.acsc=function(t){return 1/Math.asin(t)},Math.acsch=function(t){return 1/Math.asinh(t)},Math.asec=function(t){return 1/Math.acos(t)},Math.asech=function(t){return 1/Math.acosh(t)},Math.acot=function(t){return 1/Math.atan(t)},Math.acoth=function(t){return 1/Math.atanh(t)},Math.sincos=function(t){var n=Math.sin(t);return[Math.sqrt(1-n*n),n]},Number.isPrime=function(t){return Number.isNaN(t)||!Number.isFinite(t)||2>t?!1:t==o(t)?!0:!1},Number.isMinusZero=function(t){return 1/t===-(1/0)},Number.isPower=function(t,r,a){a=n(a,Math.precision(r));var i=Math.ln(Math.abs(t))/Math.ln(Math.abs(r));return 0>t&&0>r||t>0&&r>0?Math.trunc(i,a)===i:t>0&&0>r?Math.trunc(i,a)%2===0:!1},Number.isEven=function(t){return Number.isInteger(t)&&0===(1&t)},Number.isNumeric=function(t){return!("[object Array]"===Object.prototype.toString.call(t)||t-parseFloat(t)+1<0)},Number.epsilon=function(){return Number.EPSILON?Number.EPSILON:Math.abs(1-3*D)},p.inQuad=function(t){return t*t},p.outQuad=function(t){return t*(2-t)},p.inOutQuad=function(t){return.5>t?2*t*t:-1+(4-2*t)*t},p.inCubic=function(t){return Math.pow(t,3)},p.outCubic=function(t){return(t-=1)*t*t+1},p.inOutCubic=function(t){return.5>t?4*Math.pow(t,3):(t-1)*Math.pow(2*t-2,2)+1},p.inQuart=function(t){return Math.pow(t,4)},p.outQuart=function(t){return 1-(t-=1)*Math.pow(t,3)},p.inOutQuart=function(t){return.5>t?8*Math.pow(t,4):1-8*(t-=1)*Math.pow(t,3)},p.inQuint=function(t){return Math.pow(t,5)},p.outQuint=function(t){return 1+(t-=1)*Math.pow(t,4)},p.inOutQuint=function(t){return.5>t?16*Math.pow(t,5):1+16*(t-=1)*Math.pow(t,4)},p.inPow=function(t,n){return Math.pow(t,n)},p.outPow=function(t,n){var r=Number.isEven(n-1)?1:-1;return 1+(t-=1)*Math.pow(t,n-1)*r},p.inOutPow=function(t,n){var r=Math.pow(2,n-1),a=Number.isEven(n-1)?1:-1;return.5>t?r*Math.pow(t,n):1+r*(t-=1)*Math.pow(t,n-1)*a},p.inSine=function(t,n){return-Math.pow(Math.cos(t*Math.HALFPI),n)+1},p.outSine=function(t,n){return Math.pow(Math.sin(t*Math.HALFPI),n)},p.inOutSine=function(t,n){return(t*=2)<1?-.5*Math.pow(Math.cos(Math.PI*t),n)+.5:.5*Math.pow(Math.cos(Math.PI*(t-1)),n)+.5},p.inExpo=function(t){return 0===t?0:Math.pow(2,10*(t-1))},p.outExpo=function(t){return 1===t?1:-Math.pow(2,-10*t)+1},p.inOutExpo=function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*(t-=1))+2)},p.inCirc=function(t){return-(Math.sqrt(1-t*t)-1)},p.outCirc=function(t){return Math.sqrt(1-(t-=1)*t)},p.inOutCirc=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},p.inElastic=function(t,r,a){var i=void 0;return r=n(r,.1),a=n(a,.1),0===t?0:1===t?1:(1>r?(r=1,i=a/4):i=a*Math.asin(1/r)/Math.TAU,-(r*Math.pow(2,10*(t-=1))*Math.sin((t-i)*Math.TAU/a)))},p.outElastic=function(t,r,a){var i=void 0;return r=n(r,.1),a=n(a,.1),0===t?0:1===t?1:(1>r?(r=1,i=a/4):i=a*Math.asin(1/r)/Math.TAU,r*Math.pow(2,-10*t)*Math.sin((t-i)*Math.TAU/a)+1)},p.inOutElastic=function(t,r,a){var i=void 0;return r=n(r,.1),a=n(a,.1),0===t?0:1===t?1:(1>r?(r=1,i=a/4):i=a*Math.asin(1/r)/Math.TAU,(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-i)*Math.TAU/a)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-i)*Math.TAU/a)*.5+1)},p.inBack=function(t,n){return n=void 0==n?1.70158:u(n),1*t*t*((n+1)*t-n)},p.outBack=function(t,n){return n=void 0==n?1.70158:u(n),1*((t-=1)*t*((n+1)*t+n)+1)},p.inOutBack=function(t,n){return n=void 0==n?1.70158:u(n),(t*=2)<1?.5*(t*t*(((n*=1.525)+1)*t-n)):.5*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)},p.inBounce=function(t){return 1-this.outBounce(1-t)},p.outBounce=function(t){return t<L[0]?7.5625*t*t:t<L[1]?7.5625*(t-=L[2])*t+.75:t<L[3]?7.5625*(t-=L[4])*t+.9375:7.5625*(t-=L[5])*t+.984375},p.inOutBounce=function(t){return.5>t?.5*this.inBounce(2*t):.5*this.outBounce(2*t-1)+.5},p.smoothStep=function(t,n){if(0>n)return 0;switch(n){case 1:return Z(t,2)*(3-2*t);case 2:return Z(t,3)*(t*(6*t-15)+10);case 3:return Z(t,4)*(35+t*(-84+(70-20*t)*t));case 4:return Z(t,5)*(126+5*t*(-84+t*(108+7*t*(-9+2*t))));case 5:return Z(t,6)*(462+t*(-1980-7*t*(-495+2*t*(220+9*t*(-11+2*t)))));case 6:return Z(t,7)*(1716+7*t*(-1287+2*t*(1430+3*t*(-572+t*(390+11*t*(-13+2*t))))));default:for(var r=0,a=0;n>=a;a++)r+=Math.nCr(-n-1,a)*Math.nCr(2*n+1,n-a)*Math.pow(t,n+a+1);return r}},p.overShoot=function(t,n){return t=p.outQuad(t),t*(1+Math.sin(t*Math.PI)*n)},p.curve=function(t,n){for(var r=0,a=void 0,i=0;i<n.length;i+=2){a=1;for(var e=0;e<n.length;e+=2)e!==i&&(a*=(t-n[e])/(n[i]-n[e]));r+=n[i+1]*a}return r},p.bezier=function(t,n,r){for(var a=0,i=0,e=0,o=0,u=n.length,c=0;u>c;c++)i=h(t,c,u-1)*r[c],a=i*n[c],e+=a,o+=i;return e/o},p.spline=function(t,n,r,a,i,e){var o=[],u=void 0,h=void 0,c=void 0,M=void 0,f=void 0,s=void 0,v=void 0,l=void 0,d=void 0,x=void 0,m=void 0;for(i=e?[].concat(i[i.length-2],i[i.length-1],i,i[0],i[1],i[2],i[3]):[].concat(i[i.length-2],i[i.length-1],i,i[0],i[1]),u=(1-r)*(1+n)*(1-t)*.5,h=(1-r)*(1-n)*(1+t)*.5,c=(1-r)*(1+n)*(1+t)*.5,M=(1-r)*(1-n)*(1-t)*.5,d=2;d<i.length-2;)f=i[d]-i[d-2],s=i[d+1]-i[d-1],v=i[d+2]-i[d],l=i[d+3]-i[d+1],o.push(u*f+h*v,u*s+h*l,c*f+M*v,c*s+M*l),d+=2;for(d=2,m=[];d<i.length-4;){for(m.push(i[d],i[d+1]),x=a;1>x;)v=x*x,l=2*x,u=(l-3)*v+1,c=(3-l)*v,l=x-1,h=l*l*x,M=l*v,f=u*i[d]+h*o[2*d-2]+c*i[d+2]+M*o[2*d],s=u*i[d+1]+h*o[2*d-1]+c*i[d+3]+M*o[2*d+1],m.push(f,s),x+=a;m.push(i[d+2],i[d+3]),d+=2}return m},p.count=function(){var t=void 0;return function(r,a,i,e,o){e||(e=r);var u={min:r,max:a,change:i,next:e,current:e,mode:o};return u.change<0?u.next=n(u.next,u.max):u.change>0&&(u.next=n(u.next,u.min)),function(n,r,a,i,e,o){switch("number"==typeof r&&(u.min=r),"number"==typeof a&&(u.max=a),"number"==typeof i&&(u.change=i),"number"==typeof e&&(u.next=e),"number"==typeof o&&(u.mode=o),u.current=u.next,u.mode){case 1:u.next+=u.change,u.change<0&&u.next<u.min?u.next+=u.max-u.min:u.change>0&&u.next>u.max&&(u.next-=u.max-u.min);break;case 2:u.change<0?u.next>u.min?(u.next+=u.change,u.next<u.min&&(u.next=u.min)):u.next=u.max:u.change>0&&(u.next<u.max?(u.next+=u.change,u.next>u.max&&(u.next=u.max)):u.next=u.min);break;case 3:u.change<0&&u.next<u.min?(u.change*=-1,t=u.min-u.next,u.next=u.min,u.next+=u.change-(u.change-t),u.current=u.next):u.next>u.max&&(u.change*=-1,t=u.max-u.next,u.next=u.max,u.next+=u.change-(u.change-t),u.current=u.next),u.next+=u.change;break;case 4:u.change<0&&u.next<=u.min?(u.change*=-1,u.next=u.min,u.current=u.next):u.next<u.max||(u.change*=-1,u.next=u.max,u.current=u.next),u.next+=u.change;break;case 5:if(u.change<0&&u.next<=u.min){u.change*=-1,u.next+=u.change,u.current=u.min;break}u.next<u.max||(u.change*=-1,u.next+=u.change,u.current=u.max),u.next+=u.change;break;default:u.change<0?u.next>u.min?u.next+=u.change:(u.next=u.min,u.current=u.next):u.change>0&&(u.next<u.max?u.next+=u.change:(u.next=u.max,u.current=u.max))}return n?u:u.current}}}(),Boolean.andNot=function(t,n){return!t&&n},Boolean.notAnd=function(t,n){return t&&!n},Boolean.nand=function(t,n){return!(t&&n)},Boolean.orNot=function(t,n){return t||!n},Boolean.notOr=function(t,n){return!t||n},Boolean.nor=function(t,n){return!(t||n)},Boolean.xor=function(t,n){return t?!n:n},Boolean.xnor=function(t,n){return!Boolean.xor(t,n)},Boolean.all=function(t){for(var n=0;n<t.length;n++){if(1!=t[n])return!1;if(n>=t.length-1)return!0}},Boolean.nall=function(t){for(var n=0;n<t.length;n++)if(1==t[n])return!0;return!1}}("undefined"!=typeof window?window:{});
