/*https://github.com/Trung0246/Funch/ v0.3a*/

!function(t){"use strict";function n(t,n){return void 0!==t?t:n}function r(t,n){switch(t){case 0:return Y(n);case 1:return Z(n);case 2:return J(n);case 3:return K(n);case 4:return n>0?J(n):Z(n)}}function a(t){if(t!==Z(t))return NaN;if(0>t)return NaN;if(t>170)return NaN;if(0===t||1===t)return 1;for(var n=1,r=2;t>=r;r++)n*=r;return n}function e(t,n){var r=0>t?-1:1,a=0>n?-1:1,e=0,i=1,o=1,u=0,h=void 0,c=void 0,M=void 0,f=void 0;for(t=Math.abs(t),n=Math.abs(n);0!==t;)h=Z(n/t),c=n%t,M=e-o*h,f=i-u*h,n=t,t=c,e=o,i=u,o=M,u=f;j[0]=n,j[1]=r*e,j[2]=a*i}function i(){var t=E[0],n=E[1],r=E[2],a=E[3],e=(a>>>0)+(n>>>0),i=r+t+(e/2>>>31)>>>0,o=e>>>0;E[0]=r,E[1]=a;var u=0,h=0,c=0,M=0,f=23,s=4294967295<<32-f;u=t<<f|(n&s)>>>32-f,h=n<<f,t^=u,n^=h,u=t^r,h=n^a;var l=18,v=4294967295>>>32-l;c=t>>>l,M=n>>>l|(t&v)<<32-l,u^=c,h^=M;var d=5,x=4294967295>>>32-d;c=r>>>d,M=a>>>d|(r&x)<<32-d,u^=c,h^=M,E[2]=u,E[3]=h,E[5]=i,E[6]=o}function o(){var t=arguments[2],n=arguments.length-1,r=void 0,a=void 0,e=void 0;for(e=0;n>e;e++)a=0|arguments[e],a=(65535&a)*N[0]+(((a>>>16)*N[0]&65535)<<16)&4294967295,a=a<<15|a>>>17,a=(65535&a)*N[1]+(((a>>>16)*N[1]&65535)<<16)&4294967295,t^=a,t=t<<13|t>>>19,r=5*(65535&t)+((5*(t>>>16)&65535)<<16)&4294967295,t=(65535&r)+27492+(((r>>>16)+58964&65535)<<16);return t^=n,t^=t>>>16,t=2246822507*(65535&t)+((2246822507*(t>>>16)&65535)<<16)&4294967295,t^=t>>>13,t=3266489909*(65535&t)+((3266489909*(t>>>16)&65535)<<16)&4294967295,t^=t>>>16,(t>>>0)/N[2]}function u(t){if(Number.isNaN(t)||!Number.isFinite(t))return NaN;if(0===t)return 0;if(t%1||2>t*t)return 1;if(t%2===0)return 2;if(t%3===0)return 3;if(t%5===0)return 5;for(var n=Math.sqrt(t),r=7;n>=r;r+=30){if(t%r===0)return r;if(t%(r+4)===0)return r+4;if(t%(r+6)===0)return r+6;if(t%(r+10)===0)return r+10;if(t%(r+12)===0)return r+12;if(t%(r+16)===0)return r+16;if(t%(r+22)===0)return r+22;if(t%(r+24)===0)return r+24}return t}function h(t){var n=40,r=void 0,a=void 0,e=void 0,i=void 0,o=void 0,u=void 0,h=void 0,c=void 0,M=void 0;return t*=10,r=-27*t,a=-54*t,e=n*n*n,i=n*n,o=r*r*r,u=r*r,h=(27*i*r+2*o-9*n*r*a)/(54*e),c=(3*n*a-u)/(9*i),M=Math.sqrt(h*h+c*c*c),Math.pow(-h+M,O)+Math.pow(-h-M,O)-r/(3*n)}function c(t,n,r){return Math.nCr(r,n)*Math.pow(t,n)*Math.pow(1-t,r-n)}function M(t,n){return b.distPnt(X.x,X.y,t.x,t.y,!0)-b.distPnt(X.x,X.y,n.x,n.y,!0)}function f(t,n){for(var r=t.length;;)if(n=(n+1)%r,t[n].flag)return n}function s(t,n,r){var a=t.length,e=[];n>r&&(r+=a);for(var i=n;r>=i;i++)e.push(t[i%a]);return e}function l(t,n,r,a,e,i,o,u){var h=b.distPnt(i.x,i.y,r.x,r.y,!0);if(h<u.dist){var c=1/b.distPnt(e.x,e.y,a.x,a.y,!0),M=-(e.y-a.y)*c,f=(e.x-a.x)*c,s=2*(t*M+n*f);u.dist=h,u.norm_x=M,u.norm_y=f,u.refl_x=-s*M+t,u.refl_y=-s*f+n,u.edge=o}}function v(t,n,r,a,e){var i=void 0,o=void 0,u=void 0,h=void 0,c=t.x-n.x,M=t.y-n.y,f=r.x-n.x,s=r.y-n.y;h=(c*f+M*s)/(f*f+s*s),0>h||n.x==r.x&&n.y==r.y?(i=n.x,o=n.y):h>1?(i=r.x,o=r.y):(i=n.x+h*f,o=n.y+h*s),u=b.distPnt(i,o,t.x,t.y,!0),u<e.dist&&(e.dist=u,e.edge=a,e.point_x=i,e.point_y=o)}function d(t,n,r,a,e){I.length=0,a/=e,r/=e,n/=e,t/=e;var i=void 0,o=void 0,u=void 0,h=void 0,c=a*a,M=2*r,f=4*t,s=0,l=x(4*r*t-n*n-c*t,n*a-f,-r,1),v=c*Q,d=c/4-r+l,m=Math.sqrt(d),y=-a/4,g=m/2;return 0===d?(i=v-M,o=2*Math.sqrt(l*l-f),u=i+o,h=i-o):(i=v-d-M,o=(4*a*r-8*n-c*a)/(4*m),u=i+o,h=i-o),i=y+g,0>u||(o=Math.sqrt(u)/2,I[s++]=i+o,I[s++]=i-o),i=y-g,0>h||(o=Math.sqrt(h)/2,I[s++]=i+o,I[s++]=i-o),s}function x(t,n,r,a){r/=a,n/=a,t/=a;var e=r*r,i=(3*n-e)/9,o=(9*r*n-27*t-2*e*r)/54,u=i*i*i,h=u+o*o;if(h>=0){var c=Math.sqrt(h),M=Math.cbrt(o+c),f=Math.cbrt(o-c);return-r/3+M+f}return 2*Math.sqrt(-i)*Math.cos(Math.acos(o/Math.sqrt(-u))/3)-r/3}function m(t,n,r,a,e){var i=t.x-n.x,o=r.x-a.x,u=t.y-n.y,h=r.y-a.y,c=i*h-u*o;if(0===c)return null;var M=t.x*n.y-t.y*n.x,f=r.x*a.y-r.y*a.x,s=1/c;return e.x=(M*o-i*f)*s,e.y=(M*h-u*f)*s,y(e,r,a)?u>0&&e.y>t.y||0>u&&e.y<t.y?null:i>0&&e.x>t.x||0>i&&e.x<t.x?null:e:null}function y(t,n,r){var a=Math.min(n.x,r.x),e=Math.max(n.x,r.x),i=Math.min(n.y,r.y),o=Math.max(n.y,r.y);return a==e?i<=t.y&&t.y<=o:i==o?a<=t.x&&t.x<=e:!(a>t.x+1e-10||t.x-1e-10>e||i>t.y+1e-10||t.y-1e-10>o)}function g(t,n,r,a){var e=void 0,i=1e-10,o=!0,u=2===a?1:-1;if(V.length=0,R.length=0,C.length=0,"number"==typeof r||r instanceof Number||(r=10),t===u*(1/0))return NaN;for(t===u*-(1/0)&&(t=u*-Number.MAX_VALUE/10),r>10&&(i=$(1e-32,r/32)),e=0;5>e;e++)t+=u*i,V.push(t),R.push(n(t));for(e=0;e<R.length;e++)C.push(Math.round(R[e],r));for(e=1;e<C.length;e++)o=o&&C[e-1]===C[e];return o===!0?C[0]:NaN}var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b={},P={};Math.HALFPI=Math.PI/2,Math.TAU=2*Math.PI,Math.PHI=(1+Math.sqrt(5))/2,Math.SILVER=1+Math.SQRT2,Math.UPC=Math.log(1+Math.SQRT2)+Math.SQRT2;for(var N=[3432918353,461845907,Math.pow(2,32)],w=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],L=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],A=[.9999999999999999,2.224574423459406,2.444115549920689,1.7057986861852539,.8257463703357973,.28647031042892007,.07124513844341643,.012296749268608364,.001347817214557592,7263959403471071e-20,1,3.352953590554884,5.227518529742423,5.003720878235473,3.266590890998987,1.5255421920765353,.5185887413188858,.12747319185915415,.02185979575963238,.0023889438122503674,.00012875032817508128,.5641895835477563],T=[-39.6968302866538,220.946098424521,-275.928510446969,138.357751867269,-30.6647980661472,2.50662827745924,-54.4760987982241,161.585836858041,-155.698979859887,66.8013118877197,-13.2806815528857,-.00778489400243029,-.322396458041136,-2.40075827716184,-2.54973253934373,4.37466414146497,2.93816398269878,.00778469570904146,.32246712907004,2.445134137143,3.75440866190742,.02425],q=[1/2.75,2/2.75,1.5/2.75,2.5/2.75,2.25/2.75,2.625/2.75],E=[],I=[],V=[],R=[],C=[],S=[],_=[],B=[],j=[],O=1/3,Q=.75,U=Math.PI/180,k=180/Math.PI,F=Math.sqrt(Math.PI),D=Math.sqrt(Math.TAU),G=3*Math.PI,H=Math.sqrt(3)/2,W=4/3-1,X=void 0,z=[],Y=Math.round,Z=Math.floor,J=Math.ceil,K=Math.trunc,$=Math.pow,tt=Math.random,nt=0;6>nt;nt++)z.push({x:0,y:0,flag:!1});Math.ln=Math.log,Math.log=function(t,r){return r=n(r,Math.E),Math.ln(t)/Math.ln(r)},Math.mod=function(t,n){return t-Z(t/n)*n},Math.rem=function(t,n,r){if(void 0===r&&(r=n,n=0),n>r){var a=r;r=n,n=a}var e=r-n;return t=(t+n)%e-n,n>t&&(t+=e),t>r&&(t-=e),t},Math.cycle=function(t,n){return t%=n,t>0?t:t+n},Math.gamma=function(t,r){if(r=n(r,7),.5>t)return Math.PI/Math.sin(t*Math.PI)/Math.gamma(1-t);t--;for(var a=w[0],e=1;r+2>e;e++)a+=w[e]/(t+e);var i=t+r+.5;return D*Math.pow(i,t+.5)*Math.exp(-i)*a},Math.lnGamma=function(t){var n=0,r=1.000000000190015,a=void 0,e=void 0,i=void 0;for(i=(e=a=t)+5.5,i-=(a+.5)*Math.ln(i);6>n;n++)r+=L[n]/++e;return Math.ln(2.5066282746310007*r/a)-i},Math.factorial=function(t){return t++,t===Z(t)?a(t-1):0>t?Math.PI/(Math.sin(Math.PI*t)*Math.gamma(1-t)):Math.exp(Math.lnGamma(t))},Math.nCr=function(t,n){for(var r=1,a=0;n>a;a++)r*=(t-a)/(a+1);return r},Math.nPr=function(t,n){for(var r=1,a=0;n>a;a++)r*=t-a;return r},Math.pow=function(t,n){var r=$(t,n);if(Number.isNaN(r)){var a=0>t&&0>n,e=a&&Number.isEven(n)?NaN:$(Math.abs(t),n);r=a&&e?-e:e}return r},Math.sigmoid=function(t){return 1/(1+Math.pow(Math.E,-t))},Math.pair=function(t,n){return.5*(t+n-2)*(t+n-1)+t},Math.integral=function(t,r,a,e,i){e=n(e,1e-17),i=n(i,11);var o=$(2,-i),u=void 0,h=void 0,c=void 0,M=void 0;for(u=0;u<20*$(2,i)&&(h=u*o,c=Math.sinh(h),S[u]=Math.tanh(Math.HALFPI*c),_[u]=Math.PI*Math.cosh(h)/(Math.cosh(Math.PI*c)+1),Math.abs(1-S[u])>=e);u++);var f=u,s=0,l=(r-t)/2,v=(r+t)/2;for(u=1;i>u;u++)for(M=0;f>M;M+=$(2,i-u))(M%$(2,i-u+1)!==0||1===u)&&(0===M?s+=_[0]*a(v):(h=l*S[M],s+=_[M]*(a(v-h)+a(v+h))));return 2*l*o*s},Math.derivative=function(t,r,a,e,i){a=n(a,6),e=n(e,1e-15),i=n(i,1);var o=void 0,u=void 0,h=void 0;B[0]=(r(t+i)-r(t-i))/(2*i);for(var c=1;a-1>=c;c++){B[c]=0,o=B[0],h=i,i*=.5,B[0]=(r(t+i)-r(t-i))/h;for(var M=4,f=1;c>=f;f++,M*=4)u=B[f],B[f]=(M*B[f-1]-o)/(M-1),o=u;if(Math.abs(B[c]-B[c-1])<e)return B[c]}return NaN},Math.limit=function(t,n,r,a){"number"==typeof a||a instanceof Number||(a=10);var e=r(n);switch(t){case 1:return g(n,r,a,1);case 2:return g(n,r,a,2);default:if(!Number.isNaN(e))return e;if(!Number.isNaN(n)){if(n===1/0)return g(n,r,a,1);if(n===-(1/0))return g(n,r,a,2);var i=g(n,r,a,1),o=g(n,r,a,2);if(i===o)return i}}return NaN},Math.solve=function(t,r,a,e,i){t=n(t,-100),r=n(r,100);var o=0,u=a(t);if(u*a(r)===0)return 0===u?t:r;var h=a((r+t)/2);for(e=n(e,1e-17),i=n(i,1e7);r-t>e&&i>o;){if(0>u*h)r=(r+t)/2;else if(u*h>0)t=(r+t)/2,u=a(t);else if(u*a(r)===0)return 0===u?t:r;h=a((r+t)/2),o++}return u*a(r)<0?(r+t)/2:NaN},Math.rational=function(t,r){r=n(r,0);var a=0,e=0,i=0,o=0,u=[t,1],h=1;do a=Y(t*h),e=t-a/h,1===h&&(i=h,o=e),Math.abs(e)<Math.abs(o)&&(i=h,o=e),u[0]=Y(t*i),u[1]=i,h++;while(0!==r?r>=h:u[0]/u[1]!==t);return 0===u[0]&&0===u[1]&&(u[0]=t,u[1]=1),u},Math.pdf=function(t,n,r,a){var e=r*D,i=Math.exp(-Math.pow(a-t,2)/(2*n));return i/e},Math.cdf=function(t,n,r){return.5*Math.erfc(-(r-t)/(n*Math.SQRT2))},Math.ppf=function(t,n,r){return t-n*Math.SQRT2*Math.ierfc(2*r)},Math.erf=function(t){for(var n=1,r=1,a=t,e=1;50>e;e++)n*=e,r*=-1,a+=r*$(t,2*e+1)/(n*(2*e+1));return 2*a/F},Math.erfc=function(t){return 1-Math.erf(t)},Math.ierf=function(t){return Math.iNorm((t+1)/2)/Math.SQRT2},Math.ierfc=function(t){return-Math.iNorm(.5*t)/Math.SQRT2},Math.erfcx=function(t){if(0>t)return-6.1>t?2*Math.exp(t*t):2*Math.exp(t*t)-Math.erfcx(-t);if(t>50){var n=t*t;return t>5e7?A[21]/t:A[21]*(n*(n+4.5)+2)/(t*(n*(n+5)+3.75))}var r=A[0]+t*(A[1]+t*(A[2]+t*(A[3]+t*(A[4]+t*(A[5]+t*(A[6]+t*(A[7]+t*(A[8]+t*A[9])))))))),a=A[10]+t*(A[11]+t*(A[12]+t*(A[13]+t*(A[14]+t*(A[15]+t*(A[16]+t*(A[17]+t*(A[18]+t*(A[19]+t*A[20])))))))));return r/a},Math.iNorm=function(t){var n=void 0,r=void 0,a=void 0,e=void 0;return t<T[21]?(n=Math.sqrt(-2*Math.ln(t)),a=(((((T[11]*n+T[12])*n+T[13])*n+T[14])*n+T[15])*n+T[16])/((((T[17]*n+T[18])*n+T[19])*n+T[20])*n+1),e=a):(n=t-.5,r=n*n,a=(((((T[0]*r+T[1])*r+T[2])*r+T[3])*r+T[4])*r+T[5])*n/(((((T[6]*r+T[7])*r+T[8])*r+T[9])*r+T[10])*r+1),e=a-D*(.5*Math.erfcx(-a/Math.SQRT2)-Math.exp(.5*a*a)*t)),e},Math.kelly=function(t,n){return(n*(t+1)-1)/t},Math.round=function(t,n,r){return Math.adjust(0,t,n,r)},Math.floor=function(t,n,r){return Math.adjust(1,t,n,r)},Math.ceil=function(t,n,r){return Math.adjust(2,t,n,r)},Math.trunc=function(t,n,r){return Math.adjust(3,t,n,r)},Math.away=function(t,n,r){return Math.adjust(4,t,n,r)},Math.round2=function(t,n,r){return Math.adjust2(0,t,n,r)},Math.floor2=function(t,n,r){return Math.adjust2(1,t,n,r)},Math.ceil2=function(t,n,r){return Math.adjust2(2,t,n,r)},Math.trunc2=function(t,n,r){return Math.adjust2(3,t,n,r)},Math.away2=function(t,n,r){return Math.adjust2(4,t,n,r)},Math.adjust=function(t,a,e,i){e=n(e,0),i=n(i,10);var o=void 0,u=void 0;return u=Math.pow(i,e),o=r(t,a*u)/u},Math.adjust2=function(t,a,e,i){e=n(e,0),i=n(i,10);var o=void 0,u=void 0,h=void 0,c=void 0;o=n(i,10);var M=Math.abs(a);return u=10===o?Math.log10(M):2===o?Math.exp(M):Math.log(M,o),u=Z(u-e+1),h=Math.pow(o,Math.abs(u)),c=0>u?r(t,a*h)/h:r(t,a/h)*h},Math.correct=function(t,r){return r=n(r,13),Math.round(t,r)===Math.round(t,r-1)?Math.round(t,r):t},Math.snap=function(t,r,a,e,i,o){return e=n(e,0),0===a?r:(r-=e,r=a*Math.adjust(t,r/a,i,o),e+r)},Math.snap2=function(t,r,a,e,i,o){return e=n(e,0),0===a?r:(r-=e,r=a*Math.adjust2(t,r/a,i,o,t),e+r)},Math.shear=function(t){return t=Math.abs(t),t-Z(t)},Math.precision=function(t){if(!Number.isFinite(t))return 0;for(var n=1,r=0;Y(t*n)/n!==t;)n*=10,r++;return r},Math.order=function(t){return Z(Math.ln(Math.abs(t))/Math.LN10)},Math.ramp=function(t){return t>0?t:0},Math.heaviside=function(t,n){if(Number.isNaN(n))return NaN;if(n>0)return 1;if(0===n)switch(t){case 1:return 0;case 2:return 1;default:return.5}return 0},Math.haar=function(t){return.5>t&&t>=0?1:1>=t&&t>.5?-1:0},Math.rect=function(t){return t=Math.abs(t),t>.5?0:.5===t?.5:.5>t?1:NaN},Math.tri=function(t){return t=Math.abs(t),1>t?1-t:0},Math.fold=function(t,n){return t?n>0?2*n-1:2*Math.abs(n):0>n?2*Math.abs(n)-1:2*n},Math.one=function(t){return Y(t)%2*2-1},Math.range=function(t,r,a,e,i,o){return o=n(o,1),e&&i?t>=r*o&&a*o>=t:e?t>=r*o&&a*o>t:i?t>r*o&&a*o>=t:t>r*o&&a*o>t},Math.compare=function(t,r,a,e,i){return i=n(i,1),e?a?r*i>=t:r*i>t:a?t>=r*i:t>r*i},Math.clamp=function(t,n,r){return n>t?t=n:t>r&&(t=r),t},Math.wrap=function(t,n,r){var a=r-n;if(0>=a)return 0;var e=(t-n)%a;return 0>e&&(e+=a),e+n},Math.bounce=function(t,n,r){r-=n,0>t&&(t=-t);var a=t%r,e=void 0;return J(t/r)%2===0&&(e=0===a?0:r-a),e=0===a?r:a,e+n},Math.map=function(t,n,r,a,e){var i=(t-n)/(r-n);return a+i*(e-a)},Math.norm=function(t,n,r){return(t-n)/(r-n)},Math.lerp=function(t,n,r){return(1-t)*n+t*r},Math.gcd=function(){if(0===arguments.length)return NaN;j[0]=arguments[0];for(var t=1;t<arguments.length;t++)e(j[0],arguments[t]);return[].concat(j)},Math.lcm=function(){if(0===arguments.length)return NaN;var t=arguments[0];j[0]=t;for(var n=1;n<arguments.length;n++)e(t,arguments[n]),t=t*arguments[n]/j[0];return t},Math.factor=function(t){var n=[],r=void 0;for(r=2;t>=r;r++)for(;t%r===0;)n.push(r),t/=r;return n},Math.random=function(t,r,a,e,u,h){var c=void 0;return e?("number"==typeof e?E[0]=e:E[0]=0|e[0],E[1]=0|e[1],E[2]=0|e[2],E[3]=0|e[3],E[4]=0|e[4],i(),c=o(E[5],E[6],E[4])):c=tt(),t=n(t,0),r=n(r,1),t>r?c=null==u?0:u:t==r?c=null==h?t:h:(a?(t=J(t),r=Z(r),c=Z(c*(r-t+1))+t):c=c*(r-t)+t,c)},Math.randomTri=function(t,r,a,e){a=n(a,0);var i=Math.random(0,1,!1,e),o=r-t;return i>(a-t)/o?r-Math.sqrt((1-i)*o*(r-a)):t+Math.sqrt(i*o*(a-t))},Math.randomCirc=function(t,n,r,a,e){var i=Math.random(t,n,!1,e),o=a-r;return o*=o,Math.sqrt(o-o*i*i)+r},b.normRad=function(t){return t=b.fullRad(t),t>Math.PI&&(t-=Math.TAU),t},b.toRad=function(t){return t*U},b.fullRad=function(t){return(Math.TAU+t%Math.TAU)%Math.TAU},b.normDeg=function(t){return t=b.fullDeg(t),t>180&&(t-=360),t},b.toDeg=function(t){return t*k},b.fullDeg=function(t){return(360+t%360)%360},b.getAngle=function(t,n,r,a){return Math.atan2(a-n,r-t)},b.relfAngle=function(t,n){return 2*n-t},b.diffAngle=function(t,n){return-((t-n+G)%Math.TAU-Math.PI)},b.isBetwAngle=function(t,n,r){return t=b.fullRad(t),n=b.fullRad(n),r=b.fullRad(r),r>n?t>=n&&r>=t:t>=n||r>=t},b.colliAnglePnt=function(t,n,r,a,e,i){return b.isBetwAngle(b.getAngle(r,a,e,i),t,n)},b.distPnt=function(t,n,r,a,e){var i=void 0,o=t-r,u=n-a;return i=o*o+u*u,e&&(i=Math.sqrt(i)),i},b.polarDistPnt=function(t,n,r,a,e){var i=t*t+r*r-2*t*r*Math.cos(a-n);return e&&(i=Math.sqrt(i)),i},b.manDistPnt=function(t,n,r,a){return Math.abs(t-r)+Math.abs(n-a)},b.chevDistPnt=function(t,n,r,a){return Math.max(Math.abs(t-r),Math.abs(n-a))},b.rotPnt=function(t,n,r,a,e,i){var o=Math.sin(i),u=Math.cos(e);return r-=t,a-=n,{x:r*u-a*o+t,y:r*o+a*u+n}},b.anglePnt=function(t,n,r,a,e,i){var o=t-e,u=n-i,h=r-e,c=a-i;return Math.acos(Math.dotVec(o,u,h,c)/Math.sqrt((o*o+u*u)*(h*h+c*c)))},b.cntrPnt=function(t,n,r,a,e){var i=void 0,o=void 0,u=void 0,h=void 0,c=void 0,M=void 0;return o=b.distPnt(r,a,t,n,!0),u=(t+r)/2,h=(n+a)/2,i=Math.sqrt(e*e-$(o/2,2)),c=i*(n-a)/o,M=i*(r-t)/o,{x1:u+c,y1:h+M,x2:u-c,y2:h-M}},b.cmpPnt=function(t,r,a,e,i){return i=n(i,1e-10),Math.abs(t-a)>i?t>a?1:-1:Math.abs(r-e)>i?r>e?1:-1:0},b.slopeLine=function(t,n,r,a){return(a-n)/(r-t)},b.stdLine=function(t,n,r,a){var e={};if(r-t===0)e.a=-1,e.b=0,e.c=t;else{var i=b.slopeLine(t,n,r,a);e.a=i,e.b=-1,e.c=-r*i+a}return e},b.distLinePnt=function(t,n,r,a,e,i,o,u){if(t)return Math.abs((e-r)*i-(a-n)*o+a*r-e*n)/b.distPnt(n,r,a,e,!0);var h=b.distPnt(n,r,a,e,!1);if(0===h)return b.distPnt(i,o,n,r,u);var c=Math.dotVec(i-n,o-r,a-n,e-r)/h;return c=Math.max(0,Math.min(1,c)),b.distPnt(i,o,n+c*(a-n),r+c*(e-r),u)},b.distLine=function(t,n,r,a,e,i,o,u,h,c){var M=b.distLinePnt(t,i,o,u,h,n,r,c),f=void 0;return M>0?(f=b.distLinePnt(t,i,o,u,h,a,e,c),f>M?M:f):0},b.intrLine=function(t,n,r,a,e,i,o,u){var h=void 0,c=void 0,M=void 0,f=void 0,s=void 0,l=void 0,v=void 0,d=void 0,x=void 0,m={x:null,y:null,onLine1:!1,onLine2:!1};return f=r-t,s=a-n,l=o-e,v=u-i,c=n-i,M=t-e,h=v*f-l*s,0===h?(Number.isNaN(b.slopeLine(l*s,f*c,f*v,s*M))&&Number.isNaN(b.slopeLine(f*v,v*M,l*s,l*c))&&(m.onLine1=b.colliLinePnt(!0,t,n,r,a,e,i)||b.colliLinePnt(!0,t,n,r,a,o,u),m.onLine2=m.onLine1),m):(d=l*c-v*M,x=f*c-s*M,c=d/h,M=x/h,m.x=t+c*f,m.y=n+c*s,0>c||c>1||(m.onLine1=!0),0>M||M>1||(m.onLine2=!0),m)},b.intrLineCirc=function(t,n,r,a,e,i,o){var u=void 0,h=void 0,c=void 0,M=void 0,f=void 0,s=void 0,l={x:null,y:null,x1:null,y1:null,x2:null,y2:null,onLine:!1,onLine1:!1,onLine2:!1};return u=b.distPnt(t,n,r,a,!0),c=(r-t)/u,M=(a-n)/u,f=c*(e-t)+M*(i-n),l.x=f*c+t,l.y=f*M+n,h=b.distPnt(l.x,l.y,e,i,!0),o>h?(s=Math.sqrt(o*o-h*h),l.x1=(f-s)*c+t,l.y1=(f-s)*M+n,l.onLine1=b.colliLinePnt(!0,t,n,r,a,l.x1,l.y1),l.x2=(f+s)*c+t,l.y2=(f+s)*M+n,l.onLine2=b.colliLinePnt(!0,t,n,r,a,l.x2,l.y2)):h===o?l.onLine=!0:(l.x=null,l.y=null),l},b.sideLine=function(t,n,r,a,e,i){return Math.crossVec(r-t,a-n,e-t,i-n)},b.onLine=function(t,n,r,a,e){var i=r-t,o=a-n,u=i*e,h=o*e;return{x:t+u,y:n+h}},b.colliLinePnt=function(t,r,a,e,i,o,u,h){h=n(h,1e-10);var c=r-o,M=a-u,f=o-e,s=u-i,l=Math.crossVec(c,M,f,s);return!(-h>l||l>h||Math.dotVec(c,M,f,s)<0&&t)},b.getXLine=function(t,n,r,a,e){var i=a-n,o=r-t;if(0===i)return null;var u=i/o,h=e-a,c=h/u,M=r+c;return M},b.getYLine=function(t,n,r,a,e){var i=a-n,o=r-t;if(0===o)return null;var u=i/o,h=e-r,c=h*u,M=a+c;return M},b.colliRayRect=function(t,n,r,a,e,i,o,u){r=1/r,a=1/a;var h=(e-t)*r,c=(o-t)*r,M=Math.min(h,c),f=Math.max(h,c);return h=(i-n)*a,c=(u-n)*a,M=Math.max(M,Math.min(h,c)),f=Math.min(f,Math.max(h,c)),f>Math.max(M,0)},b.colliArcCircPnt=function(t,n,r,a,e,i,o,u,h){var c=t-r,M=n-a;return!Math.clockWiseVec(i,o,c,M)&&Math.clockWiseVec(u,h,c,M)&&b.colliCirc(0,0,0,c,M,e)},b.colliCircPnt=function(t,r,a,e,i,o){o=n(o,1e-10);var u=b.distPnt(t,r,a,e,!1),h=i*i;return h>u?1:Math.abs(u-h)<o?0:-1},b.colliCirc=function(t,n,r,a,e,i){var o=a-t,u=e-n,h=r+i;return h*h>=o*o+u*u},b.colliCircRect=function(t,n,r,a,e,i,o){return b.distPnt(Math.clamp(t,a,i),Math.clamp(n,e,o),t,n,!1)<=r*r},b.intrCirc=function(t,n,r,a,e,i){var o=b.distPnt(t,n,a,e,!0),u=(r*r-i*i+o*o)/(2*o),h=u/o;if(u>r)return NaN;var c=t+(a-t)*h,M=n+(e-n)*h,f=Math.sqrt(r*r-u*u)/o;return u=e-n,h=a-t,[c-f*u,M+f*h,c+f*u,M-f*h]},b.randomCirc=function(t,n,r,a){var e=tt(),i=tt(),o=void 0;return a&&e>i&&(o=i,i=e,e=o),Math.rec(t,n,i*r,Math.TAU*e/i)},b.onElli=function(t,n,r,a,e,i){var o=Math.sin(e),u=Math.sin(i);return e=Math.cos(e),i=Math.cos(i),{x:r*i*e-a*u*o+t,y:a*u*e+r*i*o+n}},b.colliElliPnt=function(t,n,r,a,e,i,o){var u=Math.cos(e),h=Math.sin(e);i-=t,o-=n;var c=u*i+h*o;return h=h*i-u*o,u=c,1>=4*u*u/(r*r)+4*h*h/(a*a)},b.intrElli=function(t,n,r,a,e,i,o,u,h,c){var M=Math.cos(e),f=Math.sin(e),s=Math.cos(c),l=Math.sin(c),v=Math.cos(e-c),x=Math.sin(e-c),m=a*(-t*M+i*M-n*f+o*f),y=u*a*v,g=a*h*x,p=r*(-n*M+o*M+t*f-i*f),b=-r*u*x,P=r*h*v,N=r*a,w=m*m,L=y*y,A=p*p,T=b*b,q=N*N,E=4*m*g,V=4*b*P,R=4*y*g,C=4*p*P,S=2*m*y,_=2*p*b,B=[],j=void 0,O=void 0,Q=void 0,U=void 0;j=d(w+S+L+A+_+T-q,E+R+C+V,2*w-2*L+4*g*g+2*A-2*T+4*P*P-2*q,E-R+C-V,w-S+L+A-_+T-q);for(var k=0;j>k;++k)O=2*Math.atan(I[k]),Q=Math.cos(O)*u,U=Math.sin(O)*h,B[2*k]=i+Q*s-U*l,B[2*k+1]=o+Q*l+U*s;return B},b.intrElliLine=function(t,n,r,a,e,i,o,u,h){var c=Math.sin(e);e=Math.cos(e);var M=a*((-t+i)*e+(-n+o)*c),f=r*((-n+o)*e+(t-i)*c),s=a*((-t+u)*e+(-n+h)*c),l=r*((-n+h)*e+(t-u)*c),v=r*a,d=M*M,x=M*s,m=f*f,y=f*l,g=d-2*x+s*s+m-2*y+l*l,p=-2*d+2*x-2*m+2*y,b=-v*v+d+m,P=p*p-4*g*b,N=void 0,w=[];if(0===P)N=-p/(2*g),w[0]=(1-N)*i+N*u,w[1]=(1-N)*o+N*h;else if(P>0){var L=Math.sqrt(P),A=0;N=(-p-L)/(2*g),w[0]=(1-N)*i+N*u,w[1]=(1-N)*o+N*h,A++,N=(-p+L)/(2*g),w[2*A]=(1-N)*i+N*u,w[2*A+1]=(1-N)*o+N*h,A++}return w},b.boundElli=function(t,n,r,a,e){var i=Math.atan(-a*Math.tan(e)/r),o=Math.atan(a*Math.cot(e)/r),u=Math.sin(e);return e=Math.cos(e),i=Math.abs(r*Math.cos(i)*e-a*Math.sin(i)*u),o=Math.abs(a*Math.sin(o)*e+r*Math.cos(o)*u),{xMin:-i+t,yMin:-o+n,xMax:i+t,yMax:o+n}},b.randomElli=function(t,n,r,a,e,i){var o=tt(),u=tt(),h=void 0;return i&&o>u&&(h=u,u=o,o=h),b.onElli(t,n,u*r,u*a,e,Math.TAU*o/u)},b.distElliPnt=function(t,n,r){var a=1/Math.sqrt(Math.pow(Math.sin(r)/n,2)+Math.pow(Math.cos(r)/t,2));return Number.isFinite(a)?a:0},b.centroidTri=function(t,n,r,a,e,i){return{x:(t+r+e)/3,y:(n+a+i)/3}},b.equilTri=function(t,n,r){var a=n+r*H,e=r/2;return{x1:t,y1:n,x2:t+e,y2:a,x3:t-e,y3:a}},b.rightTri=function(t,n,r,a){return{x1:t,y1:n,x2:t,y2:n-a,x3:t+r,y3:n}},b.crcmCntrTri=function(t,n,r,a,e,i){var o=void 0,u=void 0,h=void 0,c=void 0,M=void 0,f=void 0,s=void 0;return o=t-e,u=n-i,h=r-e,c=a-i,M=o*o+u*u,f=h*h+c*c,s=2*Math.crossVec(o,u,h,c),{x:e-Math.crossVec(u,M,h,f)/s,y:i+Math.crossVec(o,M,h,f)/s}},b.crcmCircTri=function(t,n,r,a,e,i){var o=r-t,u=a-n,h=e-t,c=i-n,M=o*(t+r)+u*(n+a),f=h*(t+e)+c*(n+i),s=2*(o*(i-a)-u*(e-r)),l=void 0,v=void 0,d={};return d.x=(c*M-u*f)/s,d.y=(o*f-h*M)/s,l=d.x-t,v=d.y-n,d.r=2*Math.sqrt(l*l+v*v),d},b.inCircTri=function(t,n,r,a,e,i){var o=b.distPnt(e,i,r,a,!0),u=b.distPnt(t,n,e,i,!0),h=b.distPnt(r,a,t,n,!0),c=o+u+h,M=(h+o+u)/2;return{x:(t*o+r*u+e*h)/c,y:(n*o+a*u+i*h)/c,r:Math.sqrt(M*(M-h)*(M-o)*(M-u))/M}},b.colliTriPnt=function(t,n,r,a,e,i,o,u){var h=n*e-t*i+(i-n)*o+(t-e)*u,c=t*a-n*r+(n-a)*o+(r-t)*u;if(0>h!=0>c)return!1;var M=-a*e+n*(e-r)+t*(a-i)+r*i;return 0>M&&(h=-h,c=-c,M=-M),h>0&&c>0&&M>=h+c},b.areaTri=function(t,n,r,a,e,i){return Math.abs(((e-t)*(a-n)-(r-t)*(i-n))/2)},b.randomTri=function(t,n,r,a,e,i){var o=Math.sqrt(tt()),u=tt(),h=1-o,c=o*(1-u),M=o*u;return{x:h*t+c*r+M*e,y:h*n+c*a+M*i}},b.colliRectPnt=function(t,n,r,a,e,i){return r-t>0&&a-n>0?!(t>e||e>r||n>i||i>a):!1},b.colliRect=function(t,n,r,a,e,i,o,u){return Math.abs(r-t)>0&&Math.abs(a-n)>0&&Math.abs(o-e)>0&&Math.abs(u-i)>0?!(e>r||i>a||t>o||n>u):!1},b.intrRect=function(t,n,r,a,e,i,o,u){return b.colliRect(t,n,r,a,e,i,o,u)?{xMin:Math.max(t,e),yMin:Math.max(n,i),xMax:Math.min(r,o),yMax:Math.min(a,u)}:null},b.randomRect=function(t,n,r,a){return{x:t+tt()*Math.abs(r-t),y:n+tt()*Math.abs(a-n)}},b.colliPolyPnt=function(t,n,r){for(var a=!1,e=void 0,i=void 0,o=void 0,u=void 0,h=-2,c=t.length-2;(h+=2)<t.length;c=h)e=t[h],i=t[h+1],o=t[c],u=t[c+1],(r>=i&&u>r||r>=u&&i>r)&&(o-e)*(r-i)/(u-i)+e>n&&(a=!a);return a},b.colliPolyCirc=function(t,n,r,a){if(b.colliPolyPnt(t,n,r))return!0;for(var e=2;e<t.length;e+=2)if(b.distLinePnt(!1,t[e-2],t[e-1],t[e],t[e+1],n,r,!1)<a*a)return!0;return b.distLinePnt(!1,t[t.length-2],t[t.length-1],t[0],t[1],n,r,!1)<a*a},b.colliPoly=function(t,n){var r=b.boundPoly(t),a=b.boundPoly(n),e=void 0;if(b.colliRect(r.xMin,r.yMin,r.xMax,r.yMax,a.xMin,a.yMin,a.xMax,a.yMax)){var i=t.length>n.length?t.length:n.length;for(e=0;i>e;e+=2){if(b.colliPolyPnt(n,t[e],t[e+1])&&e<=t.length)return!0;if(b.colliPolyPnt(t,n[e],n[e+1])&&e<=n.length)return!0}}return!1},b.isSimplePoly=function(t){var n=t.length>>1;if(4>n)return!0;for(var r=void 0,a=void 0,e=void 0,i=void 0,o=void 0,u=void 0,h=void 0,c=void 0,M=void 0,f=0;n>f;f++){r=t[2*f],a=t[2*f+1],f==n-1?(e=t[0],i=t[1]):(e=t[2*f+2],i=t[2*f+3]);for(var s=0;n>s;s++)if(!(Math.abs(f-s)<2||s===n-1&&0===f||f===n-1&&0===s)&&(o=t[2*s],u=t[2*s+1],s==n-1?(h=t[0],c=t[1]):(h=t[2*s+2],c=t[2*s+3]),M=b.intrLine(r,a,e,i,o,u,h,c),M.onLine1&&M.onLine2))return!1}return!0},b.isConvexPoly=function(t){if(t.length<=6)return!1;var n=b.isClockWisePoly(t),r=b.sideLine(t[t.length-3],t[t.length-2],t[0],t[1],t[2],t[3]),a=void 0;r=r>0||Math.abs(r)<0;for(var e=2;e<t.length-2;e+=2)if(a=b.sideLine(t[e-2],t[e-1],t[e],t[e+1],t[e+2],t[e+3]),(n?a>0:0>a)!==r)return!0;return!1},b.isClockWisePoly=function(t){for(var n=0,r=0,a=void 0,e=void 0,i=void 0,o=0;o<t.length;o+=2)e=(o+2)%t.length,i=Math.atan2(t[e+1]-t[o+1],t[e]-t[o]),0===o?a=i:(i-=a,r+=b.normRad(i-n),n=i);return r+=b.normRad(-n),r>=0},b.boundPoly=function(t){for(var n=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER,i=void 0,o=void 0,u=0;u<t.length;u+=2)i=t[u],o=t[u+1],n=Math.min(n,i),r=Math.min(r,o),a=Math.max(a,i),e=Math.max(e,o);return{xMin:n,yMin:r,xMax:a,yMax:e}},b.triPoly=function(t){var n=void 0,r=void 0,a=void 0,e=void 0,i=void 0,o=void 0,u=void 0,h=void 0,c=void 0,M=void 0,f=void 0,s=void 0,l=void 0,v=void 0,d=void 0,x=void 0;if(n=t.length>>1,3>n)return[].concat(t);for(r=[],a=[],e=0;n>e;e++)a.push(e);for(e=0,i=n;i>3;){if(o=a[(e+0)%i],u=a[(e+1)%i],h=a[(e+2)%i],c=t[2*o],M=t[2*o+1],f=t[2*u],s=t[2*u+1],l=t[2*h],v=t[2*h+1],d=!1,b.sideLine(c,M,f,s,l,v)>=0){d=!0;for(var m=0;i>m;m++)if(x=a[m],x!=o&&x!=u&&x!=h&&b.colliTriPnt(c,M,f,s,l,v,t[2*x],t[2*x+1])){d=!1;break}}if(d)r.push(o,u,h),a.splice((e+1)%i,1),i--,e=0;else if(e++>3*i)break}return r.push(a[0],a[1],a[2]),r},b.slicePoly=function(t,r,a,e,i,o){var u=void 0,h=void 0,c=void 0,l=void 0,v=void 0,d=void 0,x=void 0,m=void 0,y=void 0,g=void 0,p=void 0,P=void 0,N=void 0,w=void 0,L=void 0,A=void 0,T=void 0,q=void 0,E=void 0;if(o=n(o,1e-10),o*=o,b.colliPolyPnt(t,r,a)||b.colliPolyPnt(t,e,i))return[t.slice(0)];for(u={x:r,y:a,flag:!1},h={x:e,y:i,flag:!1},l=[],v=[],d=0;d<t.length;d+=2)v.push({x:t[d],y:t[d+1],flag:!1});for(d=0;d<v.length;d++)c={x:0,y:0,flag:!1},c=b.intrLine(u.x,u.y,h.x,h.y,v[d].x,v[d].y,v[(d+1)%v.length].x,v[(d+1)%v.length].y,c.x,c.y),x=l[0]||{},m=l[l.length-1]||{},c.onLine1&&c.onLine2&&(!x.onLine1&&!x.onLine2||b.distPnt(c.x,c.y,x.x,x.y,!1)>o)&&(!m.onLine1&&!m.onLine2||b.distPnt(c.x,c.y,m.x,m.y,!1)>o)&&(c.flag=!0,l.push(c),v.splice(d+1,0,c),d++);if(l.length<2)return[t.slice(0)];for(X=u,l.sort(M),q=[],E=0;l.length>0&&(y=l[0],g=l[1],p=v.indexOf(y),P=v.indexOf(g),N=!1,f(v,p)==P?N=!0:(y=l[1],g=l[0],p=v.indexOf(y),P=v.indexOf(g),f(v,p)==P&&(N=!0)),N?(E--,w=s(v,p,P),q.push(w),v=s(v,P,p),y.flag=g.flag=!1,l.splice(0,2),0===l.length&&q.push(v)):(E++,l.reverse()),1>=E););for(L=[],d=0;d<q.length;d++){A=q[d],T=[];for(var I=0;I<A.length;I++)T.push(A[I].x,A[I].y);L.push(T)}return L},b.areaPoly=function(t){for(var n=0,r=t.length,a=void 0,e=0;r>e;e+=2)r>0?(a=(e+2)%r,0>a&&(a+=r)):a=0,n+=t[e]*t[a+1]-t[e+1]*t[a];return Math.abs(n/2)},b.centroidPoly=function(t){for(var n=0,r=0,a=void 0,e=void 0,i=void 0,o=void 0,u=void 0,h=void 0,c=0;c<t.length-2;c+=2)a=t[c],i=t[c+1],e=t[c+2],o=t[c+3],u=a*o-e*i,n+=(a+e)*u,r+=(i+o)*u;return a=t[t.length-2],i=t[t.length-1],e=t[0],o=t[1],u=a*o-e*i,n+=(a+e)*u,r+=(i+o)*u,h=b.areaPoly(t),n/=6*h,r/=6*h,{x:n,y:r}},b.convexHullPoly=function(t){var n=[],r=[],a=void 0;for(t.sort(function(t,n){return t[0]==n[0]?t[1]-n[1]:t[0]-n[0]}),a=0;a<t.length;a++){for(;n.length>=2&&b.sideLine(n[n.length-2][0],n[n.length-2][1],n[n.length-1][0],n[n.length-1][1],t[a][0],t[a][1])<=0;)n.pop();n.push(t[a])}for(a=t.length-1;a>=0;a--){for(;r.length>=2&&b.sideLine(r[r.length-2][0],r[r.length-2][1],r[r.length-1][0],r[r.length-1][1],t[a][0],t[a][1])<=0;)r.pop();r.push(t[a])}return r.pop(),n.pop(),n.concat(r)},b.distPolyRay=function(t,n,r,a,e){var i=t.length-2,o=z[0],u=z[1],h=z[2],c=z[3],M=z[4],f=void 0;o.x=n,o.y=r,u.x=n+a,u.y=r+e;for(var s={dist:1/0,edge:0,norm_x:0,norm_y:0,refl_x:0,relf_y:0},v=0;i>v;v+=2)h.x=t[v],h.y=t[v+1],c.x=t[v+2],c.y=t[v+3],f=m(o,u,h,c,M),f&&l(a,e,o,h,c,M,v/2,s);return h.x=c.x,h.y=c.y,c.x=t[0],c.y=t[1],f=m(o,u,h,c,M),f&&l(a,e,o,h,c,M,t.length/2-1,s),s},b.intrPolyPnt=function(t,n,r){var a=t.length-2,e=void 0,i={dist:1/0,edge:0,point_x:0,point_y:0,norm_x:0,norm_y:0};z[0].x=n,z[0].y=r;for(var o=0;a>o;o+=2)z[2].x=t[o],z[2].y=t[o+1],z[3].x=t[o+2],z[3].y=t[o+3],v(z[0],z[2],z[3],o>>1,i);return z[2].x=z[3].x,z[2].y=z[3].y,z[3].x=t[0],z[3].y=t[1],v(z[0],z[2],z[3],a>>1,i),e=1/i.dist,i.norm_x=(n-i.point_x)*e,i.norm_y=(r-i.point_y)*e,i},b.reversePoly=function(t){for(var n=[],r=t.length-2;r>=0;r-=2)n.push(t[r],t[r+1]);return n},b.timeAccel=function(t,n,r){return(n-t)/r},b.accelAccel=function(t,n,r){return(n-t)/r},b.distAccel=function(t,n,r){return(n*n-t*t)/(2*r)},b.timeDistAccel=function(t,n,r){var a=t*t-4*r*-n*.5;if(0>a)return-1;var e=Math.sqrt(a);return Math.abs(Math.max((-t+e)/r,(-t-e)/r))},Math.pol=function(t,n){return{angle:b.getAngle(0,0,t,n),radial:b.distPnt(0,0,t,n,!0)}},Math.rec=function(t,n,r,a){return{x:Math.cos(a)*r+t,y:Math.sin(a)*r+n}},Math.normVec=function(t,n){var r=Math.magVec(t,n,!0);return{x:t/r,y:n/r}},Math.scaleVec=function(t,n,r){return{x:t*r,y:n*r}},Math.truncVec=function(t,n,r){var a=r/Math.magVec(t,n);return a=1>a?a:1,Math.scaleVec(t,n,a)},Math.magVec=function(t,n,r){var a=Math.dotVec(t,n,t,n);return r?Math.sqrt(a):a},Math.dotVec=function(t,n,r,a){return t*r+n*a},Math.crossVec=function(t,n,r,a){return t*a-n*r},Math.projVec=function(t,n,r,a){return Math.scaleVec(r,a,Math.dotVec(t,n,r,a)/Math.magVec(r,a,!1))},Math.rejVec=function(t,n,r,a){var e=Math.projVec(t,n,r,a);return{x:t-e.x,y:n-e.y}},Math.perVec=function(t,n){return{x1:-n,y1:t,x2:n,y2:-t}},Math.lerpVec=function(t,n,r,a,e){return{x:(r-t)*e+t,y:(a-n)*e+n}},Math.headVec=function(t,n){return-Math.atan2(-n,t)},Math.revVec=function(t,n){return{x:-t,y:-n}},Math.clockWiseVec=function(t,n,r,a){return-t*a+n*r>0},Math.sinc=function(t){return Number.isNaN(t)?NaN:Number.isFinite(t)?0===t?1:Math.sin(t*Math.PI)/(t*Math.PI):0},Math.crd=function(t){return 2*Math.sin(t/2)},Math.exsec=function(t){return Math.sec(t)-1},Math.excsc=function(t){return Math.csc(t)-1},Math.aexsec=function(t){return Math.asec(t+1)},Math.aexcsc=function(t){return Math.acsc(t+1)},Math.vsin=function(t){return 1-Math.cos(t)},Math.vcos=function(t){return 1+Math.cos(t)},Math.cvsin=function(t){return 1-Math.sin(t)},Math.cvcos=function(t){return 1+Math.sin(t)},Math.hvsin=function(t){return Math.vsin(t)/2},Math.hvcos=function(t){return Math.vcos(t)/2},Math.hcvsin=function(t){return Math.cvsin(t)/2},Math.hcvcos=function(t){return Math.cvcos(t)/2},Math.avsin=function(t){return Math.acos(1-t)},Math.avcos=function(t){return Math.acos(1+t)},Math.acvsin=function(t){return Math.asin(1-t)},Math.acvcos=function(t){return Math.asin(1+t)},Math.ahvsin=function(t){return 2*Math.asin(Math.sqrt(t))},Math.ahvcos=function(t){return 2*Math.acos(Math.sqrt(t))},Math.csc=function(t){return 1/Math.sin(t)},Math.csch=function(t){return 1/Math.sinh(t)},Math.sec=function(t){return 1/Math.cos(t)},Math.sech=function(t){return 1/Math.cosh(t)},Math.cot=function(t){return 1/Math.tan(t)},Math.coth=function(t){return 1/Math.tanh(t)},Math.acsc=function(t){return 1/Math.asin(t)},Math.acsch=function(t){return 1/Math.asinh(t)},Math.asec=function(t){return 1/Math.acos(t)},Math.asech=function(t){return 1/Math.acosh(t)},Math.acot=function(t){return 1/Math.atan(t)},Math.acoth=function(t){return 1/Math.atanh(t)},Math.sincos=function(t){var n=Math.sin(t);return[Math.sqrt(1-n*n),n]},Number.isPrime=function(t){return Number.isNaN(t)||!Number.isFinite(t)||2>t?!1:t==u(t)?!0:!1},Number.isMinusZero=function(t){return 1/t===-(1/0)},Number.isPower=function(t,r,a){a=n(a,Math.precision(r));var e=Math.ln(Math.abs(t))/Math.ln(Math.abs(r));return 0>t&&0>r||t>0&&r>0?Math.trunc(e,a)===e:t>0&&0>r?Math.trunc(e,a)%2===0:!1},Number.isEven=function(t){return Number.isInteger(t)&&0===(1&t)},Number.isNumeric=function(t){return!("[object Array]"===Object.prototype.toString.call(t)||t-parseFloat(t)+1<0)},Number.epsilon=function(){return Number.EPSILON?Number.EPSILON:Math.abs(1-3*W)},P.inQuad=function(t){return t*t},P.outQuad=function(t){return t*(2-t)},P.inOutQuad=function(t){return.5>t?2*t*t:-1+(4-2*t)*t},P.inCubic=function(t){return Math.pow(t,3)},P.outCubic=function(t){return(t-=1)*t*t+1},P.inOutCubic=function(t){return.5>t?4*Math.pow(t,3):(t-1)*Math.pow(2*t-2,2)+1},P.inQuart=function(t){return Math.pow(t,4)},P.outQuart=function(t){return 1-(t-=1)*Math.pow(t,3)},P.inOutQuart=function(t){return.5>t?8*Math.pow(t,4):1-8*(t-=1)*Math.pow(t,3)},P.inQuint=function(t){return Math.pow(t,5)},P.outQuint=function(t){return 1+(t-=1)*Math.pow(t,4)},P.inOutQuint=function(t){return.5>t?16*Math.pow(t,5):1+16*(t-=1)*Math.pow(t,4)},P.inPow=function(t,n){return Math.pow(t,n)},P.outPow=function(t,n){var r=Number.isEven(n-1)?1:-1;return 1+(t-=1)*Math.pow(t,n-1)*r},P.inOutPow=function(t,n){var r=Math.pow(2,n-1),a=Number.isEven(n-1)?1:-1;return.5>t?r*Math.pow(t,n):1+r*(t-=1)*Math.pow(t,n-1)*a},P.inSine=function(t,n){return-Math.pow(Math.cos(t*Math.HALFPI),n)+1},P.outSine=function(t,n){return Math.pow(Math.sin(t*Math.HALFPI),n)},P.inOutSine=function(t,n){return(t*=2)<1?-.5*Math.pow(Math.cos(Math.PI*t),n)+.5:.5*Math.pow(Math.cos(Math.PI*(t-1)),n)+.5},P.inExpo=function(t){return 0===t?0:Math.pow(2,10*(t-1))},P.outExpo=function(t){return 1===t?1:-Math.pow(2,-10*t)+1},P.inOutExpo=function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*(t-=1))+2)},P.inCirc=function(t){return-(Math.sqrt(1-t*t)-1)},P.outCirc=function(t){return Math.sqrt(1-(t-=1)*t)},P.inOutCirc=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},P.inElastic=function(t,r,a){var e=void 0;return r=n(r,.1),a=n(a,.1),0===t?0:1===t?1:(1>r?(r=1,e=a/4):e=a*Math.asin(1/r)/Math.TAU,-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*Math.TAU/a)))},P.outElastic=function(t,r,a){var e=void 0;return r=n(r,.1),a=n(a,.1),0===t?0:1===t?1:(1>r?(r=1,e=a/4):e=a*Math.asin(1/r)/Math.TAU,r*Math.pow(2,-10*t)*Math.sin((t-e)*Math.TAU/a)+1)},P.inOutElastic=function(t,r,a){var e=void 0;return r=n(r,.1),a=n(a,.1),0===t?0:1===t?1:(1>r?(r=1,e=a/4):e=a*Math.asin(1/r)/Math.TAU,(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*Math.TAU/a)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*Math.TAU/a)*.5+1)},P.inBack=function(t,n){return n=void 0==n?1.70158:h(n),1*t*t*((n+1)*t-n)},P.outBack=function(t,n){return n=void 0==n?1.70158:h(n),1*((t-=1)*t*((n+1)*t+n)+1)},P.inOutBack=function(t,n){return n=void 0==n?1.70158:h(n),(t*=2)<1?.5*(t*t*(((n*=1.525)+1)*t-n)):.5*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)},P.inBounce=function(t){return 1-this.outBounce(1-t)},P.outBounce=function(t){return t<q[0]?7.5625*t*t:t<q[1]?7.5625*(t-=q[2])*t+.75:t<q[3]?7.5625*(t-=q[4])*t+.9375:7.5625*(t-=q[5])*t+.984375},P.inOutBounce=function(t){return.5>t?.5*this.inBounce(2*t):.5*this.outBounce(2*t-1)+.5},P.smoothStep=function(t,n){if(0>n)return 0;switch(n){case 1:return $(t,2)*(3-2*t);case 2:return $(t,3)*(t*(6*t-15)+10);case 3:return $(t,4)*(35+t*(-84+(70-20*t)*t));case 4:return $(t,5)*(126+5*t*(-84+t*(108+7*t*(-9+2*t))));case 5:return $(t,6)*(462+t*(-1980-7*t*(-495+2*t*(220+9*t*(-11+2*t)))));case 6:return $(t,7)*(1716+7*t*(-1287+2*t*(1430+3*t*(-572+t*(390+11*t*(-13+2*t))))));default:for(var r=0,a=0;n>=a;a++)r+=Math.nCr(-n-1,a)*Math.nCr(2*n+1,n-a)*Math.pow(t,n+a+1);return r}},P.overShoot=function(t,n){return t=P.outQuad(t),t*(1+Math.sin(t*Math.PI)*n)},P.curve=function(t,n){for(var r=0,a=void 0,e=0;e<n.length;e+=2){a=1;for(var i=0;i<n.length;i+=2)i!==e&&(a*=(t-n[i])/(n[e]-n[i]));r+=n[e+1]*a}return r},P.bezier=function(t,n,r){for(var a=0,e=0,i=0,o=0,u=n.length,h=0;u>h;h++)e=c(t,h,u-1)*r[h],a=e*n[h],i+=a,o+=e;return i/o},P.spline=function(t,n,r,a,e,i){var o=[],u=void 0,h=void 0,c=void 0,M=void 0,f=void 0,s=void 0,l=void 0,v=void 0,d=void 0,x=void 0,m=void 0;for(e=i?[].concat(e[e.length-2],e[e.length-1],e,e[0],e[1],e[2],e[3]):[].concat(e[e.length-2],e[e.length-1],e,e[0],e[1]),u=(1-r)*(1+n)*(1-t)*.5,h=(1-r)*(1-n)*(1+t)*.5,c=(1-r)*(1+n)*(1+t)*.5,M=(1-r)*(1-n)*(1-t)*.5,d=2;d<e.length-2;)f=e[d]-e[d-2],s=e[d+1]-e[d-1],l=e[d+2]-e[d],v=e[d+3]-e[d+1],o.push(u*f+h*l,u*s+h*v,c*f+M*l,c*s+M*v),d+=2;for(d=2,m=[];d<e.length-4;){for(m.push(e[d],e[d+1]),x=a;1>x;)l=x*x,v=2*x,u=(v-3)*l+1,c=(3-v)*l,v=x-1,h=v*v*x,M=v*l,f=u*e[d]+h*o[2*d-2]+c*e[d+2]+M*o[2*d],s=u*e[d+1]+h*o[2*d-1]+c*e[d+3]+M*o[2*d+1],m.push(f,s),x+=a;m.push(e[d+2],e[d+3]),d+=2}return m},P.count=function(){var t=void 0;return function(r,a,e,i,o){i||(i=r);var u={min:r,max:a,change:e,next:i,current:i,mode:o};return u.change<0?u.next=n(u.next,u.max):u.change>0&&(u.next=n(u.next,u.min)),function(n,r,a,e,i,o){switch("number"==typeof r&&(u.min=r),"number"==typeof a&&(u.max=a),"number"==typeof e&&(u.change=e),"number"==typeof i&&(u.next=i),"number"==typeof o&&(u.mode=o),u.current=u.next,u.mode){case 1:u.next+=u.change,u.change<0&&u.next<u.min?u.next+=u.max-u.min:u.change>0&&u.next>u.max&&(u.next-=u.max-u.min);break;case 2:u.change<0?u.next>u.min?(u.next+=u.change,u.next<u.min&&(u.next=u.min)):u.next=u.max:u.change>0&&(u.next<u.max?(u.next+=u.change,u.next>u.max&&(u.next=u.max)):u.next=u.min);break;case 3:u.change<0&&u.next<u.min?(u.change*=-1,t=u.min-u.next,u.next=u.min,u.next+=u.change-(u.change-t),u.current=u.next):u.next>u.max&&(u.change*=-1,t=u.max-u.next,u.next=u.max,u.next+=u.change-(u.change-t),u.current=u.next),u.next+=u.change;break;case 4:u.change<0&&u.next<=u.min?(u.change*=-1,u.next=u.min,u.current=u.next):u.next<u.max||(u.change*=-1,u.next=u.max,u.current=u.next),u.next+=u.change;break;case 5:if(u.change<0&&u.next<=u.min){u.change*=-1,u.next+=u.change,u.current=u.min;break}u.next<u.max||(u.change*=-1,u.next+=u.change,u.current=u.max),u.next+=u.change;break;default:u.change<0?u.next>u.min?u.next+=u.change:(u.next=u.min,u.current=u.next):u.change>0&&(u.next<u.max?u.next+=u.change:(u.next=u.max,u.current=u.max))}return n?u:u.current}}}(),Boolean.andNot=function(t,n){return!t&&n},Boolean.notAnd=function(t,n){return t&&!n},Boolean.nand=function(t,n){return!(t&&n)},Boolean.orNot=function(t,n){return t||!n},Boolean.notOr=function(t,n){return!t||n},Boolean.nor=function(t,n){return!(t||n)},Boolean.xor=function(t,n){return t?!n:n},Boolean.xnor=function(t,n){return!Boolean.xor(t,n)},Boolean.all=function(t){for(var n=0;n<t.length;n++){if(1!=t[n])return!1;if(n>=t.length-1)return!0}},Boolean.nall=function(t){for(var n=0;n<t.length;n++)if(1==t[n])return!0;return!1};var rt={Math:Math,Geometry:b,Tween:P,Boolean:Boolean,Number:Number};"function"==typeof define&&define.amd?define([],function(){return rt}):("object"===("undefined"==typeof module?"undefined":p(module))&&module.exports&&(module.exports=rt),t.Geometry=b,t.Tween=P)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0);
